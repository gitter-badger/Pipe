# -*- coding: utf8 -*-
'''
@auth: Maprox LLC Â© sunsay
@date: 2012.06.25
'''

import re
import socket

# ===========================================================================
# TESTS
# ===========================================================================

data = b'\x01\x17\x80\x01\n\x02w\x03868204000728070\x042\x00\x84\x90'
data2 = b'\x01\xda\x03\x042\x00\x10\xab\x03 \xb0\xafm80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A$.B\x8a\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\xaa\x03 8\xafm80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A-.B\x88\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\xa9\x03 \xc0\xaem80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A1.B\x89\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\xa8\x03 H\xaem80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A0.B\x8b\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\xa7\x03 \xd0\xadm80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A+.B\x88\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\xa6\x03 X\xadm80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A1.B\x89\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\xa5\x03 \xdf\xacm80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A*.B\x89\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\xa4\x03 g\xacm80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A&.B\x88\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\xa3\x03 \xef\xabm80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A\x1d.B\x88\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\xa2\x03 w\xabm80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A\x02A).B\x88\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\xa1\x03 \xeb\xaam80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A .B\x87\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\xa0\x03 s\xaam80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A?.B\x86\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\x9f\x03 \xfe\xa9m80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@A"A$.B\x83\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\x9e\x03 \xfb\xa9m80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@@"A6.B\x82\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\x9d\x03 \x83\xa9m80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@@"A3.B\x82\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\x9c\x03 \x0b\xa9m80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@@"A#.B\x83\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00\x042\x00\x10\x9b\x03 \xdc\xa8m80\x10\x00\x00\x00\x00\x00\x00\x00\x003\x00\x00\x00\x004\x00\x005\x00@@"A8.B\x82\x10P\x00\x00Q\x00\x00R\x00\x00S\x00\x00X\x00\x00Y\x00\x00i\x93'

# Connect to server and send data
host, port = "localhost", 21001

try:
  # Create a socket (SOCK_STREAM means a TCP socket)
  sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
  sock.connect((host, port))
  sock.send(data)
  answer = sock.recv(4096)
  sock.send(data2)
  sock.close()
except Exception as E:
  print(E)
