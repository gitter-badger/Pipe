2011.11.10 12:58:06 DEBUG: <class 'lib.storage.Storage'>::__init__()
2011.11.10 12:58:07 INFO: Protocol is loaded:  Globalsat. TR-600 
2011.11.10 12:58:07 DEBUG: <class 'kernel.dispatcher.Dispatcher'>::__init__()
2011.11.10 12:58:07 DEBUG: Starter::__init__
2011.11.10 12:58:07 DEBUG: Starter::run()
2011.11.10 12:58:07 DEBUG: Server::__init__(20100)
2011.11.10 12:58:07 DEBUG: Server::run()
2011.11.10 12:58:07 INFO: Server is started on port 20100
2011.11.10 12:58:09 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:58:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:58:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:58:09 DEBUG: Recieving...
2011.11.10 12:58:09 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,125809,E03750.8300,N5600.3180,168,22.67818574514039,30,6,1.1,14600,14470mV,0,0,0,0,0,127,0*0A!\r\n'
2011.11.10 12:58:09 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,125809,E03750.8300,N5600.3180,168,22.67818574514039,30,6,1.1,14600,14470mV,0,0,0,0,0,127,0*0A!\r\n']
2011.11.10 12:58:09 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,125809,E03750.8300,N5600.3180,168,22.67818574514039,30,6,1.1,14600,14470mV,0,0,0,0,0,127,0*0A!

2011.11.10 12:58:09 DEBUG: Raw match found.
2011.11.10 12:58:09 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:58:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:58:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:58:09 DEBUG: Recieving...
2011.11.10 12:58:09 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 168.0, 'azimuth': 30.0, 'longitude': 37.847166666666666, 'odometer': 127.0, 'satellitescount': 6, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,125809,E03750.8300,N5600.3180,168,22.67818574514039,30,6,1.1,14600,14470mV,0,0,0,0,0,127,0*0A!', 'time': '2011-11-10T12:58:09.000000', 'latitude': 56.0053, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 127.0, 'digital_input2': 0, 'speed': 42.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 42.0, 'uid': '557460032240926_888'}
2011.11.10 12:58:09 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,125809,E03116.8530,N5831.9200,29,0.0,199,3,1.1,14600,14470mV,0,0,0,0,0,11,0*3E!\r\n'
2011.11.10 12:58:09 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,125809,E03116.8530,N5831.9200,29,0.0,199,3,1.1,14600,14470mV,0,0,0,0,0,11,0*3E!\r\n']
2011.11.10 12:58:09 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:58:09 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,125809,E03116.8530,N5831.9200,29,0.0,199,3,1.1,14600,14470mV,0,0,0,0,0,11,0*3E!

2011.11.10 12:58:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:58:09 DEBUG: Raw match found.
2011.11.10 12:58:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:58:09 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 29.0, 'azimuth': 199.0, 'longitude': 31.280883333333332, 'odometer': 11.0, 'satellitescount': 3, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,125809,E03116.8530,N5831.9200,29,0.0,199,3,1.1,14600,14470mV,0,0,0,0,0,11,0*3E!', 'time': '2011-11-10T12:58:09.000000', 'latitude': 58.532, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 11.0, 'digital_input2': 0, 'speed': 0.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 0.0, 'uid': '657460032240926_888'}
2011.11.10 12:58:09 DEBUG: Recieving...
2011.11.10 12:58:09 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,125809,E03813.5100,N5556.0270,195,5.399568034557235,138,1,1.1,14600,14470mV,0,0,0,0,0,3,0*3D!\r\n'
2011.11.10 12:58:09 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,125809,E03813.5100,N5556.0270,195,5.399568034557235,138,1,1.1,14600,14470mV,0,0,0,0,0,3,0*3D!\r\n']
2011.11.10 12:58:09 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,125809,E03813.5100,N5556.0270,195,5.399568034557235,138,1,1.1,14600,14470mV,0,0,0,0,0,3,0*3D!

2011.11.10 12:58:09 DEBUG: Raw match found.
2011.11.10 12:58:09 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 195.0, 'azimuth': 138.0, 'longitude': 38.22516666666667, 'odometer': 3.0, 'satellitescount': 1, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,125809,E03813.5100,N5556.0270,195,5.399568034557235,138,1,1.1,14600,14470mV,0,0,0,0,0,3,0*3D!', 'time': '2011-11-10T12:58:09.000000', 'latitude': 55.93378333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 3.0, 'digital_input2': 0, 'speed': 10.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 10.0, 'uid': '457460032240926_888'}
2011.11.10 12:58:11 DEBUG: b'<br />\n<b>Fatal error</b>:  Call to undefined method Falcon_Model_Device::restoreConnection() in <b>D:\\Projects\\Observer\\Web\\trunk\\kernel\\controllers\\PipeController.php</b> on line <b>181</b><br />\n'
2011.11.10 12:58:11 ERROR: No JSON object could be decoded
2011.11.10 12:58:11 ERROR: <class 'lib.handlers.globalsat.tr-600.Handler'>::store():
 [{'code': '500', 'params': ['Error sending packets: No JSON object could be decoded']}]
2011.11.10 12:58:11 DEBUG: Storage::saveByUid(). 657460032240926_888
2011.11.10 12:58:11 DEBUG: b'<br />\n<b>Fatal error</b>:  Call to undefined method Falcon_Model_Device::restoreConnection() in <b>D:\\Projects\\Observer\\Web\\trunk\\kernel\\controllers\\PipeController.php</b> on line <b>181</b><br />\n'
2011.11.10 12:58:11 ERROR: No JSON object could be decoded
2011.11.10 12:58:11 ERROR: <class 'lib.handlers.globalsat.tr-600.Handler'>::store():
 [{'code': '500', 'params': ['Error sending packets: No JSON object could be decoded']}]
2011.11.10 12:58:11 DEBUG: Storage::saveByUid(). 457460032240926_888
2011.11.10 12:58:11 DEBUG: Data chunk = b''
2011.11.10 12:58:11 DEBUG: Data chunk = b''
2011.11.10 12:58:11 DEBUG: b'<br />\n<b>Fatal error</b>:  Call to undefined method Falcon_Model_Device::restoreConnection() in <b>D:\\Projects\\Observer\\Web\\trunk\\kernel\\controllers\\PipeController.php</b> on line <b>181</b><br />\n'
2011.11.10 12:58:11 ERROR: No JSON object could be decoded
2011.11.10 12:58:11 ERROR: <class 'lib.handlers.globalsat.tr-600.Handler'>::store():
 [{'code': '500', 'params': ['Error sending packets: No JSON object could be decoded']}]
2011.11.10 12:58:11 DEBUG: Storage::saveByUid(). 557460032240926_888
2011.11.10 12:58:11 DEBUG: Data chunk = b''
2011.11.10 12:58:22 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:58:22 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:58:22 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:58:22 DEBUG: Recieving...
2011.11.10 12:58:22 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,125822,E03750.8620,N5600.3410,167,25.91792656587473,39,10,1.1,14600,14470mV,0,0,0,0,0,54,0*0C!\r\n'
2011.11.10 12:58:22 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,125822,E03750.8620,N5600.3410,167,25.91792656587473,39,10,1.1,14600,14470mV,0,0,0,0,0,54,0*0C!\r\n']
2011.11.10 12:58:22 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,125822,E03750.8620,N5600.3410,167,25.91792656587473,39,10,1.1,14600,14470mV,0,0,0,0,0,54,0*0C!

2011.11.10 12:58:22 DEBUG: Raw match found.
2011.11.10 12:58:22 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 167.0, 'azimuth': 39.0, 'longitude': 37.8477, 'odometer': 54.0, 'satellitescount': 10, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,125822,E03750.8620,N5600.3410,167,25.91792656587473,39,10,1.1,14600,14470mV,0,0,0,0,0,54,0*0C!', 'time': '2011-11-10T12:58:22.000000', 'latitude': 56.00568333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 54.0, 'digital_input2': 0, 'speed': 48.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 48.0, 'uid': '557460032240926_888'}
2011.11.10 12:58:24 DEBUG: b'<br />\n<b>Fatal error</b>:  Call to undefined method Falcon_Model_Device::restoreConnection() in <b>D:\\Projects\\Observer\\Web\\trunk\\kernel\\controllers\\PipeController.php</b> on line <b>181</b><br />\n'
2011.11.10 12:58:24 ERROR: No JSON object could be decoded
2011.11.10 12:58:24 ERROR: <class 'lib.handlers.globalsat.tr-600.Handler'>::store():
 [{'code': '500', 'params': ['Error sending packets: No JSON object could be decoded']}]
2011.11.10 12:58:24 DEBUG: Storage::saveByUid(). 557460032240926_888
2011.11.10 12:58:24 DEBUG: Data chunk = b''
2011.11.10 12:58:24 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:58:24 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:58:24 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:58:24 DEBUG: Recieving...
2011.11.10 12:58:24 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,125824,E03813.5190,N5556.0210,191,9.1792656587473,137,2,1.1,14600,14470mV,0,0,0,0,0,14,0*01!\r\n'
2011.11.10 12:58:24 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,125824,E03813.5190,N5556.0210,191,9.1792656587473,137,2,1.1,14600,14470mV,0,0,0,0,0,14,0*01!\r\n']
2011.11.10 12:58:24 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,125824,E03813.5190,N5556.0210,191,9.1792656587473,137,2,1.1,14600,14470mV,0,0,0,0,0,14,0*01!

2011.11.10 12:58:24 DEBUG: Raw match found.
2011.11.10 12:58:24 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 191.0, 'azimuth': 137.0, 'longitude': 38.225316666666664, 'odometer': 14.0, 'satellitescount': 2, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,125824,E03813.5190,N5556.0210,191,9.1792656587473,137,2,1.1,14600,14470mV,0,0,0,0,0,14,0*01!', 'time': '2011-11-10T12:58:24.000000', 'latitude': 55.933683333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 14.0, 'digital_input2': 0, 'speed': 17.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 17.0, 'uid': '457460032240926_888'}
2011.11.10 12:58:26 DEBUG: b'<br />\n<b>Fatal error</b>:  Call to undefined method Falcon_Model_Device::restoreConnection() in <b>D:\\Projects\\Observer\\Web\\trunk\\kernel\\controllers\\PipeController.php</b> on line <b>181</b><br />\n'
2011.11.10 12:58:26 ERROR: No JSON object could be decoded
2011.11.10 12:58:26 ERROR: <class 'lib.handlers.globalsat.tr-600.Handler'>::store():
 [{'code': '500', 'params': ['Error sending packets: No JSON object could be decoded']}]
2011.11.10 12:58:26 DEBUG: Storage::saveByUid(). 457460032240926_888
2011.11.10 12:58:26 DEBUG: Data chunk = b''
2011.11.10 12:58:29 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:58:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:58:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:58:29 DEBUG: Recieving...
2011.11.10 12:58:29 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,125829,E03116.8420,N5831.9190,28,3.239740820734341,262,8,1.1,14600,14470mV,0,0,0,0,0,11,0*3F!\r\n'
2011.11.10 12:58:29 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,125829,E03116.8420,N5831.9190,28,3.239740820734341,262,8,1.1,14600,14470mV,0,0,0,0,0,11,0*3F!\r\n']
2011.11.10 12:58:29 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,125829,E03116.8420,N5831.9190,28,3.239740820734341,262,8,1.1,14600,14470mV,0,0,0,0,0,11,0*3F!

2011.11.10 12:58:29 DEBUG: Raw match found.
2011.11.10 12:58:29 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 262.0, 'longitude': 31.2807, 'odometer': 11.0, 'satellitescount': 8, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,125829,E03116.8420,N5831.9190,28,3.239740820734341,262,8,1.1,14600,14470mV,0,0,0,0,0,11,0*3F!', 'time': '2011-11-10T12:58:29.000000', 'latitude': 58.531983333333336, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 11.0, 'digital_input2': 0, 'speed': 6.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 6.0, 'uid': '657460032240926_888'}
2011.11.10 12:58:31 DEBUG: b'<br />\n<b>Fatal error</b>:  Call to undefined method Falcon_Model_Device::restoreConnection() in <b>D:\\Projects\\Observer\\Web\\trunk\\kernel\\controllers\\PipeController.php</b> on line <b>181</b><br />\n'
2011.11.10 12:58:31 ERROR: No JSON object could be decoded
2011.11.10 12:58:31 ERROR: <class 'lib.handlers.globalsat.tr-600.Handler'>::store():
 [{'code': '500', 'params': ['Error sending packets: No JSON object could be decoded']}]
2011.11.10 12:58:31 DEBUG: Storage::saveByUid(). 657460032240926_888
2011.11.10 12:58:31 DEBUG: Data chunk = b''
2011.11.10 12:58:42 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:58:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:58:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:58:42 DEBUG: Recieving...
2011.11.10 12:58:42 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,125842,E03813.5270,N5556.0160,188,12.419006479481641,138,10,1.1,14600,14470mV,0,0,0,0,0,13,0*0D!\r\n'
2011.11.10 12:58:42 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,125842,E03813.5270,N5556.0160,188,12.419006479481641,138,10,1.1,14600,14470mV,0,0,0,0,0,13,0*0D!\r\n']
2011.11.10 12:58:42 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,125842,E03813.5270,N5556.0160,188,12.419006479481641,138,10,1.1,14600,14470mV,0,0,0,0,0,13,0*0D!

2011.11.10 12:58:42 DEBUG: Raw match found.
2011.11.10 12:58:42 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 188.0, 'azimuth': 138.0, 'longitude': 38.22545, 'odometer': 13.0, 'satellitescount': 10, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,125842,E03813.5270,N5556.0160,188,12.419006479481641,138,10,1.1,14600,14470mV,0,0,0,0,0,13,0*0D!', 'time': '2011-11-10T12:58:42.000000', 'latitude': 55.9336, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 13.0, 'digital_input2': 0, 'speed': 23.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 23.0, 'uid': '457460032240926_888'}
2011.11.10 12:58:42 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:58:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:58:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:58:42 DEBUG: Recieving...
2011.11.10 12:58:42 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,125842,E03751.0610,N5600.4570,166,23.218142548596113,44,11,1.1,14600,14470mV,0,0,0,0,0,298,0*09!\r\n'
2011.11.10 12:58:42 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,125842,E03751.0610,N5600.4570,166,23.218142548596113,44,11,1.1,14600,14470mV,0,0,0,0,0,298,0*09!\r\n']
2011.11.10 12:58:42 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,125842,E03751.0610,N5600.4570,166,23.218142548596113,44,11,1.1,14600,14470mV,0,0,0,0,0,298,0*09!

2011.11.10 12:58:42 DEBUG: Raw match found.
2011.11.10 12:58:42 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 166.0, 'azimuth': 44.0, 'longitude': 37.851016666666666, 'odometer': 298.0, 'satellitescount': 11, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,125842,E03751.0610,N5600.4570,166,23.218142548596113,44,11,1.1,14600,14470mV,0,0,0,0,0,298,0*09!', 'time': '2011-11-10T12:58:42.000000', 'latitude': 56.007616666666664, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 298.0, 'digital_input2': 0, 'speed': 43.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 43.0, 'uid': '557460032240926_888'}
2011.11.10 12:58:44 DEBUG: b'<br />\n<b>Fatal error</b>:  Call to undefined method Falcon_Model_Device::restoreConnection() in <b>D:\\Projects\\Observer\\Web\\trunk\\kernel\\controllers\\PipeController.php</b> on line <b>181</b><br />\n'
2011.11.10 12:58:44 ERROR: No JSON object could be decoded
2011.11.10 12:58:44 ERROR: <class 'lib.handlers.globalsat.tr-600.Handler'>::store():
 [{'code': '500', 'params': ['Error sending packets: No JSON object could be decoded']}]
2011.11.10 12:58:44 DEBUG: Storage::saveByUid(). 457460032240926_888
2011.11.10 12:58:44 DEBUG: Data chunk = b''
2011.11.10 12:58:44 DEBUG: b'<br />\n<b>Fatal error</b>:  Call to undefined method Falcon_Model_Device::restoreConnection() in <b>D:\\Projects\\Observer\\Web\\trunk\\kernel\\controllers\\PipeController.php</b> on line <b>181</b><br />\n'
2011.11.10 12:58:44 ERROR: No JSON object could be decoded
2011.11.10 12:58:44 ERROR: <class 'lib.handlers.globalsat.tr-600.Handler'>::store():
 [{'code': '500', 'params': ['Error sending packets: No JSON object could be decoded']}]
2011.11.10 12:58:44 DEBUG: Storage::saveByUid(). 557460032240926_888
2011.11.10 12:58:44 DEBUG: Data chunk = b''
2011.11.10 12:58:48 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:58:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:58:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:58:48 DEBUG: Recieving...
2011.11.10 12:58:48 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,125848,E03116.8210,N5831.9210,26,3.7796976241900646,282,12,1.1,14600,14470mV,0,0,0,0,0,21,0*34!\r\n'
2011.11.10 12:58:48 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,125848,E03116.8210,N5831.9210,26,3.7796976241900646,282,12,1.1,14600,14470mV,0,0,0,0,0,21,0*34!\r\n']
2011.11.10 12:58:48 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,125848,E03116.8210,N5831.9210,26,3.7796976241900646,282,12,1.1,14600,14470mV,0,0,0,0,0,21,0*34!

2011.11.10 12:58:48 DEBUG: Raw match found.
2011.11.10 12:58:48 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 282.0, 'longitude': 31.28035, 'odometer': 21.0, 'satellitescount': 12, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,125848,E03116.8210,N5831.9210,26,3.7796976241900646,282,12,1.1,14600,14470mV,0,0,0,0,0,21,0*34!', 'time': '2011-11-10T12:58:48.000000', 'latitude': 58.532016666666664, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 21.0, 'digital_input2': 0, 'speed': 7.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 7.0, 'uid': '657460032240926_888'}
2011.11.10 12:58:50 DEBUG: b'<br />\n<b>Fatal error</b>:  Call to undefined method Falcon_Model_Device::restoreConnection() in <b>D:\\Projects\\Observer\\Web\\trunk\\kernel\\controllers\\PipeController.php</b> on line <b>181</b><br />\n'
2011.11.10 12:58:50 ERROR: No JSON object could be decoded
2011.11.10 12:58:50 ERROR: <class 'lib.handlers.globalsat.tr-600.Handler'>::store():
 [{'code': '500', 'params': ['Error sending packets: No JSON object could be decoded']}]
2011.11.10 12:58:50 DEBUG: Storage::saveByUid(). 657460032240926_888
2011.11.10 12:58:50 DEBUG: Data chunk = b''
2011.11.10 12:58:56 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:58:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:58:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:58:56 DEBUG: Recieving...
2011.11.10 12:58:56 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,125856,E03751.1100,N5600.4860,165,16.198704103671705,43,6,1.1,14600,14470mV,0,0,0,0,0,75,0*0D!\r\n'
2011.11.10 12:58:56 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,125856,E03751.1100,N5600.4860,165,16.198704103671705,43,6,1.1,14600,14470mV,0,0,0,0,0,75,0*0D!\r\n']
2011.11.10 12:58:56 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,125856,E03751.1100,N5600.4860,165,16.198704103671705,43,6,1.1,14600,14470mV,0,0,0,0,0,75,0*0D!

2011.11.10 12:58:56 DEBUG: Raw match found.
2011.11.10 12:58:56 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 165.0, 'azimuth': 43.0, 'longitude': 37.85183333333333, 'odometer': 75.0, 'satellitescount': 6, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,125856,E03751.1100,N5600.4860,165,16.198704103671705,43,6,1.1,14600,14470mV,0,0,0,0,0,75,0*0D!', 'time': '2011-11-10T12:58:56.000000', 'latitude': 56.0081, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 75.0, 'digital_input2': 0, 'speed': 30.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 30.0, 'uid': '557460032240926_888'}
2011.11.10 12:58:58 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.28126454353333 seconds\\n","1":"Average query length: 0.003560310677637 seconds\\n","2":"Queries per second: 280.87436477979\\n","3":"Longest query length: 0.042033195495605\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.0229651927948},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036311149597168},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'14meqavgr1747m9lgp41qlohf5\')))","Time":0.00072002410888672},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025579929351807},{"SQL":"select * from obj_info(58369)","Time":0.00051999092102051},{"SQL":"select * from obj_info(58369)","Time":0.00027704238891602},{"SQL":"select * from obj_prop_total(58369)","Time":0.042033195495605},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014259815216064},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00072813034057617},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046706199645996},{"SQL":"select * from obj_info(104)","Time":0.00039005279541016},{"SQL":"select * from f_prop_total(104)","Time":0.014157056808472},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023560523986816},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0023128986358643},{"SQL":"select * from t_options(\'1006667041\')","Time":0.033400058746338},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011370182037354},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011129379272461},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067305564880371},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010528564453125},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0011200904846191},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0043630599975586},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00066208839416504},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.015120029449463},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0034890174865723},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.01292896270752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097513198852539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093889236450195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092697143554688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093412399291992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088286399841309},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010199546813965},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082898139953613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088286399841309},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090599060058594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010538101196289},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082993507385254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085091590881348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089597702026367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087904930114746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086092948913574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088810920715332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074911117553711},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 12:58:56\') as code","Time":0.020873069763184},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408154\')","Time":0.00061798095703125},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00057387351989746},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00044012069702148},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00058603286743164},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00064301490783691},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408152)","Time":0.00041294097900391},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00035691261291504},{"SQL":"select * from acc_list(58369)","Time":0.00085115432739258},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0021328926086426},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00097799301147461},{"SQL":"select z_has_point(1002846847, 56.007616666667, 37.851016666667, null) as state","Time":0.0035629272460938},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00034785270690918},{"SQL":"select z_has_point(171930, 56.007616666667, 37.851016666667, null) as state","Time":0.0024938583374023},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0003359317779541},{"SQL":"select z_has_point(1387421, 56.007616666667, 37.851016666667, null) as state","Time":0.0025010108947754},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00032496452331543},{"SQL":"select z_has_point(1387486, 56.007616666667, 37.851016666667, null) as state","Time":0.0025670528411865},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00034403800964355},{"SQL":"select z_has_point(1387485, 56.007616666667, 37.851016666667, null) as state","Time":0.0024230480194092},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00034213066101074},{"SQL":"select z_has_point(1387499, 56.007616666667, 37.851016666667, null) as state","Time":0.002385139465332},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00034499168395996},{"SQL":"select z_has_point(1387483, 56.007616666667, 37.851016666667, null) as state","Time":0.0024540424346924},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00034213066101074},{"SQL":"select z_has_point(1387484, 56.007616666667, 37.851016666667, null) as state","Time":0.002363920211792},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00039505958557129},{"SQL":"select z_has_point(1387619, 56.007616666667, 37.851016666667, null) as state","Time":0.0024709701538086},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00033402442932129},{"SQL":"select z_has_point(8710, 56.007616666667, 37.851016666667, null) as state","Time":0.0025041103363037},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00034809112548828},{"SQL":"select z_has_point(1002827265, 56.007616666667, 37.851016666667, null) as state","Time":0.0021288394927979},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00030398368835449},{"SQL":"select z_has_point(37627, 56.007616666667, 37.851016666667, null) as state","Time":0.0021340847015381},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00064897537231445},{"SQL":"select * from notif_get_by_object(58369)","Time":0.020593881607056},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 12:58:42\') as code","Time":0.012898921966553}]},"timeleft":false}'
2011.11.10 12:58:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:58:58 DEBUG: Data chunk = b''
2011.11.10 12:59:02 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:02 DEBUG: Recieving...
2011.11.10 12:59:02 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,125902,E03813.5380,N5556.0100,184,15.658747300215982,135,7,1.1,14600,14470mV,0,0,0,0,0,16,0*32!\r\n'
2011.11.10 12:59:02 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,125902,E03813.5380,N5556.0100,184,15.658747300215982,135,7,1.1,14600,14470mV,0,0,0,0,0,16,0*32!\r\n']
2011.11.10 12:59:02 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,125902,E03813.5380,N5556.0100,184,15.658747300215982,135,7,1.1,14600,14470mV,0,0,0,0,0,16,0*32!

2011.11.10 12:59:02 DEBUG: Raw match found.
2011.11.10 12:59:02 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 184.0, 'azimuth': 135.0, 'longitude': 38.225633333333334, 'odometer': 16.0, 'satellitescount': 7, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,125902,E03813.5380,N5556.0100,184,15.658747300215982,135,7,1.1,14600,14470mV,0,0,0,0,0,16,0*32!', 'time': '2011-11-10T12:59:02.000000', 'latitude': 55.9335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 16.0, 'digital_input2': 0, 'speed': 29.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 29.0, 'uid': '457460032240926_888'}
2011.11.10 12:59:04 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18670415878296 seconds\\n","1":"Average query length: 0.0039724289102757 seconds\\n","2":"Queries per second: 251.73515312338\\n","3":"Longest query length: 0.042083024978638\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.029901027679443},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0037670135498047},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1uh6n3hdu1a8i6urqaok7onan6\')))","Time":0.00064802169799805},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0027530193328857},{"SQL":"select * from obj_info(38910)","Time":0.00052309036254883},{"SQL":"select * from obj_info(38910)","Time":0.00024795532226562},{"SQL":"select * from obj_prop_total(38910)","Time":0.042083024978638},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0020170211791992},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00081396102905273},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046396255493164},{"SQL":"select * from obj_info(104)","Time":0.00028204917907715},{"SQL":"select * from f_prop_total(104)","Time":0.014595031738281},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026030540466309},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021069049835205},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035895109176636},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0012421607971191},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013480186462402},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00078701972961426},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00095295906066895},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.001255989074707},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0048918724060059},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00067591667175293},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0022401809692383},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033419132232666},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0018320083618164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010011196136475},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084590911865234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086092948913574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095510482788086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0018360614776611},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095009803771973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063490867614746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067687034606934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007021427154541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011820793151855},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067400932312012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077080726623535},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067591667175293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066208839416504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074481964111328},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 12:59:02\') as code","Time":0.01305103302002},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408155\')","Time":0.00057101249694824},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00051498413085938},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0004889965057373},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0004429817199707}]},"timeleft":false}'
2011.11.10 12:59:04 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:04 DEBUG: Data chunk = b''
2011.11.10 12:59:04 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:04 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:04 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:04 DEBUG: Recieving...
2011.11.10 12:59:04 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,125904,E03116.8200,N5831.9220,25,0.0,335,7,1.1,14600,14470mV,0,0,0,0,0,2,0*0A!\r\n'
2011.11.10 12:59:04 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,125904,E03116.8200,N5831.9220,25,0.0,335,7,1.1,14600,14470mV,0,0,0,0,0,2,0*0A!\r\n']
2011.11.10 12:59:04 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,125904,E03116.8200,N5831.9220,25,0.0,335,7,1.1,14600,14470mV,0,0,0,0,0,2,0*0A!

2011.11.10 12:59:04 DEBUG: Raw match found.
2011.11.10 12:59:04 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 25.0, 'azimuth': 335.0, 'longitude': 31.280333333333335, 'odometer': 2.0, 'satellitescount': 7, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,125904,E03116.8200,N5831.9220,25,0.0,335,7,1.1,14600,14470mV,0,0,0,0,0,2,0*0A!', 'time': '2011-11-10T12:59:04.000000', 'latitude': 58.53203333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 2.0, 'digital_input2': 0, 'speed': 0.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 0.0, 'uid': '657460032240926_888'}
2011.11.10 12:59:06 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.31364727020264 seconds\\n","1":"Average query length: 0.0066733461745242 seconds\\n","2":"Queries per second: 149.8498615009\\n","3":"Longest query length: 0.041975975036621\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.02302098274231},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0039060115814209},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'mk8a5tbtq68f7bqesh9m9q7ni4\')))","Time":0.00077700614929199},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026440620422363},{"SQL":"select * from obj_info(58372)","Time":0.00061488151550293},{"SQL":"select * from obj_info(58372)","Time":0.00034904479980469},{"SQL":"select * from obj_prop_total(58372)","Time":0.041975975036621},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014581680297852},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00069403648376465},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045299530029297},{"SQL":"select * from obj_info(104)","Time":0.00029206275939941},{"SQL":"select * from f_prop_total(104)","Time":0.014513969421387},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.002371072769165},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022759437561035},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031932830810547},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012209415435791},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0014300346374512},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067996978759766},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010318756103516},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012400150299072},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.004594087600708},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00077390670776367},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0060818195343018},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033700466156006},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.021727085113525},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.021823883056641},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010859966278076},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.032477140426636},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.032068967819214},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.021411895751953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011229515075684},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077700614929199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072693824768066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078988075256348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071406364440918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073385238647461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078296661376953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001060962677002},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074601173400879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007939338684082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071597099304199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072383880615234},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 12:59:04\') as code","Time":0.023213148117065},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408156\')","Time":0.00072002410888672},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00069999694824219},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00049805641174316},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00053095817565918}]},"timeleft":false}'
2011.11.10 12:59:06 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:06 DEBUG: Data chunk = b''
2011.11.10 12:59:16 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:16 DEBUG: Recieving...
2011.11.10 12:59:16 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,125916,E03751.3380,N5600.5780,158,8.639308855291576,54,11,1.1,14600,14470mV,0,0,0,0,0,292,0*38!\r\n'
2011.11.10 12:59:16 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,125916,E03751.3380,N5600.5780,158,8.639308855291576,54,11,1.1,14600,14470mV,0,0,0,0,0,292,0*38!\r\n']
2011.11.10 12:59:16 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,125916,E03751.3380,N5600.5780,158,8.639308855291576,54,11,1.1,14600,14470mV,0,0,0,0,0,292,0*38!

2011.11.10 12:59:16 DEBUG: Raw match found.
2011.11.10 12:59:16 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 158.0, 'azimuth': 54.0, 'longitude': 37.85563333333333, 'odometer': 292.0, 'satellitescount': 11, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,125916,E03751.3380,N5600.5780,158,8.639308855291576,54,11,1.1,14600,14470mV,0,0,0,0,0,292,0*38!', 'time': '2011-11-10T12:59:16.000000', 'latitude': 56.00963333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 292.0, 'digital_input2': 0, 'speed': 16.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 16.0, 'uid': '557460032240926_888'}
2011.11.10 12:59:17 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:17 DEBUG: Recieving...
2011.11.10 12:59:17 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,125917,E03116.8080,N5831.7870,25,14.578833693304535,183,3,1.1,14600,14470mV,0,0,0,0,0,251,0*33!\r\n'
2011.11.10 12:59:17 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,125917,E03116.8080,N5831.7870,25,14.578833693304535,183,3,1.1,14600,14470mV,0,0,0,0,0,251,0*33!\r\n']
2011.11.10 12:59:17 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,125917,E03116.8080,N5831.7870,25,14.578833693304535,183,3,1.1,14600,14470mV,0,0,0,0,0,251,0*33!

2011.11.10 12:59:17 DEBUG: Raw match found.
2011.11.10 12:59:17 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 25.0, 'azimuth': 183.0, 'longitude': 31.280133333333332, 'odometer': 251.0, 'satellitescount': 3, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,125917,E03116.8080,N5831.7870,25,14.578833693304535,183,3,1.1,14600,14470mV,0,0,0,0,0,251,0*33!', 'time': '2011-11-10T12:59:17.000000', 'latitude': 58.529783333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 251.0, 'digital_input2': 0, 'speed': 27.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 27.0, 'uid': '657460032240926_888'}
2011.11.10 12:59:18 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.45680570602417 seconds\\n","1":"Average query length: 0.0057823507091667 seconds\\n","2":"Queries per second: 172.94004640962\\n","3":"Longest query length: 0.045191049575806\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.022708892822266},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036919116973877},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'885adpo2d5gnjj1gl1jssor4c4\')))","Time":0.00077080726623535},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026578903198242},{"SQL":"select * from obj_info(58369)","Time":0.00057506561279297},{"SQL":"select * from obj_info(58369)","Time":0.00035285949707031},{"SQL":"select * from obj_prop_total(58369)","Time":0.045191049575806},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014119148254395},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00069093704223633},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044393539428711},{"SQL":"select * from obj_info(104)","Time":0.00027799606323242},{"SQL":"select * from f_prop_total(104)","Time":0.014485120773315},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0027198791503906},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0025022029876709},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031480073928833},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0010950565338135},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011608600616455},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063204765319824},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0012280941009521},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013048648834229},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045511722564697},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00075197219848633},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021700859069824},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.003169059753418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001755952835083},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016670227050781},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010309219360352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087690353393555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008540153503418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098395347595215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085997581481934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010700225830078},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086188316345215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010690689086914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093698501586914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.022079944610596},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010340213775635},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.038727998733521},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0073230266571045},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.040423154830933},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.040429830551147},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.032315969467163},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 12:59:16\') as code","Time":0.025867938995361},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408157\')","Time":0.00099802017211914},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0010941028594971},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00072002410888672},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00096297264099121},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0010628700256348},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408154)","Time":0.00073409080505371},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0005180835723877},{"SQL":"select * from acc_list(58369)","Time":0.0014472007751465},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0036849975585938},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0013191699981689},{"SQL":"select z_has_point(1002846847, 56.0081, 37.851833333333, null) as state","Time":0.0059928894042969},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00052189826965332},{"SQL":"select z_has_point(171930, 56.0081, 37.851833333333, null) as state","Time":0.0041759014129639},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0005180835723877},{"SQL":"select z_has_point(1387421, 56.0081, 37.851833333333, null) as state","Time":0.0040180683135986},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00050997734069824},{"SQL":"select z_has_point(1387486, 56.0081, 37.851833333333, null) as state","Time":0.0040290355682373},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00070786476135254},{"SQL":"select z_has_point(1387485, 56.0081, 37.851833333333, null) as state","Time":0.0035309791564941},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00032520294189453},{"SQL":"select z_has_point(1387499, 56.0081, 37.851833333333, null) as state","Time":0.002100944519043},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00041699409484863},{"SQL":"select z_has_point(1387483, 56.0081, 37.851833333333, null) as state","Time":0.00229811668396},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00033688545227051},{"SQL":"select z_has_point(1387484, 56.0081, 37.851833333333, null) as state","Time":0.0022909641265869},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00045394897460938},{"SQL":"select z_has_point(1387619, 56.0081, 37.851833333333, null) as state","Time":0.0023748874664307},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00041103363037109},{"SQL":"select z_has_point(8710, 56.0081, 37.851833333333, null) as state","Time":0.0022850036621094},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00039315223693848},{"SQL":"select z_has_point(1002827265, 56.0081, 37.851833333333, null) as state","Time":0.00211501121521},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00034284591674805},{"SQL":"select z_has_point(37627, 56.0081, 37.851833333333, null) as state","Time":0.0021359920501709},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00069022178649902},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021734952926636},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 12:58:56\') as code","Time":0.013360977172852}]},"timeleft":false}'
2011.11.10 12:59:18 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:18 DEBUG: Data chunk = b''
2011.11.10 12:59:19 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19426345825195 seconds\\n","1":"Average query length: 0.0041332650691905 seconds\\n","2":"Queries per second: 241.9394796269\\n","3":"Longest query length: 0.043875932693481\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.02214789390564},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0035059452056885},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'gf9nijhbsds719q9ammehhnv27\')))","Time":0.0006871223449707},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025720596313477},{"SQL":"select * from obj_info(58372)","Time":0.00063300132751465},{"SQL":"select * from obj_info(58372)","Time":0.00066995620727539},{"SQL":"select * from obj_prop_total(58372)","Time":0.043875932693481},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014288425445557},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00066208839416504},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005490779876709},{"SQL":"select * from obj_info(104)","Time":0.00028896331787109},{"SQL":"select * from f_prop_total(104)","Time":0.014763116836548},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.002579927444458},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021140575408936},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031324863433838},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012350082397461},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0011849403381348},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00077700614929199},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010230541229248},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012578964233398},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0043380260467529},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00069189071655273},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020301342010498},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0031452178955078},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0079019069671631},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098013877868652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086498260498047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082612037658691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088715553283691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094008445739746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092697143554688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085091590881348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010170936584473},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092792510986328},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095510482788086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083303451538086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081014633178711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008549690246582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083184242248535},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099611282348633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097298622131348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093793869018555},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 12:59:17\') as code","Time":0.024026155471802},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408158\')","Time":0.0009307861328125},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00080013275146484},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00088286399841309},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00082206726074219}]},"timeleft":false}'
2011.11.10 12:59:19 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:19 DEBUG: Data chunk = b''
2011.11.10 12:59:21 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:21 DEBUG: Recieving...
2011.11.10 12:59:21 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,125921,E03813.5430,N5556.0070,183,15.658747300215982,134,1,1.1,14600,14470mV,0,0,0,0,0,8,0*06!\r\n'
2011.11.10 12:59:21 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,125921,E03813.5430,N5556.0070,183,15.658747300215982,134,1,1.1,14600,14470mV,0,0,0,0,0,8,0*06!\r\n']
2011.11.10 12:59:21 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,125921,E03813.5430,N5556.0070,183,15.658747300215982,134,1,1.1,14600,14470mV,0,0,0,0,0,8,0*06!

2011.11.10 12:59:21 DEBUG: Raw match found.
2011.11.10 12:59:21 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 183.0, 'azimuth': 134.0, 'longitude': 38.22571666666666, 'odometer': 8.0, 'satellitescount': 1, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,125921,E03813.5430,N5556.0070,183,15.658747300215982,134,1,1.1,14600,14470mV,0,0,0,0,0,8,0*06!', 'time': '2011-11-10T12:59:21.000000', 'latitude': 55.93345, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 8.0, 'digital_input2': 0, 'speed': 29.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 29.0, 'uid': '457460032240926_888'}
2011.11.10 12:59:23 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.1809709072113 seconds\\n","1":"Average query length: 0.0038504448342831 seconds\\n","2":"Queries per second: 259.71025246131\\n","3":"Longest query length: 0.038723945617676\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.02351713180542},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034730434417725},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'hbnhads362r1idlvcrpg7lpb87\')))","Time":0.00066804885864258},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026249885559082},{"SQL":"select * from obj_info(38910)","Time":0.00064802169799805},{"SQL":"select * from obj_info(38910)","Time":0.00040602684020996},{"SQL":"select * from obj_prop_total(38910)","Time":0.038723945617676},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015649795532227},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0007319450378418},{"SQL":"select obj_is_deleted(104) as code","Time":0.00056600570678711},{"SQL":"select * from obj_info(104)","Time":0.00027918815612793},{"SQL":"select * from f_prop_total(104)","Time":0.015444993972778},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025229454040527},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020921230316162},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031528949737549},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0010931491851807},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0011870861053467},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064206123352051},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0012538433074951},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013389587402344},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0046131610870361},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00074100494384766},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020778179168701},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0031969547271729},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0025818347930908},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088310241699219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085186958312988},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010159015655518},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085020065307617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090599060058594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008080005645752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092697143554688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084304809570312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089383125305176},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084900856018066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080704689025879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092291831970215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099015235900879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083184242248535},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081801414489746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007789134979248},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088191032409668},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 12:59:21\') as code","Time":0.019270896911621},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408159\')","Time":0.00093817710876465},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00081896781921387},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00083780288696289},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00072813034057617}]},"timeleft":false}'
2011.11.10 12:59:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:23 DEBUG: Data chunk = b''
2011.11.10 12:59:30 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:30 DEBUG: Recieving...
2011.11.10 12:59:30 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,125930,E03116.8040,N5831.7220,26,23.218142548596113,182,6,1.1,14600,14470mV,0,0,0,0,0,120,0*35!\r\n'
2011.11.10 12:59:30 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,125930,E03116.8040,N5831.7220,26,23.218142548596113,182,6,1.1,14600,14470mV,0,0,0,0,0,120,0*35!\r\n']
2011.11.10 12:59:30 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,125930,E03116.8040,N5831.7220,26,23.218142548596113,182,6,1.1,14600,14470mV,0,0,0,0,0,120,0*35!

2011.11.10 12:59:30 DEBUG: Raw match found.
2011.11.10 12:59:30 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 182.0, 'longitude': 31.280066666666666, 'odometer': 120.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,125930,E03116.8040,N5831.7220,26,23.218142548596113,182,6,1.1,14600,14470mV,0,0,0,0,0,120,0*35!', 'time': '2011-11-10T12:59:30.000000', 'latitude': 58.5287, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 120.0, 'digital_input2': 0, 'speed': 43.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 43.0, 'uid': '657460032240926_888'}
2011.11.10 12:59:32 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.50739312171936 seconds\\n","1":"Average query length: 0.010795598334454 seconds\\n","2":"Queries per second: 92.630345166555\\n","3":"Longest query length: 0.34449315071106\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.34449315071106},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0061740875244141},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'5ludj88nvjt8pguufgp283vkl1\')))","Time":0.0011670589447021},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026512145996094},{"SQL":"select * from obj_info(58372)","Time":0.00063776969909668},{"SQL":"select * from obj_info(58372)","Time":0.00049805641174316},{"SQL":"select * from obj_prop_total(58372)","Time":0.041249990463257},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0015020370483398},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00082492828369141},{"SQL":"select obj_is_deleted(104) as code","Time":0.00057816505432129},{"SQL":"select * from obj_info(104)","Time":0.00042605400085449},{"SQL":"select * from f_prop_total(104)","Time":0.014386892318726},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026209354400635},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021429061889648},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031824827194214},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011260509490967},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012578964233398},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00061702728271484},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010411739349365},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012178421020508},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.004551887512207},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0006861686706543},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0017759799957275},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033271312713623},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0079779624938965},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095701217651367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084805488586426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083804130554199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084400177001953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083708763122559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081801414489746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082015991210938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072908401489258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070905685424805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070405006408691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070905685424805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068879127502441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068020820617676},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068402290344238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074315071105957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067901611328125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068497657775879},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 12:59:30\') as code","Time":0.017956018447876},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408160\')","Time":0.00052499771118164},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044107437133789},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034213066101074},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00039792060852051}]},"timeleft":false}'
2011.11.10 12:59:32 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:32 DEBUG: Data chunk = b''
2011.11.10 12:59:32 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:32 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:32 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:32 DEBUG: Recieving...
2011.11.10 12:59:32 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,125932,E03813.5530,N5556.0000,179,30.237580993520517,142,3,1.1,14600,14470mV,0,0,0,0,0,16,0*39!\r\n'
2011.11.10 12:59:32 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,125932,E03813.5530,N5556.0000,179,30.237580993520517,142,3,1.1,14600,14470mV,0,0,0,0,0,16,0*39!\r\n']
2011.11.10 12:59:32 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,125932,E03813.5530,N5556.0000,179,30.237580993520517,142,3,1.1,14600,14470mV,0,0,0,0,0,16,0*39!

2011.11.10 12:59:32 DEBUG: Raw match found.
2011.11.10 12:59:32 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 179.0, 'azimuth': 142.0, 'longitude': 38.225883333333336, 'odometer': 16.0, 'satellitescount': 3, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,125932,E03813.5530,N5556.0000,179,30.237580993520517,142,3,1.1,14600,14470mV,0,0,0,0,0,16,0*39!', 'time': '2011-11-10T12:59:32.000000', 'latitude': 55.93333333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 16.0, 'digital_input2': 0, 'speed': 56.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 56.0, 'uid': '457460032240926_888'}
2011.11.10 12:59:34 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.4190731048584 seconds\\n","1":"Average query length: 0.0089164490395404 seconds\\n","2":"Queries per second: 112.15226998612\\n","3":"Longest query length: 0.1046130657196\\n","4":"Longest query: \\nINSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)\\n","Queries":[{"SQL":"connect","Time":0.023736953735352},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0033931732177734},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'sq96a63rq40v8lc751jjpcpbe4\')))","Time":0.00074481964111328},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025599002838135},{"SQL":"select * from obj_info(38910)","Time":0.00057578086853027},{"SQL":"select * from obj_info(38910)","Time":0.00031805038452148},{"SQL":"select * from obj_prop_total(38910)","Time":0.035938024520874},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014400482177734},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00069499015808105},{"SQL":"select obj_is_deleted(104) as code","Time":0.00059700012207031},{"SQL":"select * from obj_info(104)","Time":0.00034093856811523},{"SQL":"select * from f_prop_total(104)","Time":0.014492988586426},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025010108947754},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002011775970459},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03129506111145},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011200904846191},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0011899471282959},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058794021606445},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068497657775879},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00074410438537598},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026061534881592},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00044107437133789},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0029549598693848},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019149780273438},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.024801969528198},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0054121017456055},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0044589042663574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0040879249572754},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014190673828125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085115432739258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0019230842590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0027182102203369},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0097098350524902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0096080303192139},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0085470676422119},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.008220911026001},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0023109912872314},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.005342960357666},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064206123352051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.076415061950684},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.1046130657196},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064396858215332},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 12:59:32\') as code","Time":0.012587070465088},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408161\')","Time":0.00050497055053711},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00045108795166016},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034999847412109},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00056886672973633}]},"timeleft":false}'
2011.11.10 12:59:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:34 DEBUG: Data chunk = b''
2011.11.10 12:59:36 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:36 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:36 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:36 DEBUG: Recieving...
2011.11.10 12:59:36 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,125936,E03751.6460,N5600.6740,160,20.518358531317492,61,8,1.1,14600,14470mV,0,0,0,0,0,366,0*32!\r\n'
2011.11.10 12:59:36 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,125936,E03751.6460,N5600.6740,160,20.518358531317492,61,8,1.1,14600,14470mV,0,0,0,0,0,366,0*32!\r\n']
2011.11.10 12:59:36 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,125936,E03751.6460,N5600.6740,160,20.518358531317492,61,8,1.1,14600,14470mV,0,0,0,0,0,366,0*32!

2011.11.10 12:59:36 DEBUG: Raw match found.
2011.11.10 12:59:36 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 160.0, 'azimuth': 61.0, 'longitude': 37.86076666666666, 'odometer': 366.0, 'satellitescount': 8, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,125936,E03751.6460,N5600.6740,160,20.518358531317492,61,8,1.1,14600,14470mV,0,0,0,0,0,366,0*32!', 'time': '2011-11-10T12:59:36.000000', 'latitude': 56.01123333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 366.0, 'digital_input2': 0, 'speed': 38.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 38.0, 'uid': '557460032240926_888'}
2011.11.10 12:59:38 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.26959085464478 seconds\\n","1":"Average query length: 0.0034125424638579 seconds\\n","2":"Queries per second: 293.03664660322\\n","3":"Longest query length: 0.043669939041138\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.025289058685303},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0045580863952637},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ab4fj3qeocud6llir7opd7fvv6\')))","Time":0.00071811676025391},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.002579927444458},{"SQL":"select * from obj_info(58369)","Time":0.00057506561279297},{"SQL":"select * from obj_info(58369)","Time":0.00046992301940918},{"SQL":"select * from obj_prop_total(58369)","Time":0.043669939041138},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015900135040283},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00071120262145996},{"SQL":"select obj_is_deleted(104) as code","Time":0.00050997734069824},{"SQL":"select * from obj_info(104)","Time":0.00035381317138672},{"SQL":"select * from f_prop_total(104)","Time":0.01463794708252},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024218559265137},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020520687103271},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031754970550537},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011169910430908},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0010979175567627},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00060486793518066},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068807601928711},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0007169246673584},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026829242706299},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00043106079101562},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001474142074585},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020759105682373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013113975524902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073385238647461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066208839416504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066685676574707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001370906829834},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075697898864746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064611434936523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068497657775879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066304206848145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007481575012207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066208839416504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011301040649414},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007469654083252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069594383239746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089907646179199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067901611328125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078892707824707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069403648376465},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 12:59:36\') as code","Time":0.024843215942383},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408162\')","Time":0.00065088272094727},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049519538879395},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00044417381286621},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00049495697021484},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00056910514831543},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408157)","Time":0.00041389465332031},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00034284591674805},{"SQL":"select * from acc_list(58369)","Time":0.0007941722869873},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0022239685058594},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0009160041809082},{"SQL":"select z_has_point(1002846847, 56.009633333333, 37.855633333333, null) as state","Time":0.0034079551696777},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00039911270141602},{"SQL":"select z_has_point(171930, 56.009633333333, 37.855633333333, null) as state","Time":0.0024728775024414},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00034904479980469},{"SQL":"select z_has_point(1387421, 56.009633333333, 37.855633333333, null) as state","Time":0.0024230480194092},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.0003359317779541},{"SQL":"select z_has_point(1387486, 56.009633333333, 37.855633333333, null) as state","Time":0.0021350383758545},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00041294097900391},{"SQL":"select z_has_point(1387485, 56.009633333333, 37.855633333333, null) as state","Time":0.0023069381713867},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00036001205444336},{"SQL":"select z_has_point(1387499, 56.009633333333, 37.855633333333, null) as state","Time":0.0023348331451416},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00032687187194824},{"SQL":"select z_has_point(1387483, 56.009633333333, 37.855633333333, null) as state","Time":0.00211501121521},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00036787986755371},{"SQL":"select z_has_point(1387484, 56.009633333333, 37.855633333333, null) as state","Time":0.0022380352020264},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00037598609924316},{"SQL":"select z_has_point(1387619, 56.009633333333, 37.855633333333, null) as state","Time":0.002255916595459},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00030803680419922},{"SQL":"select z_has_point(8710, 56.009633333333, 37.855633333333, null) as state","Time":0.0023860931396484},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00033903121948242},{"SQL":"select z_has_point(1002827265, 56.009633333333, 37.855633333333, null) as state","Time":0.0023648738861084},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.0003809928894043},{"SQL":"select z_has_point(37627, 56.009633333333, 37.855633333333, null) as state","Time":0.0025370121002197},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00081300735473633},{"SQL":"select * from notif_get_by_object(58369)","Time":0.020934104919434},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 12:59:16\') as code","Time":0.013597965240479}]},"timeleft":false}'
2011.11.10 12:59:38 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:38 DEBUG: Data chunk = b''
2011.11.10 12:59:41 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:41 DEBUG: Recieving...
2011.11.10 12:59:41 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,125941,E03116.8020,N5831.6670,29,24.838012958963283,181,9,1.1,14600,14470mV,0,0,0,0,0,102,0*3C!\r\n'
2011.11.10 12:59:41 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,125941,E03116.8020,N5831.6670,29,24.838012958963283,181,9,1.1,14600,14470mV,0,0,0,0,0,102,0*3C!\r\n']
2011.11.10 12:59:41 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,125941,E03116.8020,N5831.6670,29,24.838012958963283,181,9,1.1,14600,14470mV,0,0,0,0,0,102,0*3C!

2011.11.10 12:59:41 DEBUG: Raw match found.
2011.11.10 12:59:41 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 29.0, 'azimuth': 181.0, 'longitude': 31.280033333333332, 'odometer': 102.0, 'satellitescount': 9, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,125941,E03116.8020,N5831.6670,29,24.838012958963283,181,9,1.1,14600,14470mV,0,0,0,0,0,102,0*3C!', 'time': '2011-11-10T12:59:41.000000', 'latitude': 58.52778333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 102.0, 'digital_input2': 0, 'speed': 46.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 46.0, 'uid': '657460032240926_888'}
2011.11.10 12:59:43 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.25423908233643 seconds\\n","1":"Average query length: 0.0054093421773708 seconds\\n","2":"Queries per second: 184.86536203669\\n","3":"Longest query length: 0.063000917434692\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.025022029876709},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0055210590362549},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'9460jl12dcp5mbct08jvkhepo7\')))","Time":0.00062799453735352},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0040171146392822},{"SQL":"select * from obj_info(58372)","Time":0.00071501731872559},{"SQL":"select * from obj_info(58372)","Time":0.00031900405883789},{"SQL":"select * from obj_prop_total(58372)","Time":0.063000917434692},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014581680297852},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0010411739349365},{"SQL":"select obj_is_deleted(104) as code","Time":0.00063014030456543},{"SQL":"select * from obj_info(104)","Time":0.00030994415283203},{"SQL":"select * from f_prop_total(104)","Time":0.023380041122437},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0039689540863037},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0025131702423096},{"SQL":"select * from t_options(\'1006667041\')","Time":0.046624183654785},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.001716136932373},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0027799606323242},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00074219703674316},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0005958080291748},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013940334320068},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025038719177246},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0067481994628906},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0081629753112793},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017797946929932},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0096080303192139},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020248889923096},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005650520324707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052690505981445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060796737670898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0034990310668945},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078606605529785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056695938110352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085115432739258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069999694824219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055980682373047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059080123901367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051617622375488},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016610622406006},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 12:59:41\') as code","Time":0.020327091217041},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408163\')","Time":0.00058603286743164},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0012850761413574},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0005650520324707},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043106079101562}]},"timeleft":false}'
2011.11.10 12:59:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:43 DEBUG: Data chunk = b''
2011.11.10 12:59:46 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:46 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:46 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:46 DEBUG: Recieving...
2011.11.10 12:59:46 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,125946,E03813.5610,N5555.9940,175,28.077753779697623,142,3,1.1,14600,14470mV,0,0,0,0,0,14,0*30!\r\n'
2011.11.10 12:59:46 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,125946,E03813.5610,N5555.9940,175,28.077753779697623,142,3,1.1,14600,14470mV,0,0,0,0,0,14,0*30!\r\n']
2011.11.10 12:59:46 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,125946,E03813.5610,N5555.9940,175,28.077753779697623,142,3,1.1,14600,14470mV,0,0,0,0,0,14,0*30!

2011.11.10 12:59:46 DEBUG: Raw match found.
2011.11.10 12:59:46 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 175.0, 'azimuth': 142.0, 'longitude': 38.226016666666666, 'odometer': 14.0, 'satellitescount': 3, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,125946,E03813.5610,N5555.9940,175,28.077753779697623,142,3,1.1,14600,14470mV,0,0,0,0,0,14,0*30!', 'time': '2011-11-10T12:59:46.000000', 'latitude': 55.933233333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 14.0, 'digital_input2': 0, 'speed': 52.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 52.0, 'uid': '457460032240926_888'}
2011.11.10 12:59:48 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.35928392410278 seconds\\n","1":"Average query length: 0.0076443388106975 seconds\\n","2":"Queries per second: 130.81576114871\\n","3":"Longest query length: 0.06908106803894\\n","4":"Longest query: \\nINSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\\n","Queries":[{"SQL":"connect","Time":0.037233114242554},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0071609020233154},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'iagkuqf5sf6619slaj48j1mcp1\')))","Time":0.0011119842529297},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0040280818939209},{"SQL":"select * from obj_info(38910)","Time":0.00074195861816406},{"SQL":"select * from obj_info(38910)","Time":0.0003809928894043},{"SQL":"select * from obj_prop_total(38910)","Time":0.063907146453857},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0031349658966064},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010981559753418},{"SQL":"select obj_is_deleted(104) as code","Time":0.0012991428375244},{"SQL":"select * from obj_info(104)","Time":0.00053596496582031},{"SQL":"select * from f_prop_total(104)","Time":0.021125078201294},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0047550201416016},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0035820007324219},{"SQL":"select * from t_options(\'1006667041\')","Time":0.045967102050781},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.001410961151123},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0020990371704102},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00087189674377441},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00076794624328613},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00097489356994629},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0028679370880127},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00045013427734375},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.06908106803894},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.002748966217041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017721652984619},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0082378387451172},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007479190826416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072193145751953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007321834564209},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001291036605835},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012791156768799},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073504447937012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072813034057617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0023820400238037},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.015577077865601},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016751289367676},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061988830566406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011098384857178},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086879730224609},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071907043457031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069403648376465},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 12:59:46\') as code","Time":0.022336006164551},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408164\')","Time":0.01645302772522},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0013301372528076},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00058317184448242},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00065088272094727}]},"timeleft":false}'
2011.11.10 12:59:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:48 DEBUG: Data chunk = b''
2011.11.10 12:59:49 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:49 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:49 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:49 DEBUG: Recieving...
2011.11.10 12:59:49 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,125949,E03751.8150,N5600.7170,163,10.259179265658746,65,12,1.1,14600,14470mV,0,0,0,0,0,192,0*01!\r\n'
2011.11.10 12:59:49 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,125949,E03751.8150,N5600.7170,163,10.259179265658746,65,12,1.1,14600,14470mV,0,0,0,0,0,192,0*01!\r\n']
2011.11.10 12:59:49 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,125949,E03751.8150,N5600.7170,163,10.259179265658746,65,12,1.1,14600,14470mV,0,0,0,0,0,192,0*01!

2011.11.10 12:59:49 DEBUG: Raw match found.
2011.11.10 12:59:49 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 163.0, 'azimuth': 65.0, 'longitude': 37.86358333333333, 'odometer': 192.0, 'satellitescount': 12, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,125949,E03751.8150,N5600.7170,163,10.259179265658746,65,12,1.1,14600,14470mV,0,0,0,0,0,192,0*01!', 'time': '2011-11-10T12:59:49.000000', 'latitude': 56.01195, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 192.0, 'digital_input2': 0, 'speed': 19.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 19.0, 'uid': '557460032240926_888'}
2011.11.10 12:59:51 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.86395978927612 seconds\\n","1":"Average query length: 0.010936199864255 seconds\\n","2":"Queries per second: 91.439440794103\\n","3":"Longest query length: 0.56596779823303\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.56596779823303},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.020493030548096},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'96vja2cmh4c0brbik1e1ckq6p3\')))","Time":0.0053911209106445},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0041999816894531},{"SQL":"select * from obj_info(58369)","Time":0.00082302093505859},{"SQL":"select * from obj_info(58369)","Time":0.00049114227294922},{"SQL":"select * from obj_prop_total(58369)","Time":0.066426038742065},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0018041133880615},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00090312957763672},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047588348388672},{"SQL":"select * from obj_info(104)","Time":0.00034308433532715},{"SQL":"select * from f_prop_total(104)","Time":0.017031908035278},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025591850280762},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021209716796875},{"SQL":"select * from t_options(\'1006667041\')","Time":0.047657012939453},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012171268463135},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012221336364746},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065779685974121},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063395500183105},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068807601928711},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.00235915184021},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033688545227051},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015580654144287},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.002094030380249},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.010210037231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094008445739746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059890747070312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053715705871582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054812431335449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093507766723633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057101249694824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053787231445312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054621696472168},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055694580078125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055503845214844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056695938110352},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 12:59:49\') as code","Time":0.014790058135986},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408165\')","Time":0.00058698654174805},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043797492980957},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035905838012695},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00042009353637695},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00055313110351562},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408162)","Time":0.00060582160949707},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0012598037719727},{"SQL":"select * from acc_list(58369)","Time":0.0012078285217285},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0023820400238037},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0012209415435791},{"SQL":"select z_has_point(1002846847, 56.011233333333, 37.860766666667, null) as state","Time":0.0038118362426758},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00027203559875488},{"SQL":"select z_has_point(171930, 56.011233333333, 37.860766666667, null) as state","Time":0.0022518634796143},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00024700164794922},{"SQL":"select z_has_point(1387421, 56.011233333333, 37.860766666667, null) as state","Time":0.0026490688323975},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00027108192443848},{"SQL":"select z_has_point(1387486, 56.011233333333, 37.860766666667, null) as state","Time":0.0022130012512207},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00025606155395508},{"SQL":"select z_has_point(1387485, 56.011233333333, 37.860766666667, null) as state","Time":0.0029199123382568},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00025606155395508},{"SQL":"select z_has_point(1387499, 56.011233333333, 37.860766666667, null) as state","Time":0.002514123916626},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00030612945556641},{"SQL":"select z_has_point(1387483, 56.011233333333, 37.860766666667, null) as state","Time":0.0026071071624756},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00027084350585938},{"SQL":"select z_has_point(1387484, 56.011233333333, 37.860766666667, null) as state","Time":0.0021369457244873},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00031399726867676},{"SQL":"select z_has_point(1387619, 56.011233333333, 37.860766666667, null) as state","Time":0.0026710033416748},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(8710, 56.011233333333, 37.860766666667, null) as state","Time":0.0023629665374756},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(1002827265, 56.011233333333, 37.860766666667, null) as state","Time":0.0023269653320312},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00025796890258789},{"SQL":"select z_has_point(37627, 56.011233333333, 37.860766666667, null) as state","Time":0.0030910968780518},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00066900253295898},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022942066192627},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 12:59:36\') as code","Time":0.013880968093872}]},"timeleft":false}'
2011.11.10 12:59:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:51 DEBUG: Data chunk = b''
2011.11.10 12:59:56 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:56 DEBUG: Recieving...
2011.11.10 12:59:56 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,125956,E03813.5700,N5555.9880,170,29.697624190064793,141,4,1.1,14600,14470mV,0,0,0,0,0,15,0*35!\r\n'
2011.11.10 12:59:56 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,125956,E03813.5700,N5555.9880,170,29.697624190064793,141,4,1.1,14600,14470mV,0,0,0,0,0,15,0*35!\r\n']
2011.11.10 12:59:56 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,125956,E03813.5700,N5555.9880,170,29.697624190064793,141,4,1.1,14600,14470mV,0,0,0,0,0,15,0*35!

2011.11.10 12:59:56 DEBUG: Raw match found.
2011.11.10 12:59:56 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 170.0, 'azimuth': 141.0, 'longitude': 38.226166666666664, 'odometer': 15.0, 'satellitescount': 4, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,125956,E03813.5700,N5555.9880,170,29.697624190064793,141,4,1.1,14600,14470mV,0,0,0,0,0,15,0*35!', 'time': '2011-11-10T12:59:56.000000', 'latitude': 55.93313333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 15.0, 'digital_input2': 0, 'speed': 55.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 55.0, 'uid': '457460032240926_888'}
2011.11.10 12:59:57 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 12:59:57 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 12:59:57 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 12:59:57 DEBUG: Recieving...
2011.11.10 12:59:57 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,125957,E03116.8010,N5831.6150,28,26.997840172786177,181,11,1.1,14600,14470mV,0,0,0,0,0,97,0*3C!\r\n'
2011.11.10 12:59:57 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,125957,E03116.8010,N5831.6150,28,26.997840172786177,181,11,1.1,14600,14470mV,0,0,0,0,0,97,0*3C!\r\n']
2011.11.10 12:59:57 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,125957,E03116.8010,N5831.6150,28,26.997840172786177,181,11,1.1,14600,14470mV,0,0,0,0,0,97,0*3C!

2011.11.10 12:59:57 DEBUG: Raw match found.
2011.11.10 12:59:57 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 181.0, 'longitude': 31.28001666666667, 'odometer': 97.0, 'satellitescount': 11, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,125957,E03116.8010,N5831.6150,28,26.997840172786177,181,11,1.1,14600,14470mV,0,0,0,0,0,97,0*3C!', 'time': '2011-11-10T12:59:57.000000', 'latitude': 58.526916666666665, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 97.0, 'digital_input2': 0, 'speed': 50.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 50.0, 'uid': '657460032240926_888'}
2011.11.10 12:59:58 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21175932884216 seconds\\n","1":"Average query length: 0.0045055176349396 seconds\\n","2":"Queries per second: 221.95008010737\\n","3":"Longest query length: 0.047898054122925\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.028489112854004},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0040309429168701},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'s5g3j1ial5c3u15ar0eoufvc05\')))","Time":0.00095605850219727},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025429725646973},{"SQL":"select * from obj_info(38910)","Time":0.00070381164550781},{"SQL":"select * from obj_info(38910)","Time":0.0003199577331543},{"SQL":"select * from obj_prop_total(38910)","Time":0.047898054122925},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0022408962249756},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00072884559631348},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045895576477051},{"SQL":"select * from obj_info(104)","Time":0.00028204917907715},{"SQL":"select * from f_prop_total(104)","Time":0.021977186203003},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0032100677490234},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.00282883644104},{"SQL":"select * from t_options(\'1006667041\')","Time":0.047532081604004},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0010879039764404},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0018520355224609},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00082802772521973},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00086116790771484},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0011870861053467},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0028729438781738},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00041103363037109},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013899803161621},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020589828491211},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014190673828125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092983245849609},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080394744873047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015270709991455},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010330677032471},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085210800170898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092005729675293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083017349243164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077605247497559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072789192199707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073695182800293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059819221496582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005800724029541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065493583679199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066804885864258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055789947509766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070405006408691},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 12:59:56\') as code","Time":0.017611980438232},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408166\')","Time":0.0006260871887207},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00064492225646973},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00054788589477539},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00066804885864258}]},"timeleft":false}'
2011.11.10 12:59:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:58 DEBUG: Data chunk = b''
2011.11.10 12:59:59 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.24422979354858 seconds\\n","1":"Average query length: 0.0051963785861401 seconds\\n","2":"Queries per second: 192.44171367098\\n","3":"Longest query length: 0.069032907485962\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.034987211227417},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.005903959274292},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'33rb8247c69kt295n0jk2khup4\')))","Time":0.00096797943115234},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0031049251556396},{"SQL":"select * from obj_info(58372)","Time":0.00089192390441895},{"SQL":"select * from obj_info(58372)","Time":0.00043892860412598},{"SQL":"select * from obj_prop_total(58372)","Time":0.069032907485962},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0023720264434814},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0010740756988525},{"SQL":"select obj_is_deleted(104) as code","Time":0.00069189071655273},{"SQL":"select * from obj_info(104)","Time":0.00037503242492676},{"SQL":"select * from f_prop_total(104)","Time":0.026230812072754},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037670135498047},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0025019645690918},{"SQL":"select * from t_options(\'1006667041\')","Time":0.047368049621582},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0018210411071777},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0026679039001465},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00083112716674805},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.000762939453125},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00095319747924805},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024650096893311},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0005640983581543},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012738704681396},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0024359226226807},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014128684997559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059294700622559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052189826965332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005040168762207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057101249694824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051116943359375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066208839416504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010850429534912},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065016746520996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075387954711914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076103210449219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005650520324707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051712989807129},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051689147949219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051784515380859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071501731872559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080990791320801},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 12:59:57\') as code","Time":0.01668381690979},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408167\')","Time":0.00061798095703125},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043797492980957},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00033116340637207},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00045514106750488}]},"timeleft":false}'
2011.11.10 12:59:59 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 12:59:59 DEBUG: Data chunk = b''
2011.11.10 13:00:08 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:00:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:00:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:00:08 DEBUG: Recieving...
2011.11.10 13:00:08 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,130008,E03752.1140,N5600.7520,162,20.518358531317492,78,1,1.1,14600,14470mV,0,0,0,0,0,317,0*31!\r\n'
2011.11.10 13:00:08 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,130008,E03752.1140,N5600.7520,162,20.518358531317492,78,1,1.1,14600,14470mV,0,0,0,0,0,317,0*31!\r\n']
2011.11.10 13:00:08 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,130008,E03752.1140,N5600.7520,162,20.518358531317492,78,1,1.1,14600,14470mV,0,0,0,0,0,317,0*31!

2011.11.10 13:00:08 DEBUG: Raw match found.
2011.11.10 13:00:08 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 162.0, 'azimuth': 78.0, 'longitude': 37.868566666666666, 'odometer': 317.0, 'satellitescount': 1, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,130008,E03752.1140,N5600.7520,162,20.518358531317492,78,1,1.1,14600,14470mV,0,0,0,0,0,317,0*31!', 'time': '2011-11-10T13:00:08.000000', 'latitude': 56.01253333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 317.0, 'digital_input2': 0, 'speed': 38.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 38.0, 'uid': '557460032240926_888'}
2011.11.10 13:00:10 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.29208660125732 seconds\\n","1":"Average query length: 0.0036972987500927 seconds\\n","2":"Queries per second: 270.46772998123\\n","3":"Longest query length: 0.049222946166992\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.022716045379639},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0037300586700439},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'rjq04din7bd4korurg85en2m26\')))","Time":0.00074911117553711},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025959014892578},{"SQL":"select * from obj_info(58369)","Time":0.00069093704223633},{"SQL":"select * from obj_info(58369)","Time":0.0004580020904541},{"SQL":"select * from obj_prop_total(58369)","Time":0.049222946166992},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015809535980225},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00066280364990234},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047183036804199},{"SQL":"select * from obj_info(104)","Time":0.00035309791564941},{"SQL":"select * from f_prop_total(104)","Time":0.014886140823364},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023970603942871},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0024919509887695},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034204006195068},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.001349925994873},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011260509490967},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00073695182800293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011279582977295},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013329982757568},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044660568237305},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00086498260498047},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020840167999268},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0031299591064453},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020709037780762},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000762939453125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.025629043579102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089097023010254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010790824890137},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078701972961426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085806846618652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083208084106445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087404251098633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008389949798584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092601776123047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086307525634766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083017349243164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084710121154785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008699893951416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082683563232422},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085306167602539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087404251098633},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:00:08\') as code","Time":0.02106785774231},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408168\')","Time":0.00068902969360352},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00063109397888184},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00047206878662109},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00061988830566406},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00068783760070801},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408165)","Time":0.00052309036254883},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00037598609924316},{"SQL":"select * from acc_list(58369)","Time":0.0009310245513916},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0023190975189209},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0009920597076416},{"SQL":"select z_has_point(1002846847, 56.01195, 37.863583333333, null) as state","Time":0.0038349628448486},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00036907196044922},{"SQL":"select z_has_point(171930, 56.01195, 37.863583333333, null) as state","Time":0.0022969245910645},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00033092498779297},{"SQL":"select z_has_point(1387421, 56.01195, 37.863583333333, null) as state","Time":0.0022351741790771},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.0004279613494873},{"SQL":"select z_has_point(1387486, 56.01195, 37.863583333333, null) as state","Time":0.002493143081665},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00040912628173828},{"SQL":"select z_has_point(1387485, 56.01195, 37.863583333333, null) as state","Time":0.002108097076416},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00029420852661133},{"SQL":"select z_has_point(1387499, 56.01195, 37.863583333333, null) as state","Time":0.0022530555725098},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00033211708068848},{"SQL":"select z_has_point(1387483, 56.01195, 37.863583333333, null) as state","Time":0.0021841526031494},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00034403800964355},{"SQL":"select z_has_point(1387484, 56.01195, 37.863583333333, null) as state","Time":0.0021228790283203},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00050187110900879},{"SQL":"select z_has_point(1387619, 56.01195, 37.863583333333, null) as state","Time":0.002302885055542},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00028491020202637},{"SQL":"select z_has_point(8710, 56.01195, 37.863583333333, null) as state","Time":0.0022170543670654},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00040793418884277},{"SQL":"select z_has_point(1002827265, 56.01195, 37.863583333333, null) as state","Time":0.0022108554840088},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00041890144348145},{"SQL":"select z_has_point(37627, 56.01195, 37.863583333333, null) as state","Time":0.0022060871124268},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0007789134979248},{"SQL":"select * from notif_get_by_object(58369)","Time":0.020936965942383},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 12:59:49\') as code","Time":0.013532161712646}]},"timeleft":false}'
2011.11.10 13:00:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:00:10 DEBUG: Data chunk = b''
2011.11.10 13:00:13 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:00:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:00:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:00:13 DEBUG: Recieving...
2011.11.10 13:00:13 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,130013,E03116.7990,N5831.5820,28,23.758099352051836,182,6,1.1,14600,14470mV,0,0,0,0,0,61,0*0B!\r\n'
2011.11.10 13:00:13 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,130013,E03116.7990,N5831.5820,28,23.758099352051836,182,6,1.1,14600,14470mV,0,0,0,0,0,61,0*0B!\r\n']
2011.11.10 13:00:13 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,130013,E03116.7990,N5831.5820,28,23.758099352051836,182,6,1.1,14600,14470mV,0,0,0,0,0,61,0*0B!

2011.11.10 13:00:13 DEBUG: Raw match found.
2011.11.10 13:00:13 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 182.0, 'longitude': 31.279983333333334, 'odometer': 61.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,130013,E03116.7990,N5831.5820,28,23.758099352051836,182,6,1.1,14600,14470mV,0,0,0,0,0,61,0*0B!', 'time': '2011-11-10T13:00:13.000000', 'latitude': 58.52636666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 61.0, 'digital_input2': 0, 'speed': 44.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 44.0, 'uid': '657460032240926_888'}
2011.11.10 13:00:15 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.20900559425354 seconds\\n","1":"Average query length: 0.0044469275373094 seconds\\n","2":"Queries per second: 224.87436361625\\n","3":"Longest query length: 0.046191930770874\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.029362916946411},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0053651332855225},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'nc3s7uf41fdhhb5h5h1aej18e4\')))","Time":0.0009310245513916},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0024230480194092},{"SQL":"select * from obj_info(58372)","Time":0.00053715705871582},{"SQL":"select * from obj_info(58372)","Time":0.00028491020202637},{"SQL":"select * from obj_prop_total(58372)","Time":0.046191930770874},{"SQL":"select obj_is_deleted(58372) as code","Time":0.001431941986084},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00073885917663574},{"SQL":"select obj_is_deleted(104) as code","Time":0.0004889965057373},{"SQL":"select * from obj_info(104)","Time":0.00028705596923828},{"SQL":"select * from f_prop_total(104)","Time":0.024470090866089},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024819374084473},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0024418830871582},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038239002227783},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011699199676514},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0017600059509277},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081515312194824},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059008598327637},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00064897537231445},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024209022521973},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033903121948242},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013308525085449},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017929077148438},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.015136003494263},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057411193847656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005340576171875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063490867614746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006558895111084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006568431854248},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054788589477539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057196617126465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057005882263184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062394142150879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001121997833252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060796737670898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:00:13\') as code","Time":0.014647960662842},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408169\')","Time":0.00073599815368652},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00059604644775391},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0003972053527832},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00045108795166016}]},"timeleft":false}'
2011.11.10 13:00:15 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:00:15 DEBUG: Data chunk = b''
2011.11.10 13:00:16 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:00:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:00:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:00:16 DEBUG: Recieving...
2011.11.10 13:00:16 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,130016,E03813.5810,N5555.9810,164,32.39740820734341,140,11,1.1,14600,14470mV,0,0,0,0,0,17,0*39!\r\n'
2011.11.10 13:00:16 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,130016,E03813.5810,N5555.9810,164,32.39740820734341,140,11,1.1,14600,14470mV,0,0,0,0,0,17,0*39!\r\n']
2011.11.10 13:00:16 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,130016,E03813.5810,N5555.9810,164,32.39740820734341,140,11,1.1,14600,14470mV,0,0,0,0,0,17,0*39!

2011.11.10 13:00:16 DEBUG: Raw match found.
2011.11.10 13:00:16 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 164.0, 'azimuth': 140.0, 'longitude': 38.22635, 'odometer': 17.0, 'satellitescount': 11, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,130016,E03813.5810,N5555.9810,164,32.39740820734341,140,11,1.1,14600,14470mV,0,0,0,0,0,17,0*39!', 'time': '2011-11-10T13:00:16.000000', 'latitude': 55.93301666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 17.0, 'digital_input2': 0, 'speed': 60.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 60.0, 'uid': '457460032240926_888'}
2011.11.10 13:00:18 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.27836108207703 seconds\\n","1":"Average query length: 0.0059225762144048 seconds\\n","2":"Queries per second: 168.84544221952\\n","3":"Longest query length: 0.078891038894653\\n","4":"Longest query: \\nINSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\\n","Queries":[{"SQL":"connect","Time":0.023414850234985},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0043439865112305},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'8vq1kl8c4ggu5m65542ar8pc25\')))","Time":0.00062799453735352},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0028760433197021},{"SQL":"select * from obj_info(38910)","Time":0.00052905082702637},{"SQL":"select * from obj_info(38910)","Time":0.0002739429473877},{"SQL":"select * from obj_prop_total(38910)","Time":0.042037010192871},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015249252319336},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00096297264099121},{"SQL":"select obj_is_deleted(104) as code","Time":0.00057005882263184},{"SQL":"select * from obj_info(104)","Time":0.00031900405883789},{"SQL":"select * from f_prop_total(104)","Time":0.015801906585693},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025589466094971},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0025768280029297},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031822919845581},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0015430450439453},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0012238025665283},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00071597099304199},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00071215629577637},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00080394744873047},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026309490203857},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040411949157715},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.078891038894653},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0026581287384033},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.01046895980835},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000640869140625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086021423339844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011990070343018},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005500316619873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057220458984375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.018940925598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014669895172119},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012569427490234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051403045654297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081706047058105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0019130706787109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013289451599121},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006098747253418},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:00:16\') as code","Time":0.013086080551147},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408170\')","Time":0.00055193901062012},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043511390686035},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00052714347839355},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044608116149902}]},"timeleft":false}'
2011.11.10 13:00:18 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:00:18 DEBUG: Data chunk = b''
2011.11.10 13:22:52 DEBUG: <class 'lib.storage.Storage'>::__init__()
2011.11.10 13:22:52 INFO: Protocol is loaded:  Globalsat. TR-600 
2011.11.10 13:22:52 DEBUG: <class 'kernel.dispatcher.Dispatcher'>::__init__()
2011.11.10 13:22:52 DEBUG: Starter::__init__
2011.11.10 13:22:52 DEBUG: Starter::run()
2011.11.10 13:22:52 DEBUG: Server::__init__(20100)
2011.11.10 13:22:52 DEBUG: Server::run()
2011.11.10 13:22:52 INFO: Server is started on port 20100
2011.11.10 13:22:56 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:22:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:22:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:22:56 DEBUG: Recieving...
2011.11.10 13:22:56 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132255,E03750.8300,N5600.3180,168,22.67818574514039,30,12,1.1,14600,14470mV,0,0,0,0,0,127,0*3A!\r\n'
2011.11.10 13:22:56 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132255,E03750.8300,N5600.3180,168,22.67818574514039,30,12,1.1,14600,14470mV,0,0,0,0,0,127,0*3A!\r\n']
2011.11.10 13:22:56 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132255,E03750.8300,N5600.3180,168,22.67818574514039,30,12,1.1,14600,14470mV,0,0,0,0,0,127,0*3A!

2011.11.10 13:22:56 DEBUG: Raw match found.
2011.11.10 13:22:56 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 168.0, 'azimuth': 30.0, 'longitude': 37.847166666666666, 'odometer': 127.0, 'satellitescount': 12, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132255,E03750.8300,N5600.3180,168,22.67818574514039,30,12,1.1,14600,14470mV,0,0,0,0,0,127,0*3A!', 'time': '2011-11-10T13:22:55.000000', 'latitude': 56.0053, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 127.0, 'digital_input2': 0, 'speed': 42.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 42.0, 'uid': '557460032240926_888'}
2011.11.10 13:22:56 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:22:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:22:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:22:56 DEBUG: Recieving...
2011.11.10 13:22:56 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132256,E03813.5100,N5556.0270,195,5.399568034557235,138,3,1.1,14600,14470mV,0,0,0,0,0,3,0*39!\r\n'
2011.11.10 13:22:56 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132256,E03813.5100,N5556.0270,195,5.399568034557235,138,3,1.1,14600,14470mV,0,0,0,0,0,3,0*39!\r\n']
2011.11.10 13:22:56 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132256,E03813.5100,N5556.0270,195,5.399568034557235,138,3,1.1,14600,14470mV,0,0,0,0,0,3,0*39!

2011.11.10 13:22:56 DEBUG: Raw match found.
2011.11.10 13:22:56 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 195.0, 'azimuth': 138.0, 'longitude': 38.22516666666667, 'odometer': 3.0, 'satellitescount': 3, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132256,E03813.5100,N5556.0270,195,5.399568034557235,138,3,1.1,14600,14470mV,0,0,0,0,0,3,0*39!', 'time': '2011-11-10T13:22:56.000000', 'latitude': 55.93378333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 3.0, 'digital_input2': 0, 'speed': 10.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 10.0, 'uid': '457460032240926_888'}
2011.11.10 13:22:56 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:22:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:22:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:22:56 DEBUG: Recieving...
2011.11.10 13:22:56 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132256,E03116.8530,N5831.9200,29,0.0,199,10,1.1,14600,14470mV,0,0,0,0,0,11,0*0A!\r\n'
2011.11.10 13:22:56 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132256,E03116.8530,N5831.9200,29,0.0,199,10,1.1,14600,14470mV,0,0,0,0,0,11,0*0A!\r\n']
2011.11.10 13:22:56 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132256,E03116.8530,N5831.9200,29,0.0,199,10,1.1,14600,14470mV,0,0,0,0,0,11,0*0A!

2011.11.10 13:22:56 DEBUG: Raw match found.
2011.11.10 13:22:56 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 29.0, 'azimuth': 199.0, 'longitude': 31.280883333333332, 'odometer': 11.0, 'satellitescount': 10, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132256,E03116.8530,N5831.9200,29,0.0,199,10,1.1,14600,14470mV,0,0,0,0,0,11,0*0A!', 'time': '2011-11-10T13:22:56.000000', 'latitude': 58.532, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 11.0, 'digital_input2': 0, 'speed': 0.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 0.0, 'uid': '657460032240926_888'}
2011.11.10 13:22:58 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.54361867904663 seconds\\n","1":"Average query length: 0.011566354873333 seconds\\n","2":"Queries per second: 86.457661981789\\n","3":"Longest query length: 0.32615995407104\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.32615995407104},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0068821907043457},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'eaau1uoipt3v92i4ifs95g3ut2\')))","Time":0.0024418830871582},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0036718845367432},{"SQL":"select * from obj_info(38910)","Time":0.00081706047058105},{"SQL":"select * from obj_info(38910)","Time":0.0011940002441406},{"SQL":"select * from obj_prop_total(38910)","Time":0.046726942062378},{"SQL":"select obj_is_deleted(38910) as code","Time":0.002316951751709},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010769367218018},{"SQL":"select obj_is_deleted(104) as code","Time":0.00072813034057617},{"SQL":"select * from obj_info(104)","Time":0.00061893463134766},{"SQL":"select * from f_prop_total(104)","Time":0.025524139404297},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0046179294586182},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032889842987061},{"SQL":"select * from t_options(\'1006667041\')","Time":0.058724880218506},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.002051830291748},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0028061866760254},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00077700614929199},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00071096420288086},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00089907646179199},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023739337921143},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00095105171203613},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018939971923828},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017318725585938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0087008476257324},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061988830566406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069308280944824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063705444335938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056982040405273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055694580078125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057387351989746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0018770694732666},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093221664428711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012691020965576},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011529922485352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012240409851074},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099897384643555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071096420288086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059413909912109},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:22:56\') as code","Time":0.01350998878479},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408171\')","Time":0.0013070106506348},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0010759830474854},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0020251274108887},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0038208961486816}]},"timeleft":false}'
2011.11.10 13:22:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:22:58 DEBUG: Data chunk = b''
2011.11.10 13:22:58 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.60437893867493 seconds\\n","1":"Average query length: 0.012859126354786 seconds\\n","2":"Queries per second: 77.765780692235\\n","3":"Longest query length: 0.37100505828857\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.37100505828857},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0054709911346436},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'c8h4o1qdrrg2mvtof73h8gtjg4\')))","Time":0.00082802772521973},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.011191129684448},{"SQL":"select * from obj_info(58372)","Time":0.0015850067138672},{"SQL":"select * from obj_info(58372)","Time":0.00051522254943848},{"SQL":"select * from obj_prop_total(58372)","Time":0.071929931640625},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0023188591003418},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0012798309326172},{"SQL":"select obj_is_deleted(104) as code","Time":0.00083780288696289},{"SQL":"select * from obj_info(104)","Time":0.00058794021606445},{"SQL":"select * from f_prop_total(104)","Time":0.025152921676636},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038671493530273},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.003183126449585},{"SQL":"select * from t_options(\'1006667041\')","Time":0.05614185333252},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011110305786133},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0011639595031738},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00053596496582031},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00090312957763672},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00067996978759766},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024628639221191},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00047588348388672},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013911724090576},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0026378631591797},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015230178833008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074505805969238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073122978210449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000640869140625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061988830566406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066399574279785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070405006408691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014140605926514},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072312355041504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087404251098633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062704086303711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059294700622559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070309638977051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078296661376953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060081481933594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005190372467041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052309036254883},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:22:56\') as code","Time":0.021615982055664},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408173\')","Time":0.00049996376037598},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00053310394287109},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0004119873046875},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00046586990356445}]},"timeleft":false}'
2011.11.10 13:22:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:22:58 DEBUG: Data chunk = b''
2011.11.10 13:22:58 DEBUG: b'{"success":true,"profiler":{"0":"Executed 384 queries in 1.1858606338501 seconds\\n","1":"Average query length: 0.0030881787339846 seconds\\n","2":"Queries per second: 323.81545439558\\n","3":"Longest query length: 0.3674259185791\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.3674259185791},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050618648529053},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'qah68ch0s5p6jo68fuh21osrc6\')))","Time":0.00064396858215332},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0062692165374756},{"SQL":"select * from obj_info(58369)","Time":0.0010521411895752},{"SQL":"select * from obj_info(58369)","Time":0.00049495697021484},{"SQL":"select * from obj_prop_total(58369)","Time":0.075198888778687},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0022292137145996},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00092816352844238},{"SQL":"select obj_is_deleted(104) as code","Time":0.0042481422424316},{"SQL":"select * from obj_info(104)","Time":0.00049495697021484},{"SQL":"select * from f_prop_total(104)","Time":0.025512933731079},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0039889812469482},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.003432035446167},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036052942276001},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011920928955078},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012331008911133},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068378448486328},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00054216384887695},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068306922912598},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023529529571533},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034499168395996},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013339519500732},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018119812011719},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0080358982086182},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067710876464844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080108642578125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066089630126953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066804885864258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062203407287598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064802169799805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0033128261566162},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010690689086914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095796585083008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010769367218018},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012509822845459},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011658668518066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010478496551514},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0032200813293457},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.010300874710083},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016570091247559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010418891906738},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:22:55\') as code","Time":0.014961004257202},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408172\')","Time":0.0027987957000732},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00071287155151367},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0013799667358398},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00055503845214844},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00084495544433594},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408168)","Time":0.00052809715270996},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00029110908508301},{"SQL":"select * from acc_list(58369)","Time":0.00074601173400879},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019779205322266},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0012021064758301},{"SQL":"select z_has_point(1002846847, 56.012533333333, 37.868566666667, null) as state","Time":0.0047440528869629},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00035691261291504},{"SQL":"select z_has_point(171930, 56.012533333333, 37.868566666667, null) as state","Time":0.004072904586792},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00035214424133301},{"SQL":"select z_has_point(1387421, 56.012533333333, 37.868566666667, null) as state","Time":0.0024290084838867},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00026321411132812},{"SQL":"select z_has_point(1387486, 56.012533333333, 37.868566666667, null) as state","Time":0.0021061897277832},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026893615722656},{"SQL":"select z_has_point(1387485, 56.012533333333, 37.868566666667, null) as state","Time":0.00205397605896},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00024795532226562},{"SQL":"select z_has_point(1387499, 56.012533333333, 37.868566666667, null) as state","Time":0.0020351409912109},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00024580955505371},{"SQL":"select z_has_point(1387483, 56.012533333333, 37.868566666667, null) as state","Time":0.0020549297332764},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00024604797363281},{"SQL":"select z_has_point(1387484, 56.012533333333, 37.868566666667, null) as state","Time":0.0021800994873047},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00024509429931641},{"SQL":"select z_has_point(1387619, 56.012533333333, 37.868566666667, null) as state","Time":0.0023288726806641},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00023818016052246},{"SQL":"select z_has_point(8710, 56.012533333333, 37.868566666667, null) as state","Time":0.0021109580993652},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00020194053649902},{"SQL":"select z_has_point(1002827265, 56.012533333333, 37.868566666667, null) as state","Time":0.0020120143890381},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00020909309387207},{"SQL":"select z_has_point(37627, 56.012533333333, 37.868566666667, null) as state","Time":0.0020270347595215},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00057101249694824},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408165)","Time":0.00050687789916992},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00020885467529297},{"SQL":"select * from acc_list(58369)","Time":0.00027084350585938},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.00055909156799316},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00020003318786621},{"SQL":"select z_has_point(1002846847, 56.01195, 37.863583333333, null) as state","Time":0.0022058486938477},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00020599365234375},{"SQL":"select z_has_point(171930, 56.01195, 37.863583333333, null) as state","Time":0.0020267963409424},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00024700164794922},{"SQL":"select z_has_point(1387421, 56.01195, 37.863583333333, null) as state","Time":0.0020778179168701},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00020885467529297},{"SQL":"select z_has_point(1387486, 56.01195, 37.863583333333, null) as state","Time":0.0020949840545654},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.0002138614654541},{"SQL":"select z_has_point(1387485, 56.01195, 37.863583333333, null) as state","Time":0.002047061920166},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0002288818359375},{"SQL":"select z_has_point(1387499, 56.01195, 37.863583333333, null) as state","Time":0.0020201206207275},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00020098686218262},{"SQL":"select z_has_point(1387483, 56.01195, 37.863583333333, null) as state","Time":0.0019898414611816},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00023508071899414},{"SQL":"select z_has_point(1387484, 56.01195, 37.863583333333, null) as state","Time":0.0020630359649658},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00021696090698242},{"SQL":"select z_has_point(1387619, 56.01195, 37.863583333333, null) as state","Time":0.0021040439605713},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0001981258392334},{"SQL":"select z_has_point(8710, 56.01195, 37.863583333333, null) as state","Time":0.0021340847015381},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00020098686218262},{"SQL":"select z_has_point(1002827265, 56.01195, 37.863583333333, null) as state","Time":0.0021419525146484},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00020313262939453},{"SQL":"select z_has_point(37627, 56.01195, 37.863583333333, null) as state","Time":0.0020389556884766},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00054407119750977},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408162)","Time":0.00034093856811523},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00021696090698242},{"SQL":"select * from acc_list(58369)","Time":0.00028109550476074},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.00055909156799316},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0001990795135498},{"SQL":"select z_has_point(1002846847, 56.011233333333, 37.860766666667, null) as state","Time":0.0021049976348877},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00020313262939453},{"SQL":"select z_has_point(171930, 56.011233333333, 37.860766666667, null) as state","Time":0.0021460056304932},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00022101402282715},{"SQL":"select z_has_point(1387421, 56.011233333333, 37.860766666667, null) as state","Time":0.0020530223846436},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00020384788513184},{"SQL":"select z_has_point(1387486, 56.011233333333, 37.860766666667, null) as state","Time":0.0020859241485596},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00029110908508301},{"SQL":"select z_has_point(1387485, 56.011233333333, 37.860766666667, null) as state","Time":0.0020890235900879},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0002601146697998},{"SQL":"select z_has_point(1387499, 56.011233333333, 37.860766666667, null) as state","Time":0.0020480155944824},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00024604797363281},{"SQL":"select z_has_point(1387483, 56.011233333333, 37.860766666667, null) as state","Time":0.0021328926086426},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.0002748966217041},{"SQL":"select z_has_point(1387484, 56.011233333333, 37.860766666667, null) as state","Time":0.0021369457244873},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00027298927307129},{"SQL":"select z_has_point(1387619, 56.011233333333, 37.860766666667, null) as state","Time":0.0021250247955322},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00024700164794922},{"SQL":"select z_has_point(8710, 56.011233333333, 37.860766666667, null) as state","Time":0.0021650791168213},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00025510787963867},{"SQL":"select z_has_point(1002827265, 56.011233333333, 37.860766666667, null) as state","Time":0.0020787715911865},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00025701522827148},{"SQL":"select z_has_point(37627, 56.011233333333, 37.860766666667, null) as state","Time":0.0021200180053711},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00059008598327637},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408157)","Time":0.00040984153747559},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00025701522827148},{"SQL":"select * from acc_list(58369)","Time":0.00032305717468262},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.00059604644775391},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00026512145996094},{"SQL":"select z_has_point(1002846847, 56.009633333333, 37.855633333333, null) as state","Time":0.0021719932556152},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00035214424133301},{"SQL":"select z_has_point(171930, 56.009633333333, 37.855633333333, null) as state","Time":0.0021770000457764},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00041604042053223},{"SQL":"select z_has_point(1387421, 56.009633333333, 37.855633333333, null) as state","Time":0.0021071434020996},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00027203559875488},{"SQL":"select z_has_point(1387486, 56.009633333333, 37.855633333333, null) as state","Time":0.0021200180053711},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00041794776916504},{"SQL":"select z_has_point(1387485, 56.009633333333, 37.855633333333, null) as state","Time":0.0020878314971924},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00041294097900391},{"SQL":"select z_has_point(1387499, 56.009633333333, 37.855633333333, null) as state","Time":0.0020759105682373},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00028610229492188},{"SQL":"select z_has_point(1387483, 56.009633333333, 37.855633333333, null) as state","Time":0.0021610260009766},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00033092498779297},{"SQL":"select z_has_point(1387484, 56.009633333333, 37.855633333333, null) as state","Time":0.0021278858184814},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00046396255493164},{"SQL":"select z_has_point(1387619, 56.009633333333, 37.855633333333, null) as state","Time":0.0022139549255371},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00030112266540527},{"SQL":"select z_has_point(8710, 56.009633333333, 37.855633333333, null) as state","Time":0.0022211074829102},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00033307075500488},{"SQL":"select z_has_point(1002827265, 56.009633333333, 37.855633333333, null) as state","Time":0.0021910667419434},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00044512748718262},{"SQL":"select z_has_point(37627, 56.009633333333, 37.855633333333, null) as state","Time":0.0021381378173828},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00065708160400391},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408154)","Time":0.0004432201385498},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00036096572875977},{"SQL":"select * from acc_list(58369)","Time":0.00039219856262207},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.00066804885864258},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00032591819763184},{"SQL":"select z_has_point(1002846847, 56.0081, 37.851833333333, null) as state","Time":0.002187967300415},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00041103363037109},{"SQL":"select z_has_point(171930, 56.0081, 37.851833333333, null) as state","Time":0.0021359920501709},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00029897689819336},{"SQL":"select z_has_point(1387421, 56.0081, 37.851833333333, null) as state","Time":0.0021951198577881},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.0003359317779541},{"SQL":"select z_has_point(1387486, 56.0081, 37.851833333333, null) as state","Time":0.0020971298217773},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.0004119873046875},{"SQL":"select z_has_point(1387485, 56.0081, 37.851833333333, null) as state","Time":0.0022649765014648},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00042009353637695},{"SQL":"select z_has_point(1387499, 56.0081, 37.851833333333, null) as state","Time":0.002129077911377},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00040984153747559},{"SQL":"select z_has_point(1387483, 56.0081, 37.851833333333, null) as state","Time":0.002094030380249},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00044608116149902},{"SQL":"select z_has_point(1387484, 56.0081, 37.851833333333, null) as state","Time":0.0021371841430664},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.0004279613494873},{"SQL":"select z_has_point(1387619, 56.0081, 37.851833333333, null) as state","Time":0.0022740364074707},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0004420280456543},{"SQL":"select z_has_point(8710, 56.0081, 37.851833333333, null) as state","Time":0.0021889209747314},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00041103363037109},{"SQL":"select z_has_point(1002827265, 56.0081, 37.851833333333, null) as state","Time":0.0020949840545654},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00047802925109863},{"SQL":"select z_has_point(37627, 56.0081, 37.851833333333, null) as state","Time":0.0022001266479492},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00064396858215332},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408152)","Time":0.00043702125549316},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00031900405883789},{"SQL":"select * from acc_list(58369)","Time":0.00037503242492676},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.00067591667175293},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00033283233642578},{"SQL":"select z_has_point(1002846847, 56.007616666667, 37.851016666667, null) as state","Time":0.0021700859069824},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00031208992004395},{"SQL":"select z_has_point(171930, 56.007616666667, 37.851016666667, null) as state","Time":0.0020949840545654},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00034117698669434},{"SQL":"select z_has_point(1387421, 56.007616666667, 37.851016666667, null) as state","Time":0.0022580623626709},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00034093856811523},{"SQL":"select z_has_point(1387486, 56.007616666667, 37.851016666667, null) as state","Time":0.002108097076416},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00040817260742188},{"SQL":"select z_has_point(1387485, 56.007616666667, 37.851016666667, null) as state","Time":0.0021190643310547},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00041699409484863},{"SQL":"select z_has_point(1387499, 56.007616666667, 37.851016666667, null) as state","Time":0.0021450519561768},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00032997131347656},{"SQL":"select z_has_point(1387483, 56.007616666667, 37.851016666667, null) as state","Time":0.0020859241485596},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00032806396484375},{"SQL":"select z_has_point(1387484, 56.007616666667, 37.851016666667, null) as state","Time":0.0020809173583984},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00032496452331543},{"SQL":"select z_has_point(1387619, 56.007616666667, 37.851016666667, null) as state","Time":0.0021820068359375},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00033903121948242},{"SQL":"select z_has_point(8710, 56.007616666667, 37.851016666667, null) as state","Time":0.002190113067627},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00041413307189941},{"SQL":"select z_has_point(1002827265, 56.007616666667, 37.851016666667, null) as state","Time":0.0021400451660156},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00031900405883789},{"SQL":"select z_has_point(37627, 56.007616666667, 37.851016666667, null) as state","Time":0.0022151470184326},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00064682960510254},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408148)","Time":0.00045180320739746},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00042414665222168},{"SQL":"select * from acc_list(58369)","Time":0.00037908554077148},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.00066590309143066},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00041413307189941},{"SQL":"select z_has_point(1002846847, 56.005683333333, 37.8477, null) as state","Time":0.0022101402282715},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00040411949157715},{"SQL":"select z_has_point(171930, 56.005683333333, 37.8477, null) as state","Time":0.0021657943725586},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00031614303588867},{"SQL":"select z_has_point(1387421, 56.005683333333, 37.8477, null) as state","Time":0.0021200180053711},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00041508674621582},{"SQL":"select z_has_point(1387486, 56.005683333333, 37.8477, null) as state","Time":0.0021049976348877},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00042104721069336},{"SQL":"select z_has_point(1387485, 56.005683333333, 37.8477, null) as state","Time":0.0021471977233887},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00032806396484375},{"SQL":"select z_has_point(1387499, 56.005683333333, 37.8477, null) as state","Time":0.0020918846130371},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00041699409484863},{"SQL":"select z_has_point(1387483, 56.005683333333, 37.8477, null) as state","Time":0.0021038055419922},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00040292739868164},{"SQL":"select z_has_point(1387484, 56.005683333333, 37.8477, null) as state","Time":0.0021910667419434},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00034594535827637},{"SQL":"select z_has_point(1387619, 56.005683333333, 37.8477, null) as state","Time":0.0022130012512207},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00041508674621582},{"SQL":"select z_has_point(8710, 56.005683333333, 37.8477, null) as state","Time":0.0022139549255371},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00027298927307129},{"SQL":"select z_has_point(1002827265, 56.005683333333, 37.8477, null) as state","Time":0.0021719932556152},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.0004119873046875},{"SQL":"select z_has_point(37627, 56.005683333333, 37.8477, null) as state","Time":0.0021660327911377},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00064396858215332},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408147)","Time":0.00043797492980957},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00041604042053223},{"SQL":"select * from acc_list(58369)","Time":0.00037813186645508},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.00072288513183594},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00030899047851562},{"SQL":"select z_has_point(1002846847, 56.0053, 37.847166666667, null) as state","Time":0.0021800994873047},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00028896331787109},{"SQL":"select z_has_point(171930, 56.0053, 37.847166666667, null) as state","Time":0.0021200180053711},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00041580200195312},{"SQL":"select z_has_point(1387421, 56.0053, 37.847166666667, null) as state","Time":0.0021340847015381},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00041890144348145},{"SQL":"select z_has_point(1387486, 56.0053, 37.847166666667, null) as state","Time":0.0020828247070312},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00029516220092773},{"SQL":"select z_has_point(1387485, 56.0053, 37.847166666667, null) as state","Time":0.0020918846130371},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0002739429473877},{"SQL":"select z_has_point(1387499, 56.0053, 37.847166666667, null) as state","Time":0.0022189617156982},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00033211708068848},{"SQL":"select z_has_point(1387483, 56.0053, 37.847166666667, null) as state","Time":0.002169132232666},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00029683113098145},{"SQL":"select z_has_point(1387484, 56.0053, 37.847166666667, null) as state","Time":0.0020790100097656},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00042414665222168},{"SQL":"select z_has_point(1387619, 56.0053, 37.847166666667, null) as state","Time":0.0023128986358643},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00041484832763672},{"SQL":"select z_has_point(8710, 56.0053, 37.847166666667, null) as state","Time":0.0021989345550537},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.0004119873046875},{"SQL":"select z_has_point(1002827265, 56.0053, 37.847166666667, null) as state","Time":0.0020968914031982},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00029587745666504},{"SQL":"select z_has_point(37627, 56.0053, 37.847166666667, null) as state","Time":0.0021917819976807},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00065398216247559},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408144)","Time":0.0004420280456543},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00043177604675293},{"SQL":"select * from acc_list(58369)","Time":0.00039315223693848},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.00066900253295898},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00041317939758301},{"SQL":"select z_has_point(1002846847, 56.007616666667, 37.851016666667, null) as state","Time":0.0021641254425049},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.0003199577331543},{"SQL":"select z_has_point(171930, 56.007616666667, 37.851016666667, null) as state","Time":0.0021579265594482},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00033283233642578},{"SQL":"select z_has_point(1387421, 56.007616666667, 37.851016666667, null) as state","Time":0.0021789073944092},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00033092498779297},{"SQL":"select z_has_point(1387486, 56.007616666667, 37.851016666667, null) as state","Time":0.0021438598632812},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00034379959106445},{"SQL":"select z_has_point(1387485, 56.007616666667, 37.851016666667, null) as state","Time":0.0021929740905762},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00033092498779297},{"SQL":"select z_has_point(1387499, 56.007616666667, 37.851016666667, null) as state","Time":0.002161979675293},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00031495094299316},{"SQL":"select z_has_point(1387483, 56.007616666667, 37.851016666667, null) as state","Time":0.0023081302642822},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00048303604125977},{"SQL":"select z_has_point(1387484, 56.007616666667, 37.851016666667, null) as state","Time":0.0022759437561035},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00035309791564941},{"SQL":"select z_has_point(1387619, 56.007616666667, 37.851016666667, null) as state","Time":0.0022718906402588},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0003669261932373},{"SQL":"select z_has_point(8710, 56.007616666667, 37.851016666667, null) as state","Time":0.0023610591888428},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00034117698669434},{"SQL":"select z_has_point(1002827265, 56.007616666667, 37.851016666667, null) as state","Time":0.0021669864654541},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00033712387084961},{"SQL":"select z_has_point(37627, 56.007616666667, 37.851016666667, null) as state","Time":0.0021660327911377},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00063109397888184},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408141)","Time":0.00046586990356445},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00042319297790527},{"SQL":"select * from acc_list(58369)","Time":0.00051403045654297},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.00066280364990234},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00030112266540527},{"SQL":"select z_has_point(1002846847, 56.005683333333, 37.8477, null) as state","Time":0.0025150775909424},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00044012069702148},{"SQL":"select z_has_point(171930, 56.005683333333, 37.8477, null) as state","Time":0.002485990524292},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00034999847412109},{"SQL":"select z_has_point(1387421, 56.005683333333, 37.8477, null) as state","Time":0.0022239685058594},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00033116340637207},{"SQL":"select z_has_point(1387486, 56.005683333333, 37.8477, null) as state","Time":0.0021300315856934},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00030994415283203},{"SQL":"select z_has_point(1387485, 56.005683333333, 37.8477, null) as state","Time":0.0021779537200928},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00037789344787598},{"SQL":"select z_has_point(1387499, 56.005683333333, 37.8477, null) as state","Time":0.002169132232666},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00034594535827637},{"SQL":"select z_has_point(1387483, 56.005683333333, 37.8477, null) as state","Time":0.0021541118621826},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00041985511779785},{"SQL":"select z_has_point(1387484, 56.005683333333, 37.8477, null) as state","Time":0.0021858215332031},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00042891502380371},{"SQL":"select z_has_point(1387619, 56.005683333333, 37.8477, null) as state","Time":0.002295970916748},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0004119873046875},{"SQL":"select z_has_point(8710, 56.005683333333, 37.8477, null) as state","Time":0.0021998882293701},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00026702880859375},{"SQL":"select z_has_point(1002827265, 56.005683333333, 37.8477, null) as state","Time":0.0023789405822754},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00034308433532715},{"SQL":"select z_has_point(37627, 56.005683333333, 37.8477, null) as state","Time":0.0021719932556152},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00064706802368164},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408136)","Time":0.00045013427734375},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0004119873046875},{"SQL":"select * from acc_list(58369)","Time":0.00037407875061035},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0006868839263916},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00030612945556641},{"SQL":"select z_has_point(1002846847, 56.0053, 37.847166666667, null) as state","Time":0.0021820068359375},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.0004429817199707},{"SQL":"select z_has_point(171930, 56.0053, 37.847166666667, null) as state","Time":0.0021569728851318},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00041294097900391},{"SQL":"select z_has_point(1387421, 56.0053, 37.847166666667, null) as state","Time":0.0024111270904541},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00033903121948242},{"SQL":"select z_has_point(1387486, 56.0053, 37.847166666667, null) as state","Time":0.0025730133056641},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00034594535827637},{"SQL":"select z_has_point(1387485, 56.0053, 37.847166666667, null) as state","Time":0.0021498203277588},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00041508674621582},{"SQL":"select z_has_point(1387499, 56.0053, 37.847166666667, null) as state","Time":0.0022261142730713},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00040507316589355},{"SQL":"select z_has_point(1387483, 56.0053, 37.847166666667, null) as state","Time":0.0021431446075439},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.0005340576171875},{"SQL":"select z_has_point(1387484, 56.0053, 37.847166666667, null) as state","Time":0.0021388530731201},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00047087669372559},{"SQL":"select z_has_point(1387619, 56.0053, 37.847166666667, null) as state","Time":0.0022430419921875},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0004119873046875},{"SQL":"select z_has_point(8710, 56.0053, 37.847166666667, null) as state","Time":0.0023109912872314},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00034189224243164},{"SQL":"select z_has_point(1002827265, 56.0053, 37.847166666667, null) as state","Time":0.002255916595459},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00034809112548828},{"SQL":"select z_has_point(37627, 56.0053, 37.847166666667, null) as state","Time":0.0023360252380371},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00065994262695312},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022135019302368},{"SQL":"select * from notif_get_matches2(58369, 1367053, \'2011-11-10 11:59:49\', \'2011-11-10 13:00:08\', null, null)","Time":0.0046529769897461},{"SQL":"select * from notif_get_speed_params(1351384)","Time":0.014671802520752},{"SQL":"select * from notif_get_matches2(58369, 1351384, \'2011-11-10 11:59:49\', \'2011-11-10 13:00:08\', 40, true)","Time":0.00072789192199707},{"SQL":"select notif_create_work2(1351382, \'2011-11-10 12:54:20\', 4, 58369, null, \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', false, false, true) as id","Time":0.036397933959961},{"SQL":"select notif_create_event(1387931) as code","Time":0.01647686958313},{"SQL":"select notif_create_work2(1351382, \'2011-11-10 12:58:22\', 4, 58369, null, \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', false, false, true) as id","Time":0.011996030807495},{"SQL":"select notif_create_event(1387933) as code","Time":0.0094900131225586},{"SQL":"select notif_create_work2(1351382, \'2011-11-10 12:58:42\', 4, 58369, null, \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', false, false, true) as id","Time":0.012065887451172},{"SQL":"select notif_create_event(1387935) as code","Time":0.0094821453094482},{"SQL":"select notif_create_work2(1351382, \'2011-11-10 12:54:01\', 4, 58369, null, \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', false, false, true) as id","Time":0.011866807937622},{"SQL":"select notif_create_event(1387937) as code","Time":0.0094840526580811},{"SQL":"select notif_create_work2(1351382, \'2011-11-10 12:54:31\', 4, 58369, null, \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', false, false, true) as id","Time":0.011744022369385},{"SQL":"select notif_create_event(1387939) as code","Time":0.0093891620635986},{"SQL":"select notif_create_work2(1351382, \'2011-11-10 12:58:09\', 4, 58369, null, \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', false, false, true) as id","Time":0.012207984924316},{"SQL":"select notif_create_event(1387941) as code","Time":0.0097730159759521},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:00:08\') as code","Time":0.016672849655151}]},"timeleft":false}'
2011.11.10 13:22:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:22:58 DEBUG: Data chunk = b''
2011.11.10 13:23:08 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:08 DEBUG: Recieving...
2011.11.10 13:23:08 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132308,E03750.8620,N5600.3410,167,25.91792656587473,39,7,1.1,14600,14470mV,0,0,0,0,0,54,0*3F!\r\n'
2011.11.10 13:23:08 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132308,E03750.8620,N5600.3410,167,25.91792656587473,39,7,1.1,14600,14470mV,0,0,0,0,0,54,0*3F!\r\n']
2011.11.10 13:23:08 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132308,E03750.8620,N5600.3410,167,25.91792656587473,39,7,1.1,14600,14470mV,0,0,0,0,0,54,0*3F!

2011.11.10 13:23:08 DEBUG: Raw match found.
2011.11.10 13:23:08 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 167.0, 'azimuth': 39.0, 'longitude': 37.8477, 'odometer': 54.0, 'satellitescount': 7, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132308,E03750.8620,N5600.3410,167,25.91792656587473,39,7,1.1,14600,14470mV,0,0,0,0,0,54,0*3F!', 'time': '2011-11-10T13:23:08.000000', 'latitude': 56.00568333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 54.0, 'digital_input2': 0, 'speed': 48.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 48.0, 'uid': '557460032240926_888'}
2011.11.10 13:23:09 DEBUG: b'{"success":true,"profiler":{"0":"Executed 84 queries in 0.33878779411316 seconds\\n","1":"Average query length: 0.0040331880251567 seconds\\n","2":"Queries per second: 247.94281688892\\n","3":"Longest query length: 0.052984952926636\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.027898788452148},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.00502610206604},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'fttd5acuukul871ncca36tqg30\')))","Time":0.00072288513183594},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0028121471405029},{"SQL":"select * from obj_info(58369)","Time":0.0005340576171875},{"SQL":"select * from obj_info(58369)","Time":0.00026297569274902},{"SQL":"select * from obj_prop_total(58369)","Time":0.052984952926636},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015370845794678},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00083088874816895},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047993659973145},{"SQL":"select * from obj_info(104)","Time":0.00029087066650391},{"SQL":"select * from f_prop_total(104)","Time":0.020370960235596},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0031700134277344},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032250881195068},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03719687461853},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.004194974899292},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0014171600341797},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00075387954711914},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00091195106506348},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00071310997009277},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023870468139648},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0004270076751709},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013070106506348},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020239353179932},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010809898376465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046300888061523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004279613494873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041794776916504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004429817199707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042295455932617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039911270141602},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012328624725342},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007469654083252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054287910461426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054001808166504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053691864013672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054192543029785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052905082702637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005340576171875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005640983581543},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:23:08\') as code","Time":0.014839887619019},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408174\')","Time":0.00048995018005371},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00060105323791504},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00044703483581543},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00049209594726562},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00058794021606445},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408172)","Time":0.00045204162597656},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00029182434082031},{"SQL":"select * from acc_list(58369)","Time":0.00073409080505371},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0018689632415771},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00071501731872559},{"SQL":"select z_has_point(1002846847, 56.0053, 37.847166666667, null) as state","Time":0.0040829181671143},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00027084350585938},{"SQL":"select z_has_point(171930, 56.0053, 37.847166666667, null) as state","Time":0.002190113067627},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0002899169921875},{"SQL":"select z_has_point(1387421, 56.0053, 37.847166666667, null) as state","Time":0.0027329921722412},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00028085708618164},{"SQL":"select z_has_point(1387486, 56.0053, 37.847166666667, null) as state","Time":0.0022509098052979},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026297569274902},{"SQL":"select z_has_point(1387485, 56.0053, 37.847166666667, null) as state","Time":0.0027310848236084},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00027203559875488},{"SQL":"select z_has_point(1387499, 56.0053, 37.847166666667, null) as state","Time":0.0021438598632812},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00031495094299316},{"SQL":"select z_has_point(1387483, 56.0053, 37.847166666667, null) as state","Time":0.0034551620483398},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00028300285339355},{"SQL":"select z_has_point(1387484, 56.0053, 37.847166666667, null) as state","Time":0.0025739669799805},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.0003809928894043},{"SQL":"select z_has_point(1387619, 56.0053, 37.847166666667, null) as state","Time":0.0029950141906738},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00026416778564453},{"SQL":"select z_has_point(8710, 56.0053, 37.847166666667, null) as state","Time":0.0023059844970703},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00026988983154297},{"SQL":"select z_has_point(1002827265, 56.0053, 37.847166666667, null) as state","Time":0.0027968883514404},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00031805038452148},{"SQL":"select z_has_point(37627, 56.0053, 37.847166666667, null) as state","Time":0.0034730434417725},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00092387199401855},{"SQL":"select * from notif_get_by_object(58369)","Time":0.028905153274536},{"SQL":"select * from notif_get_matches2(58369, 1367053, \'2011-11-10 13:00:08\', \'2011-11-10 13:22:55\', null, null)","Time":0.0066149234771729},{"SQL":"select * from notif_get_speed_params(1351384)","Time":0.0016951560974121},{"SQL":"select * from notif_get_matches2(58369, 1351384, \'2011-11-10 13:00:08\', \'2011-11-10 13:22:55\', 40, true)","Time":0.0010368824005127},{"SQL":"select notif_create_work2(1351382, \'2011-11-10 13:22:55\', 4, 58369, null, \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', \'%TIME% \\u0441\\u043a\\u043e\\u0440\\u043e\\u0441\\u0442\\u044c \\u0443\\u0441\\u0442\\u0440\\u043e\\u0439\\u0441\\u0442\\u0432\\u0430 %NAME% \\u0441\\u043e\\u0441\\u0442\\u0430\\u0432\\u0438\\u043b\\u0430 %SPEED% \\u043a\\u043c\\/\\u0447 \\u0432 \\u0440\\u0430\\u0439\\u043e\\u043d\\u0435 %ADDRESS%\', false, false, true) as id","Time":0.025264024734497},{"SQL":"select notif_create_event(1387943) as code","Time":0.017936944961548},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:22:55\') as code","Time":0.015960931777954}]},"timeleft":false}'
2011.11.10 13:23:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:09 DEBUG: Data chunk = b''
2011.11.10 13:23:10 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:10 DEBUG: Recieving...
2011.11.10 13:23:10 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132310,E03813.5190,N5556.0210,191,9.1792656587473,137,5,1.1,14600,14470mV,0,0,0,0,0,14,0*0C!\r\n'
2011.11.10 13:23:10 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132310,E03813.5190,N5556.0210,191,9.1792656587473,137,5,1.1,14600,14470mV,0,0,0,0,0,14,0*0C!\r\n']
2011.11.10 13:23:10 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132310,E03813.5190,N5556.0210,191,9.1792656587473,137,5,1.1,14600,14470mV,0,0,0,0,0,14,0*0C!

2011.11.10 13:23:10 DEBUG: Raw match found.
2011.11.10 13:23:10 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 191.0, 'azimuth': 137.0, 'longitude': 38.225316666666664, 'odometer': 14.0, 'satellitescount': 5, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132310,E03813.5190,N5556.0210,191,9.1792656587473,137,5,1.1,14600,14470mV,0,0,0,0,0,14,0*0C!', 'time': '2011-11-10T13:23:10.000000', 'latitude': 55.933683333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 14.0, 'digital_input2': 0, 'speed': 17.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 17.0, 'uid': '457460032240926_888'}
2011.11.10 13:23:11 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17105054855347 seconds\\n","1":"Average query length: 0.003639373373478 seconds\\n","2":"Queries per second: 274.77257686378\\n","3":"Longest query length: 0.041711091995239\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.021259069442749},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036230087280273},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'prn7qttu2au6dvvl28c423lra6\')))","Time":0.00068402290344238},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025498867034912},{"SQL":"select * from obj_info(38910)","Time":0.0005340576171875},{"SQL":"select * from obj_info(38910)","Time":0.00028204917907715},{"SQL":"select * from obj_prop_total(38910)","Time":0.041711091995239},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014150142669678},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00066494941711426},{"SQL":"select obj_is_deleted(104) as code","Time":0.0004429817199707},{"SQL":"select * from obj_info(104)","Time":0.00028300285339355},{"SQL":"select * from f_prop_total(104)","Time":0.014739990234375},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023601055145264},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021259784698486},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032519102096558},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0013659000396729},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0012660026550293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065493583679199},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010490417480469},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013461112976074},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044810771942139},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00083398818969727},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021629333496094},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0031058788299561},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017218589782715},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074911117553711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072598457336426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083279609680176},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072789192199707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072216987609863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078678131103516},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007178783416748},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000701904296875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048398971557617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041007995605469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00036907196044922},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043392181396484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042510032653809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041699409484863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043106079101562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013411045074463},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088405609130859},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:23:10\') as code","Time":0.013710975646973},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408175\')","Time":0.00073885917663574},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00058484077453613},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0010828971862793},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00059103965759277}]},"timeleft":false}'
2011.11.10 13:23:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:11 DEBUG: Data chunk = b''
2011.11.10 13:23:13 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:13 DEBUG: Recieving...
2011.11.10 13:23:13 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132313,E03116.8420,N5831.9190,28,3.239740820734341,262,11,1.1,14600,14470mV,0,0,0,0,0,11,0*03!\r\n'
2011.11.10 13:23:13 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132313,E03116.8420,N5831.9190,28,3.239740820734341,262,11,1.1,14600,14470mV,0,0,0,0,0,11,0*03!\r\n']
2011.11.10 13:23:13 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132313,E03116.8420,N5831.9190,28,3.239740820734341,262,11,1.1,14600,14470mV,0,0,0,0,0,11,0*03!

2011.11.10 13:23:13 DEBUG: Raw match found.
2011.11.10 13:23:13 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 262.0, 'longitude': 31.2807, 'odometer': 11.0, 'satellitescount': 11, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132313,E03116.8420,N5831.9190,28,3.239740820734341,262,11,1.1,14600,14470mV,0,0,0,0,0,11,0*03!', 'time': '2011-11-10T13:23:13.000000', 'latitude': 58.531983333333336, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 11.0, 'digital_input2': 0, 'speed': 6.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 6.0, 'uid': '657460032240926_888'}
2011.11.10 13:23:14 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19522905349731 seconds\\n","1":"Average query length: 0.004153809648879 seconds\\n","2":"Queries per second: 240.74285644501\\n","3":"Longest query length: 0.044841051101685\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.02357292175293},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0038421154022217},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'stf06ofnka5qfab55vutn795e4\')))","Time":0.00074601173400879},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0024888515472412},{"SQL":"select * from obj_info(58372)","Time":0.00056099891662598},{"SQL":"select * from obj_info(58372)","Time":0.00031495094299316},{"SQL":"select * from obj_prop_total(58372)","Time":0.044841051101685},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0012660026550293},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0006861686706543},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045108795166016},{"SQL":"select * from obj_info(104)","Time":0.00034499168395996},{"SQL":"select * from f_prop_total(104)","Time":0.015196800231934},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025620460510254},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021169185638428},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032664060592651},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012409687042236},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0013689994812012},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00062990188598633},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010139942169189},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0017080307006836},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0040051937103271},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0005958080291748},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020430088043213},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0025200843811035},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013329982757568},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091218948364258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014588832855225},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095486640930176},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081396102905273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082492828369141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012760162353516},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017671585083008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082111358642578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087904930114746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0078451633453369},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084590911865234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081086158752441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008080005645752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075984001159668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079202651977539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075316429138184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084495544433594},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:23:13\') as code","Time":0.021040916442871},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408176\')","Time":0.00083017349243164},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00074982643127441},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0006561279296875},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00066995620727539}]},"timeleft":false}'
2011.11.10 13:23:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:14 DEBUG: Data chunk = b''
2011.11.10 13:23:21 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:21 DEBUG: Recieving...
2011.11.10 13:23:21 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132321,E03813.5270,N5556.0160,188,12.419006479481641,138,8,1.1,14600,14470mV,0,0,0,0,0,13,0*3C!\r\n'
2011.11.10 13:23:21 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132321,E03813.5270,N5556.0160,188,12.419006479481641,138,8,1.1,14600,14470mV,0,0,0,0,0,13,0*3C!\r\n']
2011.11.10 13:23:21 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132321,E03813.5270,N5556.0160,188,12.419006479481641,138,8,1.1,14600,14470mV,0,0,0,0,0,13,0*3C!

2011.11.10 13:23:21 DEBUG: Raw match found.
2011.11.10 13:23:21 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 188.0, 'azimuth': 138.0, 'longitude': 38.22545, 'odometer': 13.0, 'satellitescount': 8, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132321,E03813.5270,N5556.0160,188,12.419006479481641,138,8,1.1,14600,14470mV,0,0,0,0,0,13,0*3C!', 'time': '2011-11-10T13:23:21.000000', 'latitude': 55.9336, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 13.0, 'digital_input2': 0, 'speed': 23.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 23.0, 'uid': '457460032240926_888'}
2011.11.10 13:23:22 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19547176361084 seconds\\n","1":"Average query length: 0.0041589736938477 seconds\\n","2":"Queries per second: 240.44393487732\\n","3":"Longest query length: 0.04006814956665\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.024028062820435},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034260749816895},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'vq1066bma1rsumdn1642gcg7b1\')))","Time":0.00069808959960938},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025839805603027},{"SQL":"select * from obj_info(38910)","Time":0.00061702728271484},{"SQL":"select * from obj_info(38910)","Time":0.00034213066101074},{"SQL":"select * from obj_prop_total(38910)","Time":0.04006814956665},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0018191337585449},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00068402290344238},{"SQL":"select obj_is_deleted(104) as code","Time":0.00048112869262695},{"SQL":"select * from obj_info(104)","Time":0.00029802322387695},{"SQL":"select * from f_prop_total(104)","Time":0.015301942825317},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024559497833252},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020260810852051},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031306028366089},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011758804321289},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013208389282227},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006108283996582},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010709762573242},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.001399040222168},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0046508312225342},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00084900856018066},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021100044250488},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0035910606384277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.015869140625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098919868469238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082087516784668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085806846618652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093388557434082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085210800170898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009610652923584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088214874267578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096607208251953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087690353393555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010380744934082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087881088256836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091099739074707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011470317840576},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076103210449219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073099136352539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069785118103027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087904930114746},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:23:21\') as code","Time":0.019134044647217},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408177\')","Time":0.00066184997558594},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0006260871887207},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0005500316619873},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00053215026855469}]},"timeleft":false}'
2011.11.10 13:23:22 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:22 DEBUG: Data chunk = b''
2011.11.10 13:23:26 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:26 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:26 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:26 DEBUG: Recieving...
2011.11.10 13:23:26 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132326,E03751.0610,N5600.4570,166,23.218142548596113,44,9,1.1,14600,14470mV,0,0,0,0,0,298,0*3F!\r\n'
2011.11.10 13:23:26 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132326,E03751.0610,N5600.4570,166,23.218142548596113,44,9,1.1,14600,14470mV,0,0,0,0,0,298,0*3F!\r\n']
2011.11.10 13:23:26 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132326,E03751.0610,N5600.4570,166,23.218142548596113,44,9,1.1,14600,14470mV,0,0,0,0,0,298,0*3F!

2011.11.10 13:23:26 DEBUG: Raw match found.
2011.11.10 13:23:26 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 166.0, 'azimuth': 44.0, 'longitude': 37.851016666666666, 'odometer': 298.0, 'satellitescount': 9, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132326,E03751.0610,N5600.4570,166,23.218142548596113,44,9,1.1,14600,14470mV,0,0,0,0,0,298,0*3F!', 'time': '2011-11-10T13:23:26.000000', 'latitude': 56.007616666666664, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 298.0, 'digital_input2': 0, 'speed': 43.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 43.0, 'uid': '557460032240926_888'}
2011.11.10 13:23:28 DEBUG: b'{"success":true,"profiler":{"0":"Executed 80 queries in 0.78052139282227 seconds\\n","1":"Average query length: 0.0097565174102783 seconds\\n","2":"Queries per second: 102.49558914808\\n","3":"Longest query length: 0.32924699783325\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.32924699783325},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.005789041519165},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'oooofcktld9o0ds519u58o9573\')))","Time":0.0012028217315674},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0043280124664307},{"SQL":"select * from obj_info(58369)","Time":0.00094795227050781},{"SQL":"select * from obj_info(58369)","Time":0.00074982643127441},{"SQL":"select * from obj_prop_total(58369)","Time":0.073616981506348},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0021250247955322},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00087213516235352},{"SQL":"select obj_is_deleted(104) as code","Time":0.00050902366638184},{"SQL":"select * from obj_info(104)","Time":0.00029587745666504},{"SQL":"select * from f_prop_total(104)","Time":0.019901990890503},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0027759075164795},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0036880970001221},{"SQL":"select * from t_options(\'1006667041\')","Time":0.056953191757202},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0017690658569336},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0018281936645508},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00092101097106934},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0005500316619873},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00091695785522461},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0036201477050781},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00036787986755371},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.093183994293213},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0021219253540039},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.011374950408936},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072097778320312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090789794921875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069093704223633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063681602478027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060892105102539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059294700622559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082087516784668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062799453735352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069689750671387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059986114501953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063681602478027},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:23:26\') as code","Time":0.015713214874268},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408178\')","Time":0.00065708160400391},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049090385437012},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035595893859863},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00046396255493164},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00058984756469727},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408174)","Time":0.0038249492645264},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00033712387084961},{"SQL":"select * from acc_list(58369)","Time":0.00089597702026367},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.00518798828125},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00086688995361328},{"SQL":"select z_has_point(1002846847, 56.005683333333, 37.8477, null) as state","Time":0.0036909580230713},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00030016899108887},{"SQL":"select z_has_point(171930, 56.005683333333, 37.8477, null) as state","Time":0.0027039051055908},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00033712387084961},{"SQL":"select z_has_point(1387421, 56.005683333333, 37.8477, null) as state","Time":0.0030331611633301},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00057411193847656},{"SQL":"select z_has_point(1387486, 56.005683333333, 37.8477, null) as state","Time":0.0048069953918457},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00053596496582031},{"SQL":"select z_has_point(1387485, 56.005683333333, 37.8477, null) as state","Time":0.0042719841003418},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00057697296142578},{"SQL":"select z_has_point(1387499, 56.005683333333, 37.8477, null) as state","Time":0.0040569305419922},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00048494338989258},{"SQL":"select z_has_point(1387483, 56.005683333333, 37.8477, null) as state","Time":0.0041689872741699},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00040602684020996},{"SQL":"select z_has_point(1387484, 56.005683333333, 37.8477, null) as state","Time":0.0038299560546875},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00046992301940918},{"SQL":"select z_has_point(1387619, 56.005683333333, 37.8477, null) as state","Time":0.0042068958282471},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00043082237243652},{"SQL":"select z_has_point(8710, 56.005683333333, 37.8477, null) as state","Time":0.0039129257202148},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00052094459533691},{"SQL":"select z_has_point(1002827265, 56.005683333333, 37.8477, null) as state","Time":0.0043549537658691},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.0004727840423584},{"SQL":"select z_has_point(37627, 56.005683333333, 37.8477, null) as state","Time":0.0042660236358643},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0010390281677246},{"SQL":"select * from notif_get_by_object(58369)","Time":0.037422895431519},{"SQL":"select * from notif_get_matches2(58369, 1367053, \'2011-11-10 13:22:55\', \'2011-11-10 13:23:08\', null, null)","Time":0.0076260566711426},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:23:08\') as code","Time":0.021842956542969}]},"timeleft":false}'
2011.11.10 13:23:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:28 DEBUG: Data chunk = b''
2011.11.10 13:23:29 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:29 DEBUG: Recieving...
2011.11.10 13:23:29 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132329,E03116.8210,N5831.9210,26,3.7796976241900646,282,7,1.1,14600,14470mV,0,0,0,0,0,21,0*0A!\r\n'
2011.11.10 13:23:29 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132329,E03116.8210,N5831.9210,26,3.7796976241900646,282,7,1.1,14600,14470mV,0,0,0,0,0,21,0*0A!\r\n']
2011.11.10 13:23:29 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132329,E03116.8210,N5831.9210,26,3.7796976241900646,282,7,1.1,14600,14470mV,0,0,0,0,0,21,0*0A!

2011.11.10 13:23:29 DEBUG: Raw match found.
2011.11.10 13:23:29 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 282.0, 'longitude': 31.28035, 'odometer': 21.0, 'satellitescount': 7, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132329,E03116.8210,N5831.9210,26,3.7796976241900646,282,7,1.1,14600,14470mV,0,0,0,0,0,21,0*0A!', 'time': '2011-11-10T13:23:29.000000', 'latitude': 58.532016666666664, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 21.0, 'digital_input2': 0, 'speed': 7.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 7.0, 'uid': '657460032240926_888'}
2011.11.10 13:23:30 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.23325276374817 seconds\\n","1":"Average query length: 0.0049628247605993 seconds\\n","2":"Queries per second: 201.49814838097\\n","3":"Longest query length: 0.054056882858276\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.02827787399292},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0054421424865723},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'qm608g207po2ot2c83720ugj03\')))","Time":0.00092911720275879},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0039019584655762},{"SQL":"select * from obj_info(58372)","Time":0.00064992904663086},{"SQL":"select * from obj_info(58372)","Time":0.00031113624572754},{"SQL":"select * from obj_prop_total(58372)","Time":0.054056882858276},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0022029876708984},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00088715553283691},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005490779876709},{"SQL":"select * from obj_info(104)","Time":0.00034093856811523},{"SQL":"select * from f_prop_total(104)","Time":0.020642042160034},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0030159950256348},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0023758411407471},{"SQL":"select * from t_options(\'1006667041\')","Time":0.050759077072144},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0017898082733154},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0019981861114502},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00087785720825195},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00074100494384766},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00070405006408691},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0039610862731934},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00088691711425781},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021970272064209},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0026261806488037},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016460418701172},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072312355041504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006411075592041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071597099304199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068807601928711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093913078308105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085997581481934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082206726074219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008699893951416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081491470336914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081181526184082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015761852264404},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010709762573242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074601173400879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007941722869873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072503089904785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000701904296875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016660690307617},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:23:29\') as code","Time":0.023490905761719},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408179\')","Time":0.00083398818969727},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0005650520324707},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00063300132751465},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0007929801940918}]},"timeleft":false}'
2011.11.10 13:23:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:30 DEBUG: Data chunk = b''
2011.11.10 13:23:39 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:39 DEBUG: Recieving...
2011.11.10 13:23:39 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132339,E03751.1100,N5600.4860,165,16.198704103671705,43,11,1.1,14600,14470mV,0,0,0,0,0,75,0*3F!\r\n'
2011.11.10 13:23:39 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132339,E03751.1100,N5600.4860,165,16.198704103671705,43,11,1.1,14600,14470mV,0,0,0,0,0,75,0*3F!\r\n']
2011.11.10 13:23:39 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132339,E03751.1100,N5600.4860,165,16.198704103671705,43,11,1.1,14600,14470mV,0,0,0,0,0,75,0*3F!

2011.11.10 13:23:39 DEBUG: Raw match found.
2011.11.10 13:23:39 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 165.0, 'azimuth': 43.0, 'longitude': 37.85183333333333, 'odometer': 75.0, 'satellitescount': 11, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132339,E03751.1100,N5600.4860,165,16.198704103671705,43,11,1.1,14600,14470mV,0,0,0,0,0,75,0*3F!', 'time': '2011-11-10T13:23:39.000000', 'latitude': 56.0081, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 75.0, 'digital_input2': 0, 'speed': 30.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 30.0, 'uid': '557460032240926_888'}
2011.11.10 13:23:40 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:40 DEBUG: Recieving...
2011.11.10 13:23:40 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132340,E03813.5380,N5556.0100,184,15.658747300215982,135,6,1.1,14600,14470mV,0,0,0,0,0,16,0*39!\r\n'
2011.11.10 13:23:40 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132340,E03813.5380,N5556.0100,184,15.658747300215982,135,6,1.1,14600,14470mV,0,0,0,0,0,16,0*39!\r\n']
2011.11.10 13:23:40 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132340,E03813.5380,N5556.0100,184,15.658747300215982,135,6,1.1,14600,14470mV,0,0,0,0,0,16,0*39!

2011.11.10 13:23:40 DEBUG: Raw match found.
2011.11.10 13:23:40 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 184.0, 'azimuth': 135.0, 'longitude': 38.225633333333334, 'odometer': 16.0, 'satellitescount': 6, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132340,E03813.5380,N5556.0100,184,15.658747300215982,135,6,1.1,14600,14470mV,0,0,0,0,0,16,0*39!', 'time': '2011-11-10T13:23:40.000000', 'latitude': 55.9335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 16.0, 'digital_input2': 0, 'speed': 29.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 29.0, 'uid': '457460032240926_888'}
2011.11.10 13:23:42 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:42 DEBUG: Recieving...
2011.11.10 13:23:42 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132342,E03116.8200,N5831.9220,25,0.0,335,4,1.1,14600,14470mV,0,0,0,0,0,2,0*07!\r\n'
2011.11.10 13:23:42 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132342,E03116.8200,N5831.9220,25,0.0,335,4,1.1,14600,14470mV,0,0,0,0,0,2,0*07!\r\n']
2011.11.10 13:23:42 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132342,E03116.8200,N5831.9220,25,0.0,335,4,1.1,14600,14470mV,0,0,0,0,0,2,0*07!

2011.11.10 13:23:42 DEBUG: Raw match found.
2011.11.10 13:23:42 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 25.0, 'azimuth': 335.0, 'longitude': 31.280333333333335, 'odometer': 2.0, 'satellitescount': 4, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132342,E03116.8200,N5831.9220,25,0.0,335,4,1.1,14600,14470mV,0,0,0,0,0,2,0*07!', 'time': '2011-11-10T13:23:42.000000', 'latitude': 58.53203333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 2.0, 'digital_input2': 0, 'speed': 0.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 0.0, 'uid': '657460032240926_888'}
2011.11.10 13:23:43 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.60244679450989 seconds\\n","1":"Average query length: 0.0076259087912644 seconds\\n","2":"Queries per second: 131.1319119297\\n","3":"Longest query length: 0.12831497192383\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.06690502166748},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.021332979202271},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1f0u6orj5ksfiaauhqu7jsct37\')))","Time":0.00090408325195312},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.004490852355957},{"SQL":"select * from obj_info(58369)","Time":0.00082802772521973},{"SQL":"select * from obj_info(58369)","Time":0.00042915344238281},{"SQL":"select * from obj_prop_total(58369)","Time":0.12831497192383},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0044350624084473},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0016520023345947},{"SQL":"select obj_is_deleted(104) as code","Time":0.00075101852416992},{"SQL":"select * from obj_info(104)","Time":0.00039911270141602},{"SQL":"select * from f_prop_total(104)","Time":0.025738000869751},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0039079189300537},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0080749988555908},{"SQL":"select * from t_options(\'1006667041\')","Time":0.057864904403687},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0016450881958008},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0018119812011719},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00098109245300293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010340213775635},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0019609928131104},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0053858757019043},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00066113471984863},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0055370330810547},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0038809776306152},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013356924057007},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.021340847015381},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.028296947479248},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085306167602539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065398216247559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010330677032471},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093698501586914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075912475585938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073909759521484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075984001159668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071501731872559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067996978759766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099301338195801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008080005645752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0029959678649902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000762939453125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077199935913086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091004371643066},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:23:39\') as code","Time":0.026814937591553},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408180\')","Time":0.0016839504241943},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00076103210449219},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00059199333190918},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00078582763671875},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00091791152954102},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408178)","Time":0.00072908401489258},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00054407119750977},{"SQL":"select * from acc_list(58369)","Time":0.0013580322265625},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0032501220703125},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0032370090484619},{"SQL":"select z_has_point(1002846847, 56.007616666667, 37.851016666667, null) as state","Time":0.0057041645050049},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00043392181396484},{"SQL":"select z_has_point(171930, 56.007616666667, 37.851016666667, null) as state","Time":0.003777027130127},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00043797492980957},{"SQL":"select z_has_point(1387421, 56.007616666667, 37.851016666667, null) as state","Time":0.0050489902496338},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00044012069702148},{"SQL":"select z_has_point(1387486, 56.007616666667, 37.851016666667, null) as state","Time":0.003831148147583},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00054097175598145},{"SQL":"select z_has_point(1387485, 56.007616666667, 37.851016666667, null) as state","Time":0.0045571327209473},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0053420066833496},{"SQL":"select z_has_point(1387499, 56.007616666667, 37.851016666667, null) as state","Time":0.0053749084472656},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00060105323791504},{"SQL":"select z_has_point(1387483, 56.007616666667, 37.851016666667, null) as state","Time":0.0051279067993164},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.0018901824951172},{"SQL":"select z_has_point(1387484, 56.007616666667, 37.851016666667, null) as state","Time":0.0042369365692139},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00049185752868652},{"SQL":"select z_has_point(1387619, 56.007616666667, 37.851016666667, null) as state","Time":0.0042829513549805},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00040292739868164},{"SQL":"select z_has_point(8710, 56.007616666667, 37.851016666667, null) as state","Time":0.00583815574646},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00048303604125977},{"SQL":"select z_has_point(1002827265, 56.007616666667, 37.851016666667, null) as state","Time":0.0042228698730469},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00048422813415527},{"SQL":"select z_has_point(37627, 56.007616666667, 37.851016666667, null) as state","Time":0.0042600631713867},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0015449523925781},{"SQL":"select * from notif_get_by_object(58369)","Time":0.040734052658081},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:23:26\') as code","Time":0.025390148162842}]},"timeleft":false}'
2011.11.10 13:23:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:43 DEBUG: Data chunk = b''
2011.11.10 13:23:43 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.51102304458618 seconds\\n","1":"Average query length: 0.010872830735876 seconds\\n","2":"Queries per second: 91.972368952676\\n","3":"Longest query length: 0.19683194160461\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.19683194160461},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.017317056655884},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'lb7bh7hkn40rns9jtrhh1mdlf4\')))","Time":0.00080084800720215},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0037410259246826},{"SQL":"select * from obj_info(38910)","Time":0.00079798698425293},{"SQL":"select * from obj_info(38910)","Time":0.0005640983581543},{"SQL":"select * from obj_prop_total(38910)","Time":0.070984840393066},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0032060146331787},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0012619495391846},{"SQL":"select obj_is_deleted(104) as code","Time":0.00075697898864746},{"SQL":"select * from obj_info(104)","Time":0.00049686431884766},{"SQL":"select * from f_prop_total(104)","Time":0.027436971664429},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0048179626464844},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0049409866333008},{"SQL":"select * from t_options(\'1006667041\')","Time":0.082998037338257},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0025398731231689},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0034518241882324},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0019688606262207},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00079178810119629},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00092911720275879},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0042779445648193},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00050687789916992},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.003054141998291},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0027599334716797},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017650127410889},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078487396240234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078010559082031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001147985458374},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074386596679688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0059521198272705},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010881423950195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084805488586426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0079820156097412},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081515312194824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020899772644043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0098781585693359},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000946044921875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010018348693848},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0019049644470215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011429786682129},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070691108703613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074100494384766},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:23:40\') as code","Time":0.030158996582031},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408181\')","Time":0.0011599063873291},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00094890594482422},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00055098533630371},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00065112113952637}]},"timeleft":false}'
2011.11.10 13:23:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:43 DEBUG: Data chunk = b''
2011.11.10 13:23:43 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.24449515342712 seconds\\n","1":"Average query length: 0.0052020245410026 seconds\\n","2":"Queries per second: 192.23284936815\\n","3":"Longest query length: 0.062786102294922\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.039232015609741},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052659511566162},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'fleqm0hmn5mjkucmckokuepd11\')))","Time":0.00085306167602539},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0036518573760986},{"SQL":"select * from obj_info(58372)","Time":0.00082302093505859},{"SQL":"select * from obj_info(58372)","Time":0.00045084953308105},{"SQL":"select * from obj_prop_total(58372)","Time":0.062786102294922},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0022890567779541},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00086808204650879},{"SQL":"select obj_is_deleted(104) as code","Time":0.00049686431884766},{"SQL":"select * from obj_info(104)","Time":0.00048279762268066},{"SQL":"select * from f_prop_total(104)","Time":0.022397041320801},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038001537322998},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022017955780029},{"SQL":"select * from t_options(\'1006667041\')","Time":0.048004150390625},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0020351409912109},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0025699138641357},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068092346191406},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00075387954711914},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00074291229248047},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025279521942139},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040817260742188},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016570091247559},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0027720928192139},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014281272888184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080394744873047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014448165893555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071406364440918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078582763671875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069808959960938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075411796569824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073003768920898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053191184997559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061988830566406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057387351989746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065398216247559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074100494384766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069093704223633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080490112304688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071191787719727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098085403442383},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078010559082031},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:23:42\') as code","Time":0.019203901290894},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408182\')","Time":0.00091004371643066},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00071287155151367},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00071501731872559},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00075411796569824}]},"timeleft":false}'
2011.11.10 13:23:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:43 DEBUG: Data chunk = b''
2011.11.10 13:23:51 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:51 DEBUG: Recieving...
2011.11.10 13:23:51 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132351,E03751.3380,N5600.5780,158,8.639308855291576,54,12,1.1,14600,14470mV,0,0,0,0,0,292,0*34!\r\n'
2011.11.10 13:23:51 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132351,E03751.3380,N5600.5780,158,8.639308855291576,54,12,1.1,14600,14470mV,0,0,0,0,0,292,0*34!\r\n']
2011.11.10 13:23:51 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132351,E03751.3380,N5600.5780,158,8.639308855291576,54,12,1.1,14600,14470mV,0,0,0,0,0,292,0*34!

2011.11.10 13:23:51 DEBUG: Raw match found.
2011.11.10 13:23:51 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 158.0, 'azimuth': 54.0, 'longitude': 37.85563333333333, 'odometer': 292.0, 'satellitescount': 12, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132351,E03751.3380,N5600.5780,158,8.639308855291576,54,12,1.1,14600,14470mV,0,0,0,0,0,292,0*34!', 'time': '2011-11-10T13:23:51.000000', 'latitude': 56.00963333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 292.0, 'digital_input2': 0, 'speed': 16.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 16.0, 'uid': '557460032240926_888'}
2011.11.10 13:23:52 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.37104511260986 seconds\\n","1":"Average query length: 0.00469677357734 seconds\\n","2":"Queries per second: 212.91211584578\\n","3":"Longest query length: 0.066724061965942\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.039458036422729},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0076940059661865},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'8v0rhknb1oggd1ku3kansmnqd7\')))","Time":0.0010161399841309},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0040719509124756},{"SQL":"select * from obj_info(58369)","Time":0.00089287757873535},{"SQL":"select * from obj_info(58369)","Time":0.00049495697021484},{"SQL":"select * from obj_prop_total(58369)","Time":0.066724061965942},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0021371841430664},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0011730194091797},{"SQL":"select obj_is_deleted(104) as code","Time":0.00077104568481445},{"SQL":"select * from obj_info(104)","Time":0.00041794776916504},{"SQL":"select * from f_prop_total(104)","Time":0.024142980575562},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038869380950928},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0033249855041504},{"SQL":"select * from t_options(\'1006667041\')","Time":0.055446863174438},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0019149780273438},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0018880367279053},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010030269622803},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063204765319824},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00091004371643066},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0039398670196533},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0005190372467041},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0017271041870117},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019869804382324},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011940002441406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075292587280273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069403648376465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067400932312012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069022178649902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006718635559082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007469654083252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077581405639648},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066018104553223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067305564880371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086498260498047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052380561828613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050806999206543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050902366638184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050783157348633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050711631774902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055694580078125},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:23:51\') as code","Time":0.018324851989746},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408183\')","Time":0.00084400177001953},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00083303451538086},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00053811073303223},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00068187713623047},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0011320114135742},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408180)","Time":0.00081110000610352},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00050497055053711},{"SQL":"select * from acc_list(58369)","Time":0.0013258457183838},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.003087043762207},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0012249946594238},{"SQL":"select z_has_point(1002846847, 56.0081, 37.851833333333, null) as state","Time":0.0059740543365479},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00039100646972656},{"SQL":"select z_has_point(171930, 56.0081, 37.851833333333, null) as state","Time":0.0036821365356445},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00038003921508789},{"SQL":"select z_has_point(1387421, 56.0081, 37.851833333333, null) as state","Time":0.0029089450836182},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00038599967956543},{"SQL":"select z_has_point(1387486, 56.0081, 37.851833333333, null) as state","Time":0.0047249794006348},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00030708312988281},{"SQL":"select z_has_point(1387485, 56.0081, 37.851833333333, null) as state","Time":0.0037918090820312},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00031113624572754},{"SQL":"select z_has_point(1387499, 56.0081, 37.851833333333, null) as state","Time":0.0033590793609619},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00046396255493164},{"SQL":"select z_has_point(1387483, 56.0081, 37.851833333333, null) as state","Time":0.0037870407104492},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00044393539428711},{"SQL":"select z_has_point(1387484, 56.0081, 37.851833333333, null) as state","Time":0.003662109375},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00047898292541504},{"SQL":"select z_has_point(1387619, 56.0081, 37.851833333333, null) as state","Time":0.0039830207824707},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00038504600524902},{"SQL":"select z_has_point(8710, 56.0081, 37.851833333333, null) as state","Time":0.0038299560546875},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00049591064453125},{"SQL":"select z_has_point(1002827265, 56.0081, 37.851833333333, null) as state","Time":0.0038628578186035},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00055313110351562},{"SQL":"select z_has_point(37627, 56.0081, 37.851833333333, null) as state","Time":0.0036430358886719},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00066804885864258},{"SQL":"select * from notif_get_by_object(58369)","Time":0.030225038528442},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:23:39\') as code","Time":0.020771980285645}]},"timeleft":false}'
2011.11.10 13:23:52 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:52 DEBUG: Data chunk = b''
2011.11.10 13:23:54 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:54 DEBUG: Recieving...
2011.11.10 13:23:54 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132354,E03813.5430,N5556.0070,183,15.658747300215982,134,5,1.1,14600,14470mV,0,0,0,0,0,8,0*0C!\r\n'
2011.11.10 13:23:54 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132354,E03813.5430,N5556.0070,183,15.658747300215982,134,5,1.1,14600,14470mV,0,0,0,0,0,8,0*0C!\r\n']
2011.11.10 13:23:54 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132354,E03813.5430,N5556.0070,183,15.658747300215982,134,5,1.1,14600,14470mV,0,0,0,0,0,8,0*0C!

2011.11.10 13:23:54 DEBUG: Raw match found.
2011.11.10 13:23:54 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 183.0, 'azimuth': 134.0, 'longitude': 38.22571666666666, 'odometer': 8.0, 'satellitescount': 5, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132354,E03813.5430,N5556.0070,183,15.658747300215982,134,5,1.1,14600,14470mV,0,0,0,0,0,8,0*0C!', 'time': '2011-11-10T13:23:54.000000', 'latitude': 55.93345, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 8.0, 'digital_input2': 0, 'speed': 29.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 29.0, 'uid': '457460032240926_888'}
2011.11.10 13:23:55 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:23:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:23:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:23:55 DEBUG: Recieving...
2011.11.10 13:23:55 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132355,E03116.8080,N5831.7870,25,14.578833693304535,183,10,1.1,14600,14470mV,0,0,0,0,0,251,0*0B!\r\n'
2011.11.10 13:23:55 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132355,E03116.8080,N5831.7870,25,14.578833693304535,183,10,1.1,14600,14470mV,0,0,0,0,0,251,0*0B!\r\n']
2011.11.10 13:23:55 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132355,E03116.8080,N5831.7870,25,14.578833693304535,183,10,1.1,14600,14470mV,0,0,0,0,0,251,0*0B!

2011.11.10 13:23:55 DEBUG: Raw match found.
2011.11.10 13:23:55 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 25.0, 'azimuth': 183.0, 'longitude': 31.280133333333332, 'odometer': 251.0, 'satellitescount': 10, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132355,E03116.8080,N5831.7870,25,14.578833693304535,183,10,1.1,14600,14470mV,0,0,0,0,0,251,0*0B!', 'time': '2011-11-10T13:23:55.000000', 'latitude': 58.529783333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 251.0, 'digital_input2': 0, 'speed': 27.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 27.0, 'uid': '657460032240926_888'}
2011.11.10 13:23:55 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.22706079483032 seconds\\n","1":"Average query length: 0.0048310807410707 seconds\\n","2":"Queries per second: 206.99302156113\\n","3":"Longest query length: 0.058144092559814\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.026731967926025},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0058279037475586},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'nqg2562pqm1u7b9ska8bo6asa5\')))","Time":0.00069689750671387},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0031278133392334},{"SQL":"select * from obj_info(38910)","Time":0.0008242130279541},{"SQL":"select * from obj_info(38910)","Time":0.00042200088500977},{"SQL":"select * from obj_prop_total(38910)","Time":0.048815011978149},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0022740364074707},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010721683502197},{"SQL":"select obj_is_deleted(104) as code","Time":0.00072789192199707},{"SQL":"select * from obj_info(104)","Time":0.00040292739868164},{"SQL":"select * from f_prop_total(104)","Time":0.017734050750732},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0029458999633789},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0034348964691162},{"SQL":"select * from t_options(\'1006667041\')","Time":0.058144092559814},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0020160675048828},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0028331279754639},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00093293190002441},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00069785118103027},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00093317031860352},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0035078525543213},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0005948543548584},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021770000457764},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0025398731231689},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012001991271973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000701904296875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069499015808105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071501731872559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067400932312012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066900253295898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012011528015137},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073981285095215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092101097106934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078988075256348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064706802368164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059008598327637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057506561279297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057482719421387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066900253295898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067615509033203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067710876464844},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:23:54\') as code","Time":0.021194934844971},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408184\')","Time":0.0008549690246582},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0008699893951416},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00071310997009277},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00069499015808105}]},"timeleft":false}'
2011.11.10 13:23:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:55 DEBUG: Data chunk = b''
2011.11.10 13:23:56 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.2491340637207 seconds\\n","1":"Average query length: 0.005300724760015 seconds\\n","2":"Queries per second: 188.65344745747\\n","3":"Longest query length: 0.066290140151978\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.035091161727905},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.005871057510376},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'5719hndriv9s7v9r08et39ush7\')))","Time":0.0011279582977295},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026960372924805},{"SQL":"select * from obj_info(58372)","Time":0.00075507164001465},{"SQL":"select * from obj_info(58372)","Time":0.00030779838562012},{"SQL":"select * from obj_prop_total(58372)","Time":0.066290140151978},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0018041133880615},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00081110000610352},{"SQL":"select obj_is_deleted(104) as code","Time":0.00048494338989258},{"SQL":"select * from obj_info(104)","Time":0.00029802322387695},{"SQL":"select * from f_prop_total(104)","Time":0.017064809799194},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0039498805999756},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021681785583496},{"SQL":"select * from t_options(\'1006667041\')","Time":0.047750949859619},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0018367767333984},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0016388893127441},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.000885009765625},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00096511840820312},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0010251998901367},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0043809413909912},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00076913833618164},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0019230842590332},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0031909942626953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0019900798797607},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078296661376953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081896781921387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084710121154785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074911117553711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083804130554199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095510482788086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012068748474121},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083684921264648},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087213516235352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078701972961426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082492828369141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089001655578613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007331371307373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011489391326904},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090813636779785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080299377441406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012240409851074},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:23:55\') as code","Time":0.025820016860962},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408185\')","Time":0.00082612037658691},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00095510482788086},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00056600570678711},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00066399574279785}]},"timeleft":false}'
2011.11.10 13:23:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:23:56 DEBUG: Data chunk = b''
2011.11.10 13:24:10 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:10 DEBUG: Recieving...
2011.11.10 13:24:10 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132410,E03813.5530,N5556.0000,179,30.237580993520517,142,8,1.1,14600,14470mV,0,0,0,0,0,16,0*39!\r\n'
2011.11.10 13:24:10 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132410,E03813.5530,N5556.0000,179,30.237580993520517,142,8,1.1,14600,14470mV,0,0,0,0,0,16,0*39!\r\n']
2011.11.10 13:24:10 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132410,E03813.5530,N5556.0000,179,30.237580993520517,142,8,1.1,14600,14470mV,0,0,0,0,0,16,0*39!

2011.11.10 13:24:10 DEBUG: Raw match found.
2011.11.10 13:24:10 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 179.0, 'azimuth': 142.0, 'longitude': 38.225883333333336, 'odometer': 16.0, 'satellitescount': 8, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132410,E03813.5530,N5556.0000,179,30.237580993520517,142,8,1.1,14600,14470mV,0,0,0,0,0,16,0*39!', 'time': '2011-11-10T13:24:10.000000', 'latitude': 55.93333333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 16.0, 'digital_input2': 0, 'speed': 56.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 56.0, 'uid': '457460032240926_888'}
2011.11.10 13:24:11 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:11 DEBUG: Recieving...
2011.11.10 13:24:11 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132411,E03751.6460,N5600.6740,160,20.518358531317492,61,8,1.1,14600,14470mV,0,0,0,0,0,366,0*3C!\r\n'
2011.11.10 13:24:11 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132411,E03751.6460,N5600.6740,160,20.518358531317492,61,8,1.1,14600,14470mV,0,0,0,0,0,366,0*3C!\r\n']
2011.11.10 13:24:11 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132411,E03751.6460,N5600.6740,160,20.518358531317492,61,8,1.1,14600,14470mV,0,0,0,0,0,366,0*3C!

2011.11.10 13:24:11 DEBUG: Raw match found.
2011.11.10 13:24:11 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 160.0, 'azimuth': 61.0, 'longitude': 37.86076666666666, 'odometer': 366.0, 'satellitescount': 8, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132411,E03751.6460,N5600.6740,160,20.518358531317492,61,8,1.1,14600,14470mV,0,0,0,0,0,366,0*3C!', 'time': '2011-11-10T13:24:11.000000', 'latitude': 56.01123333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 366.0, 'digital_input2': 0, 'speed': 38.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 38.0, 'uid': '557460032240926_888'}
2011.11.10 13:24:11 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21721625328064 seconds\\n","1":"Average query length: 0.0046216224102264 seconds\\n","2":"Queries per second: 216.3742320851\\n","3":"Longest query length: 0.056465864181519\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.027432918548584},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0038800239562988},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'6unn3r8afog5gkp8heglgjkef1\')))","Time":0.00079107284545898},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026888847351074},{"SQL":"select * from obj_info(38910)","Time":0.00092387199401855},{"SQL":"select * from obj_info(38910)","Time":0.00037503242492676},{"SQL":"select * from obj_prop_total(38910)","Time":0.04906702041626},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0021660327911377},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010581016540527},{"SQL":"select obj_is_deleted(104) as code","Time":0.00081801414489746},{"SQL":"select * from obj_info(104)","Time":0.00047492980957031},{"SQL":"select * from f_prop_total(104)","Time":0.020330905914307},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025200843811035},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002396821975708},{"SQL":"select * from t_options(\'1006667041\')","Time":0.056465864181519},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0013089179992676},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0017361640930176},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068902969360352},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081205368041992},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.001291036605835},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0039877891540527},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00065183639526367},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015439987182617},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0024580955505371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012679100036621},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050997734069824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043511390686035},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0003960132598877},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066590309143066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047016143798828},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012681484222412},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076889991760254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000701904296875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070309638977051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069212913513184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079679489135742},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095105171203613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069308280944824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005338191986084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063180923461914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067496299743652},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:24:10\') as code","Time":0.016233921051025},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408186\')","Time":0.00057601928710938},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049495697021484},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00039315223693848},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00089287757873535}]},"timeleft":false}'
2011.11.10 13:24:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:24:11 DEBUG: Data chunk = b''
2011.11.10 13:24:13 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.5632917881012 seconds\\n","1":"Average query length: 0.0071302757987493 seconds\\n","2":"Queries per second: 140.24702945928\\n","3":"Longest query length: 0.082759141921997\\n","4":"Longest query: \\nINSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\\n","Queries":[{"SQL":"connect","Time":0.024226903915405},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052549839019775},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'eporkipfv8akou1btf9b9k69c3\')))","Time":0.00077104568481445},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0035319328308105},{"SQL":"select * from obj_info(58369)","Time":0.00066304206848145},{"SQL":"select * from obj_info(58369)","Time":0.00034403800964355},{"SQL":"select * from obj_prop_total(58369)","Time":0.065218925476074},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015120506286621},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00077915191650391},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047397613525391},{"SQL":"select * from obj_info(104)","Time":0.00030398368835449},{"SQL":"select * from f_prop_total(104)","Time":0.02116584777832},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026640892028809},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022108554840088},{"SQL":"select * from t_options(\'1006667041\')","Time":0.054425954818726},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012531280517578},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.001147985458374},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00093603134155273},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00062084197998047},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065398216247559},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024349689483643},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040602684020996},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.082759141921997},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.002903938293457},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.055562973022461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.007108211517334},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.023777008056641},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.042983055114746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.021304845809937},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089216232299805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051283836364746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048279762268066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047397613525391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0018339157104492},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017960071563721},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081014633178711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066208839416504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082898139953613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069785118103027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061511993408203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061511993408203},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:24:11\') as code","Time":0.019169092178345},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408187\')","Time":0.00087809562683105},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00053906440734863},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00037097930908203},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00078701972961426},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00067996978759766},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408183)","Time":0.00048398971557617},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00053501129150391},{"SQL":"select * from acc_list(58369)","Time":0.0017631053924561},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.002396821975708},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0010960102081299},{"SQL":"select z_has_point(1002846847, 56.009633333333, 37.855633333333, null) as state","Time":0.005267858505249},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00031208992004395},{"SQL":"select z_has_point(171930, 56.009633333333, 37.855633333333, null) as state","Time":0.0026600360870361},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00033807754516602},{"SQL":"select z_has_point(1387421, 56.009633333333, 37.855633333333, null) as state","Time":0.0034887790679932},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00033307075500488},{"SQL":"select z_has_point(1387486, 56.009633333333, 37.855633333333, null) as state","Time":0.0030770301818848},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00032687187194824},{"SQL":"select z_has_point(1387485, 56.009633333333, 37.855633333333, null) as state","Time":0.0023448467254639},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00047707557678223},{"SQL":"select z_has_point(1387499, 56.009633333333, 37.855633333333, null) as state","Time":0.0030419826507568},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00040602684020996},{"SQL":"select z_has_point(1387483, 56.009633333333, 37.855633333333, null) as state","Time":0.0030369758605957},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00033187866210938},{"SQL":"select z_has_point(1387484, 56.009633333333, 37.855633333333, null) as state","Time":0.0032570362091064},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00032281875610352},{"SQL":"select z_has_point(1387619, 56.009633333333, 37.855633333333, null) as state","Time":0.0023930072784424},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00046396255493164},{"SQL":"select z_has_point(8710, 56.009633333333, 37.855633333333, null) as state","Time":0.003680944442749},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00029802322387695},{"SQL":"select z_has_point(1002827265, 56.009633333333, 37.855633333333, null) as state","Time":0.0022950172424316},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00028204917907715},{"SQL":"select z_has_point(37627, 56.009633333333, 37.855633333333, null) as state","Time":0.0022811889648438},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00072813034057617},{"SQL":"select * from notif_get_by_object(58369)","Time":0.035706043243408},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:23:51\') as code","Time":0.019296884536743}]},"timeleft":false}'
2011.11.10 13:24:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:24:13 DEBUG: Data chunk = b''
2011.11.10 13:24:13 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:13 DEBUG: Recieving...
2011.11.10 13:24:13 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132413,E03116.8040,N5831.7220,26,23.218142548596113,182,10,1.1,14600,14470mV,0,0,0,0,0,120,0*08!\r\n'
2011.11.10 13:24:13 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132413,E03116.8040,N5831.7220,26,23.218142548596113,182,10,1.1,14600,14470mV,0,0,0,0,0,120,0*08!\r\n']
2011.11.10 13:24:13 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132413,E03116.8040,N5831.7220,26,23.218142548596113,182,10,1.1,14600,14470mV,0,0,0,0,0,120,0*08!

2011.11.10 13:24:13 DEBUG: Raw match found.
2011.11.10 13:24:13 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 182.0, 'longitude': 31.280066666666666, 'odometer': 120.0, 'satellitescount': 10, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132413,E03116.8040,N5831.7220,26,23.218142548596113,182,10,1.1,14600,14470mV,0,0,0,0,0,120,0*08!', 'time': '2011-11-10T13:24:13.000000', 'latitude': 58.5287, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 120.0, 'digital_input2': 0, 'speed': 43.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 43.0, 'uid': '657460032240926_888'}
2011.11.10 13:24:14 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21203303337097 seconds\\n","1":"Average query length: 0.0045113411355526 seconds\\n","2":"Queries per second: 221.66357407984\\n","3":"Longest query length: 0.054236173629761\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.031925916671753},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0046858787536621},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'lqe1lh3dbrtc8uo92ceagkm9u0\')))","Time":0.00080394744873047},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026638507843018},{"SQL":"select * from obj_info(58372)","Time":0.00094914436340332},{"SQL":"select * from obj_info(58372)","Time":0.00041890144348145},{"SQL":"select * from obj_prop_total(58372)","Time":0.054236173629761},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0015139579772949},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0007319450378418},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044083595275879},{"SQL":"select * from obj_info(104)","Time":0.00043606758117676},{"SQL":"select * from f_prop_total(104)","Time":0.020466089248657},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0029091835021973},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0024030208587646},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037693023681641},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012240409851074},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012860298156738},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00069999694824219},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010280609130859},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00074291229248047},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025079250335693},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0004730224609375},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015921592712402},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0025579929351807},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015020370483398},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070905685424805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054812431335449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007171630859375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086188316345215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010049343109131},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090813636779785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075006484985352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095486640930176},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074005126953125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072884559631348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071811676025391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010058879852295},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078105926513672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076389312744141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071406364440918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076103210449219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079607963562012},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:24:13\') as code","Time":0.020241975784302},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408188\')","Time":0.00069403648376465},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00061488151550293},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0005488395690918},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00057792663574219}]},"timeleft":false}'
2011.11.10 13:24:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:24:14 DEBUG: Data chunk = b''
2011.11.10 13:24:28 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:28 DEBUG: Recieving...
2011.11.10 13:24:28 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132428,E03751.8150,N5600.7170,163,10.259179265658746,65,9,1.1,14600,14470mV,0,0,0,0,0,192,0*37!\r\n'
2011.11.10 13:24:28 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132428,E03751.8150,N5600.7170,163,10.259179265658746,65,9,1.1,14600,14470mV,0,0,0,0,0,192,0*37!\r\n']
2011.11.10 13:24:28 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132428,E03751.8150,N5600.7170,163,10.259179265658746,65,9,1.1,14600,14470mV,0,0,0,0,0,192,0*37!

2011.11.10 13:24:28 DEBUG: Raw match found.
2011.11.10 13:24:28 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 163.0, 'azimuth': 65.0, 'longitude': 37.86358333333333, 'odometer': 192.0, 'satellitescount': 9, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132428,E03751.8150,N5600.7170,163,10.259179265658746,65,9,1.1,14600,14470mV,0,0,0,0,0,192,0*37!', 'time': '2011-11-10T13:24:28.000000', 'latitude': 56.01195, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 192.0, 'digital_input2': 0, 'speed': 19.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 19.0, 'uid': '557460032240926_888'}
2011.11.10 13:24:28 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:28 DEBUG: Recieving...
2011.11.10 13:24:28 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132428,E03813.5610,N5555.9940,175,28.077753779697623,142,4,1.1,14600,14470mV,0,0,0,0,0,14,0*34!\r\n'
2011.11.10 13:24:28 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132428,E03813.5610,N5555.9940,175,28.077753779697623,142,4,1.1,14600,14470mV,0,0,0,0,0,14,0*34!\r\n']
2011.11.10 13:24:28 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132428,E03813.5610,N5555.9940,175,28.077753779697623,142,4,1.1,14600,14470mV,0,0,0,0,0,14,0*34!

2011.11.10 13:24:28 DEBUG: Raw match found.
2011.11.10 13:24:28 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 175.0, 'azimuth': 142.0, 'longitude': 38.226016666666666, 'odometer': 14.0, 'satellitescount': 4, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132428,E03813.5610,N5555.9940,175,28.077753779697623,142,4,1.1,14600,14470mV,0,0,0,0,0,14,0*34!', 'time': '2011-11-10T13:24:28.000000', 'latitude': 55.933233333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 14.0, 'digital_input2': 0, 'speed': 52.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 52.0, 'uid': '457460032240926_888'}
2011.11.10 13:24:29 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27523493766785 seconds\\n","1":"Average query length: 0.0034839865527576 seconds\\n","2":"Queries per second: 287.02751427341\\n","3":"Longest query length: 0.057310104370117\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.032088994979858},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0055069923400879},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'a9h17t459nqsalptvl3kiqr165\')))","Time":0.00090503692626953},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0036020278930664},{"SQL":"select * from obj_info(58369)","Time":0.00083303451538086},{"SQL":"select * from obj_info(58369)","Time":0.00042390823364258},{"SQL":"select * from obj_prop_total(58369)","Time":0.057310104370117},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0023620128631592},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0010848045349121},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005030632019043},{"SQL":"select * from obj_info(104)","Time":0.00030303001403809},{"SQL":"select * from f_prop_total(104)","Time":0.014791965484619},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025548934936523},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0023062229156494},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034698009490967},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0013070106506348},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0017910003662109},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00099802017211914},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064301490783691},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0010190010070801},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0037000179290771},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040602684020996},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016491413116455},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0027580261230469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00130295753479},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013730525970459},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087499618530273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006248950958252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006401538848877},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065088272094727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064420700073242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066494941711426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052690505981445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052285194396973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065803527832031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056290626525879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005490779876709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060796737670898},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:24:28\') as code","Time":0.015484094619751},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408189\')","Time":0.00050711631774902},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048184394836426},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0004279613494873},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044584274291992},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00051712989807129},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408187)","Time":0.00037002563476562},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00026512145996094},{"SQL":"select * from acc_list(58369)","Time":0.00071096420288086},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019400119781494},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00077295303344727},{"SQL":"select z_has_point(1002846847, 56.011233333333, 37.860766666667, null) as state","Time":0.0031170845031738},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00026297569274902},{"SQL":"select z_has_point(171930, 56.011233333333, 37.860766666667, null) as state","Time":0.0021548271179199},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00024199485778809},{"SQL":"select z_has_point(1387421, 56.011233333333, 37.860766666667, null) as state","Time":0.0022408962249756},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00025296211242676},{"SQL":"select z_has_point(1387486, 56.011233333333, 37.860766666667, null) as state","Time":0.0020730495452881},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00025796890258789},{"SQL":"select z_has_point(1387485, 56.011233333333, 37.860766666667, null) as state","Time":0.0020520687103271},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00025606155395508},{"SQL":"select z_has_point(1387499, 56.011233333333, 37.860766666667, null) as state","Time":0.0020451545715332},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00025796890258789},{"SQL":"select z_has_point(1387483, 56.011233333333, 37.860766666667, null) as state","Time":0.0020229816436768},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00024509429931641},{"SQL":"select z_has_point(1387484, 56.011233333333, 37.860766666667, null) as state","Time":0.0023798942565918},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00030303001403809},{"SQL":"select z_has_point(1387619, 56.011233333333, 37.860766666667, null) as state","Time":0.0024898052215576},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0003349781036377},{"SQL":"select z_has_point(8710, 56.011233333333, 37.860766666667, null) as state","Time":0.0021889209747314},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.0003049373626709},{"SQL":"select z_has_point(1002827265, 56.011233333333, 37.860766666667, null) as state","Time":0.0021271705627441},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00030779838562012},{"SQL":"select z_has_point(37627, 56.011233333333, 37.860766666667, null) as state","Time":0.0021340847015381},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00065493583679199},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021804094314575},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:24:11\') as code","Time":0.014678955078125}]},"timeleft":false}'
2011.11.10 13:24:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:24:29 DEBUG: Data chunk = b''
2011.11.10 13:24:29 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.22291326522827 seconds\\n","1":"Average query length: 0.0047428354303888 seconds\\n","2":"Queries per second: 210.84433872462\\n","3":"Longest query length: 0.063606977462769\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.03157901763916},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0054390430450439},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'5u07mo25otiuep4r6e88e04n24\')))","Time":0.00065398216247559},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0032930374145508},{"SQL":"select * from obj_info(38910)","Time":0.00059890747070312},{"SQL":"select * from obj_info(38910)","Time":0.00029683113098145},{"SQL":"select * from obj_prop_total(38910)","Time":0.063606977462769},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0021438598632812},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010700225830078},{"SQL":"select obj_is_deleted(104) as code","Time":0.00073099136352539},{"SQL":"select * from obj_info(104)","Time":0.0004119873046875},{"SQL":"select * from f_prop_total(104)","Time":0.023257970809937},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026719570159912},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021119117736816},{"SQL":"select * from t_options(\'1006667041\')","Time":0.044167995452881},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.001788854598999},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0016961097717285},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00080513954162598},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068116188049316},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00070905685424805},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0036649703979492},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00041794776916504},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016350746154785},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0024299621582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001190185546875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007932186126709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066781044006348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068306922912598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067710876464844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071811676025391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065803527832031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076913833618164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075793266296387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066590309143066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066804885864258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070619583129883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066280364990234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065898895263672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076007843017578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:24:28\') as code","Time":0.012403011322021},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408190\')","Time":0.0005800724029541},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00047397613525391},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00038981437683105},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043392181396484}]},"timeleft":false}'
2011.11.10 13:24:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:24:29 DEBUG: Data chunk = b''
2011.11.10 13:24:30 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:30 DEBUG: Recieving...
2011.11.10 13:24:30 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132430,E03116.8020,N5831.6670,29,24.838012958963283,181,7,1.1,14600,14470mV,0,0,0,0,0,102,0*3F!\r\n'
2011.11.10 13:24:30 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132430,E03116.8020,N5831.6670,29,24.838012958963283,181,7,1.1,14600,14470mV,0,0,0,0,0,102,0*3F!\r\n']
2011.11.10 13:24:30 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132430,E03116.8020,N5831.6670,29,24.838012958963283,181,7,1.1,14600,14470mV,0,0,0,0,0,102,0*3F!

2011.11.10 13:24:30 DEBUG: Raw match found.
2011.11.10 13:24:30 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 29.0, 'azimuth': 181.0, 'longitude': 31.280033333333332, 'odometer': 102.0, 'satellitescount': 7, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132430,E03116.8020,N5831.6670,29,24.838012958963283,181,7,1.1,14600,14470mV,0,0,0,0,0,102,0*3F!', 'time': '2011-11-10T13:24:30.000000', 'latitude': 58.52778333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 102.0, 'digital_input2': 0, 'speed': 46.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 46.0, 'uid': '657460032240926_888'}
2011.11.10 13:24:31 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.20253109931946 seconds\\n","1":"Average query length: 0.0043091723259459 seconds\\n","2":"Queries per second: 232.06312589982\\n","3":"Longest query length: 0.042842149734497\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.021513938903809},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.003425121307373},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'65j6on0l82j4rkmcpmtauv2fa2\')))","Time":0.00065898895263672},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025360584259033},{"SQL":"select * from obj_info(58372)","Time":0.00058698654174805},{"SQL":"select * from obj_info(58372)","Time":0.00035881996154785},{"SQL":"select * from obj_prop_total(58372)","Time":0.042842149734497},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014488697052002},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00065898895263672},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044107437133789},{"SQL":"select * from obj_info(104)","Time":0.00028204917907715},{"SQL":"select * from f_prop_total(104)","Time":0.014214038848877},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023510456085205},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019400119781494},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03122091293335},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012209415435791},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0016200542449951},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066614151000977},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.001101016998291},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013060569763184},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045289993286133},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00072407722473145},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0022411346435547},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0031778812408447},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.016736030578613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010309219360352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009310245513916},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092506408691406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086617469787598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092291831970215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092101097106934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008537769317627},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087189674377441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000885009765625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089001655578613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092005729675293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088000297546387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085282325744629},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010519027709961},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095295906066895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090289115905762},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086402893066406},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:24:30\') as code","Time":0.025266170501709},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408191\')","Time":0.0011599063873291},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00097298622131348},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00083303451538086},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00097513198852539}]},"timeleft":false}'
2011.11.10 13:24:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:24:31 DEBUG: Data chunk = b''
2011.11.10 13:24:40 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:40 DEBUG: Recieving...
2011.11.10 13:24:40 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132440,E03116.8010,N5831.6150,28,26.997840172786177,181,8,1.1,14600,14470mV,0,0,0,0,0,97,0*09!\r\n'
2011.11.10 13:24:40 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132440,E03116.8010,N5831.6150,28,26.997840172786177,181,8,1.1,14600,14470mV,0,0,0,0,0,97,0*09!\r\n']
2011.11.10 13:24:40 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132440,E03116.8010,N5831.6150,28,26.997840172786177,181,8,1.1,14600,14470mV,0,0,0,0,0,97,0*09!

2011.11.10 13:24:40 DEBUG: Raw match found.
2011.11.10 13:24:40 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 181.0, 'longitude': 31.28001666666667, 'odometer': 97.0, 'satellitescount': 8, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132440,E03116.8010,N5831.6150,28,26.997840172786177,181,8,1.1,14600,14470mV,0,0,0,0,0,97,0*09!', 'time': '2011-11-10T13:24:40.000000', 'latitude': 58.526916666666665, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 97.0, 'digital_input2': 0, 'speed': 50.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 50.0, 'uid': '657460032240926_888'}
2011.11.10 13:24:41 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:41 DEBUG: Recieving...
2011.11.10 13:24:41 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132441,E03752.1140,N5600.7520,162,20.518358531317492,78,3,1.1,14600,14470mV,0,0,0,0,0,317,0*38!\r\n'
2011.11.10 13:24:41 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132441,E03752.1140,N5600.7520,162,20.518358531317492,78,3,1.1,14600,14470mV,0,0,0,0,0,317,0*38!\r\n']
2011.11.10 13:24:41 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132441,E03752.1140,N5600.7520,162,20.518358531317492,78,3,1.1,14600,14470mV,0,0,0,0,0,317,0*38!

2011.11.10 13:24:41 DEBUG: Raw match found.
2011.11.10 13:24:41 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 162.0, 'azimuth': 78.0, 'longitude': 37.868566666666666, 'odometer': 317.0, 'satellitescount': 3, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132441,E03752.1140,N5600.7520,162,20.518358531317492,78,3,1.1,14600,14470mV,0,0,0,0,0,317,0*38!', 'time': '2011-11-10T13:24:41.000000', 'latitude': 56.01253333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 317.0, 'digital_input2': 0, 'speed': 38.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 38.0, 'uid': '557460032240926_888'}
2011.11.10 13:24:41 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:41 DEBUG: Recieving...
2011.11.10 13:24:41 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132441,E03813.5700,N5555.9880,170,29.697624190064793,141,11,1.1,14600,14470mV,0,0,0,0,0,15,0*0C!\r\n'
2011.11.10 13:24:41 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132441,E03813.5700,N5555.9880,170,29.697624190064793,141,11,1.1,14600,14470mV,0,0,0,0,0,15,0*0C!\r\n']
2011.11.10 13:24:41 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132441,E03813.5700,N5555.9880,170,29.697624190064793,141,11,1.1,14600,14470mV,0,0,0,0,0,15,0*0C!

2011.11.10 13:24:41 DEBUG: Raw match found.
2011.11.10 13:24:41 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 170.0, 'azimuth': 141.0, 'longitude': 38.226166666666664, 'odometer': 15.0, 'satellitescount': 11, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132441,E03813.5700,N5555.9880,170,29.697624190064793,141,11,1.1,14600,14470mV,0,0,0,0,0,15,0*0C!', 'time': '2011-11-10T13:24:41.000000', 'latitude': 55.93313333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 15.0, 'digital_input2': 0, 'speed': 55.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 55.0, 'uid': '457460032240926_888'}
2011.11.10 13:24:41 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18097901344299 seconds\\n","1":"Average query length: 0.0038506173072977 seconds\\n","2":"Queries per second: 259.69861977839\\n","3":"Longest query length: 0.04133415222168\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.026175022125244},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050728321075439},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'7k6t2mk2dvaeab0qh1i9n6voe4\')))","Time":0.00078010559082031},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026350021362305},{"SQL":"select * from obj_info(58372)","Time":0.00057792663574219},{"SQL":"select * from obj_info(58372)","Time":0.00033998489379883},{"SQL":"select * from obj_prop_total(58372)","Time":0.04133415222168},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014340877532959},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00080084800720215},{"SQL":"select obj_is_deleted(104) as code","Time":0.00053310394287109},{"SQL":"select * from obj_info(104)","Time":0.0003058910369873},{"SQL":"select * from f_prop_total(104)","Time":0.015789985656738},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038020610809326},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0031130313873291},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036401033401489},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0016779899597168},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012781620025635},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00086498260498047},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006098747253418},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00070095062255859},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025467872619629},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00036001205444336},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014290809631348},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0021460056304932},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013270378112793},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074982643127441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062084197998047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064802169799805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058698654174805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083303451538086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061893463134766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059390068054199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060820579528809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060415267944336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005950927734375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062108039855957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006258487701416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060486793518066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011799335479736},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062704086303711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072884559631348},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:24:40\') as code","Time":0.015459775924683},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408192\')","Time":0.00060296058654785},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048089027404785},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00040602684020996},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00056195259094238}]},"timeleft":false}'
2011.11.10 13:24:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:24:41 DEBUG: Data chunk = b''
2011.11.10 13:24:42 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19407629966736 seconds\\n","1":"Average query length: 0.0041292829716459 seconds\\n","2":"Queries per second: 242.17279534161\\n","3":"Longest query length: 0.05262303352356\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.029979944229126},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050551891326904},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'2oerfif617fr8oub81m8jh39s4\')))","Time":0.0009310245513916},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0034439563751221},{"SQL":"select * from obj_info(38910)","Time":0.00065302848815918},{"SQL":"select * from obj_info(38910)","Time":0.0003659725189209},{"SQL":"select * from obj_prop_total(38910)","Time":0.05262303352356},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015008449554443},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00074887275695801},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046992301940918},{"SQL":"select * from obj_info(104)","Time":0.00039291381835938},{"SQL":"select * from f_prop_total(104)","Time":0.021154165267944},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025529861450195},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022010803222656},{"SQL":"select * from t_options(\'1006667041\')","Time":0.033547163009644},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0015988349914551},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0015881061553955},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00084304809570312},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0005650520324707},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00066494941711426},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027120113372803},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00046205520629883},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013890266418457},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018081665039062},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012447834014893},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059914588928223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055384635925293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079917907714844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059294700622559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056910514831543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056195259094238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059413909912109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069022178649902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069594383239746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060081481933594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058889389038086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005950927734375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060391426086426},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:24:41\') as code","Time":0.012872934341431},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408193\')","Time":0.0005500316619873},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00062704086303711},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00053501129150391},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00057601928710938}]},"timeleft":false}'
2011.11.10 13:24:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:24:42 DEBUG: Data chunk = b''
2011.11.10 13:24:43 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.38543605804443 seconds\\n","1":"Average query length: 0.0048789374436004 seconds\\n","2":"Queries per second: 204.96266073501\\n","3":"Longest query length: 0.061289072036743\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.04599404335022},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034821033477783},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'jt3sui15q0l1h3n6jber0gao36\')))","Time":0.0028438568115234},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0024828910827637},{"SQL":"select * from obj_info(58369)","Time":0.00065302848815918},{"SQL":"select * from obj_info(58369)","Time":0.00041103363037109},{"SQL":"select * from obj_prop_total(58369)","Time":0.061289072036743},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0022790431976318},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0007481575012207},{"SQL":"select obj_is_deleted(104) as code","Time":0.0007178783416748},{"SQL":"select * from obj_info(104)","Time":0.00042200088500977},{"SQL":"select * from f_prop_total(104)","Time":0.022771120071411},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0041558742523193},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.00319504737854},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038505077362061},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0010919570922852},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0017321109771729},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0008699893951416},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00083398818969727},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00069618225097656},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002418041229248},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034403800964355},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011999607086182},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018949508666992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012869834899902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057888031005859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005340576171875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057792663574219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097393989562988},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055503845214844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066399574279785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050902366638184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076103210449219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040793418884277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00038003921508789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051093101501465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053715705871582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046992301940918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078988075256348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.040070056915283},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.023823022842407},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:24:41\') as code","Time":0.023810148239136},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408194\')","Time":0.00057506561279297},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00051093101501465},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00038909912109375},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00046801567077637},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00055480003356934},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408189)","Time":0.00045394897460938},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00030303001403809},{"SQL":"select * from acc_list(58369)","Time":0.0007631778717041},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0020880699157715},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0013158321380615},{"SQL":"select z_has_point(1002846847, 56.01195, 37.863583333333, null) as state","Time":0.0032660961151123},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00026607513427734},{"SQL":"select z_has_point(171930, 56.01195, 37.863583333333, null) as state","Time":0.0023338794708252},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00032806396484375},{"SQL":"select z_has_point(1387421, 56.01195, 37.863583333333, null) as state","Time":0.0030491352081299},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00028586387634277},{"SQL":"select z_has_point(1387486, 56.01195, 37.863583333333, null) as state","Time":0.0023870468139648},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.0002748966217041},{"SQL":"select z_has_point(1387485, 56.01195, 37.863583333333, null) as state","Time":0.0023219585418701},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00035691261291504},{"SQL":"select z_has_point(1387499, 56.01195, 37.863583333333, null) as state","Time":0.0030720233917236},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00040006637573242},{"SQL":"select z_has_point(1387483, 56.01195, 37.863583333333, null) as state","Time":0.0034730434417725},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00032496452331543},{"SQL":"select z_has_point(1387484, 56.01195, 37.863583333333, null) as state","Time":0.0030698776245117},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00042605400085449},{"SQL":"select z_has_point(1387619, 56.01195, 37.863583333333, null) as state","Time":0.0037119388580322},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00032901763916016},{"SQL":"select z_has_point(8710, 56.01195, 37.863583333333, null) as state","Time":0.0028939247131348},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00034999847412109},{"SQL":"select z_has_point(1002827265, 56.01195, 37.863583333333, null) as state","Time":0.0035469532012939},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.0003049373626709},{"SQL":"select z_has_point(37627, 56.01195, 37.863583333333, null) as state","Time":0.0023229122161865},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00082898139953613},{"SQL":"select * from notif_get_by_object(58369)","Time":0.023739099502563},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:24:28\') as code","Time":0.015460968017578}]},"timeleft":false}'
2011.11.10 13:24:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:24:43 DEBUG: Data chunk = b''
2011.11.10 13:24:53 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:53 DEBUG: Recieving...
2011.11.10 13:24:53 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132453,E03752.3080,N5600.7580,161,17.278617710583152,87,7,1.1,14600,14470mV,0,0,0,0,0,202,0*34!\r\n'
2011.11.10 13:24:53 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132453,E03752.3080,N5600.7580,161,17.278617710583152,87,7,1.1,14600,14470mV,0,0,0,0,0,202,0*34!\r\n']
2011.11.10 13:24:53 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132453,E03752.3080,N5600.7580,161,17.278617710583152,87,7,1.1,14600,14470mV,0,0,0,0,0,202,0*34!

2011.11.10 13:24:53 DEBUG: Raw match found.
2011.11.10 13:24:53 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 161.0, 'azimuth': 87.0, 'longitude': 37.8718, 'odometer': 202.0, 'satellitescount': 7, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132453,E03752.3080,N5600.7580,161,17.278617710583152,87,7,1.1,14600,14470mV,0,0,0,0,0,202,0*34!', 'time': '2011-11-10T13:24:53.000000', 'latitude': 56.01263333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 202.0, 'digital_input2': 0, 'speed': 32.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 32.0, 'uid': '557460032240926_888'}
2011.11.10 13:24:54 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.25796580314636 seconds\\n","1":"Average query length: 0.0032653899132451 seconds\\n","2":"Queries per second: 306.24214154144\\n","3":"Longest query length: 0.041413068771362\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.021966934204102},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034098625183105},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'5c5f1cf60ouj7k8990j38a2j01\')))","Time":0.00083208084106445},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026600360870361},{"SQL":"select * from obj_info(58369)","Time":0.000579833984375},{"SQL":"select * from obj_info(58369)","Time":0.00031399726867676},{"SQL":"select * from obj_prop_total(58369)","Time":0.041413068771362},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0017158985137939},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00077199935913086},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046610832214355},{"SQL":"select * from obj_info(104)","Time":0.00029182434082031},{"SQL":"select * from f_prop_total(104)","Time":0.014260053634644},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023670196533203},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002169132232666},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03156304359436},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0010809898376465},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011868476867676},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063896179199219},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011179447174072},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012710094451904},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044660568237305},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00072598457336426},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018589496612549},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033349990844727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0021359920501709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009620189666748},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014839172363281},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095891952514648},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083088874816895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084495544433594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095796585083008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095486640930176},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086188316345215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086688995361328},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095295906066895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088691711425781},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090885162353516},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012011528015137},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072908401489258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071191787719727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071191787719727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010998249053955},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:24:53\') as code","Time":0.020435094833374},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408195\')","Time":0.00065302848815918},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00053596496582031},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00044894218444824},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00053596496582031},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00070905685424805},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408194)","Time":0.00079512596130371},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00036191940307617},{"SQL":"select * from acc_list(58369)","Time":0.00086307525634766},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0021240711212158},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.001244068145752},{"SQL":"select z_has_point(1002846847, 56.012533333333, 37.868566666667, null) as state","Time":0.003201961517334},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00036501884460449},{"SQL":"select z_has_point(171930, 56.012533333333, 37.868566666667, null) as state","Time":0.0026350021362305},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00036311149597168},{"SQL":"select z_has_point(1387421, 56.012533333333, 37.868566666667, null) as state","Time":0.0022017955780029},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00033998489379883},{"SQL":"select z_has_point(1387486, 56.012533333333, 37.868566666667, null) as state","Time":0.0024330615997314},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.0003361701965332},{"SQL":"select z_has_point(1387485, 56.012533333333, 37.868566666667, null) as state","Time":0.0021569728851318},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00038790702819824},{"SQL":"select z_has_point(1387499, 56.012533333333, 37.868566666667, null) as state","Time":0.0026679039001465},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00034999847412109},{"SQL":"select z_has_point(1387483, 56.012533333333, 37.868566666667, null) as state","Time":0.0021650791168213},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00034213066101074},{"SQL":"select z_has_point(1387484, 56.012533333333, 37.868566666667, null) as state","Time":0.0025131702423096},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00031685829162598},{"SQL":"select z_has_point(1387619, 56.012533333333, 37.868566666667, null) as state","Time":0.0022749900817871},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00031089782714844},{"SQL":"select z_has_point(8710, 56.012533333333, 37.868566666667, null) as state","Time":0.0026061534881592},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00034284591674805},{"SQL":"select z_has_point(1002827265, 56.012533333333, 37.868566666667, null) as state","Time":0.0021638870239258},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00030994415283203},{"SQL":"select z_has_point(37627, 56.012533333333, 37.868566666667, null) as state","Time":0.0025360584259033},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.000823974609375},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022474050521851},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:24:41\') as code","Time":0.014117002487183}]},"timeleft":false}'
2011.11.10 13:24:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:24:54 DEBUG: Data chunk = b''
2011.11.10 13:24:58 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:58 DEBUG: Recieving...
2011.11.10 13:24:58 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132458,E03116.7990,N5831.5820,28,23.758099352051836,182,8,1.1,14600,14470mV,0,0,0,0,0,61,0*0C!\r\n'
2011.11.10 13:24:58 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132458,E03116.7990,N5831.5820,28,23.758099352051836,182,8,1.1,14600,14470mV,0,0,0,0,0,61,0*0C!\r\n']
2011.11.10 13:24:58 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132458,E03116.7990,N5831.5820,28,23.758099352051836,182,8,1.1,14600,14470mV,0,0,0,0,0,61,0*0C!

2011.11.10 13:24:58 DEBUG: Raw match found.
2011.11.10 13:24:58 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 182.0, 'longitude': 31.279983333333334, 'odometer': 61.0, 'satellitescount': 8, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132458,E03116.7990,N5831.5820,28,23.758099352051836,182,8,1.1,14600,14470mV,0,0,0,0,0,61,0*0C!', 'time': '2011-11-10T13:24:58.000000', 'latitude': 58.52636666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 61.0, 'digital_input2': 0, 'speed': 44.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 44.0, 'uid': '657460032240926_888'}
2011.11.10 13:24:59 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:24:59 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:24:59 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:24:59 DEBUG: Recieving...
2011.11.10 13:24:59 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132459,E03813.5810,N5555.9810,164,32.39740820734341,140,1,1.1,14600,14470mV,0,0,0,0,0,17,0*05!\r\n'
2011.11.10 13:24:59 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132459,E03813.5810,N5555.9810,164,32.39740820734341,140,1,1.1,14600,14470mV,0,0,0,0,0,17,0*05!\r\n']
2011.11.10 13:24:59 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132459,E03813.5810,N5555.9810,164,32.39740820734341,140,1,1.1,14600,14470mV,0,0,0,0,0,17,0*05!

2011.11.10 13:24:59 DEBUG: Raw match found.
2011.11.10 13:24:59 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 164.0, 'azimuth': 140.0, 'longitude': 38.22635, 'odometer': 17.0, 'satellitescount': 1, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132459,E03813.5810,N5555.9810,164,32.39740820734341,140,1,1.1,14600,14470mV,0,0,0,0,0,17,0*05!', 'time': '2011-11-10T13:24:59.000000', 'latitude': 55.93301666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 17.0, 'digital_input2': 0, 'speed': 60.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 60.0, 'uid': '457460032240926_888'}
2011.11.10 13:24:59 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.20352387428284 seconds\\n","1":"Average query length: 0.0043302951975072 seconds\\n","2":"Queries per second: 230.93113849967\\n","3":"Longest query length: 0.049594163894653\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.028756141662598},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0051560401916504},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'giiheciksjms1f4j2racsuo7g1\')))","Time":0.00087094306945801},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0036649703979492},{"SQL":"select * from obj_info(58372)","Time":0.00073790550231934},{"SQL":"select * from obj_info(58372)","Time":0.00037884712219238},{"SQL":"select * from obj_prop_total(58372)","Time":0.049594163894653},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0021271705627441},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00099492073059082},{"SQL":"select obj_is_deleted(104) as code","Time":0.00072407722473145},{"SQL":"select * from obj_info(104)","Time":0.0003669261932373},{"SQL":"select * from f_prop_total(104)","Time":0.020279169082642},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0028231143951416},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0025091171264648},{"SQL":"select * from t_options(\'1006667041\')","Time":0.043681859970093},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.001492977142334},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0019600391387939},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00088787078857422},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00062394142150879},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0010061264038086},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002777099609375},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00037693977355957},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012128353118896},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017719268798828},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015010833740234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065398216247559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061392784118652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062298774719238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061488151550293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064682960510254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066685676574707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065898895263672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059390068054199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059890747070312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060796737670898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072813034057617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004730224609375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049114227294922},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051212310791016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081706047058105},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:24:58\') as code","Time":0.014917850494385},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408196\')","Time":0.00054693222045898},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00045299530029297},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00036311149597168},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044703483581543}]},"timeleft":false}'
2011.11.10 13:24:59 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:24:59 DEBUG: Data chunk = b''
2011.11.10 13:25:00 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19067668914795 seconds\\n","1":"Average query length: 0.0040569508329351 seconds\\n","2":"Queries per second: 246.49053961458\\n","3":"Longest query length: 0.04985785484314\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.027389049530029},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.004478931427002},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'h4ir3apjoddumrovn07bd8iv96\')))","Time":0.00068497657775879},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.003709077835083},{"SQL":"select * from obj_info(38910)","Time":0.00073695182800293},{"SQL":"select * from obj_info(38910)","Time":0.00035285949707031},{"SQL":"select * from obj_prop_total(38910)","Time":0.04985785484314},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0017330646514893},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00094103813171387},{"SQL":"select obj_is_deleted(104) as code","Time":0.00057506561279297},{"SQL":"select * from obj_info(104)","Time":0.0003809928894043},{"SQL":"select * from f_prop_total(104)","Time":0.014910936355591},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025501251220703},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021598339080811},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031513929367065},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0014359951019287},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013399124145508},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00069999694824219},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058984756469727},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00067996978759766},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023889541625977},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00035405158996582},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012478828430176},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020961761474609},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001478910446167},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062990188598633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080299377441406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057482719421387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081777572631836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006101131439209},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062394142150879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060510635375977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006101131439209},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061392784118652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063800811767578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043010711669922},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044083595275879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041508674621582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012719631195068},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092101097106934},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:24:59\') as code","Time":0.021818161010742},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408197\')","Time":0.00098490715026855},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00074887275695801},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00057888031005859},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0011098384857178}]},"timeleft":false}'
2011.11.10 13:25:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:25:00 DEBUG: Data chunk = b''
2011.11.10 13:25:03 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:25:03 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:25:03 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:25:03 DEBUG: Recieving...
2011.11.10 13:25:03 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132503,E03752.2970,N5601.1850,168,23.218142548596113,359,9,1.1,14600,14470mV,0,0,0,0,0,793,0*02!\r\n'
2011.11.10 13:25:03 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132503,E03752.2970,N5601.1850,168,23.218142548596113,359,9,1.1,14600,14470mV,0,0,0,0,0,793,0*02!\r\n']
2011.11.10 13:25:03 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132503,E03752.2970,N5601.1850,168,23.218142548596113,359,9,1.1,14600,14470mV,0,0,0,0,0,793,0*02!

2011.11.10 13:25:03 DEBUG: Raw match found.
2011.11.10 13:25:03 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 168.0, 'azimuth': 359.0, 'longitude': 37.87161666666667, 'odometer': 793.0, 'satellitescount': 9, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132503,E03752.2970,N5601.1850,168,23.218142548596113,359,9,1.1,14600,14470mV,0,0,0,0,0,793,0*02!', 'time': '2011-11-10T13:25:03.000000', 'latitude': 56.01975, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 793.0, 'digital_input2': 0, 'speed': 43.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 43.0, 'uid': '557460032240926_888'}
2011.11.10 13:25:04 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27223658561707 seconds\\n","1":"Average query length: 0.0034460327293299 seconds\\n","2":"Queries per second: 290.18877026001\\n","3":"Longest query length: 0.044109106063843\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.02165699005127},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0038042068481445},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'okfhi2en3o520u6fah610p8rf1\')))","Time":0.00067400932312012},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026009082794189},{"SQL":"select * from obj_info(58369)","Time":0.00084900856018066},{"SQL":"select * from obj_info(58369)","Time":0.00041890144348145},{"SQL":"select * from obj_prop_total(58369)","Time":0.044109106063843},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014219284057617},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0007779598236084},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046586990356445},{"SQL":"select * from obj_info(104)","Time":0.00028800964355469},{"SQL":"select * from f_prop_total(104)","Time":0.014378070831299},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024528503417969},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002047061920166},{"SQL":"select * from t_options(\'1006667041\')","Time":0.030707120895386},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0010910034179688},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011248588562012},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00069379806518555},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010881423950195},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0011470317840576},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0043020248413086},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00060510635375977},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018608570098877},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0030851364135742},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.002094030380249},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089788436889648},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083804130554199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094914436340332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085592269897461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000823974609375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086402893066406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099086761474609},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095891952514648},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001060962677002},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099897384643555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009160041809082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094699859619141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077414512634277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077009201049805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088000297546387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009148120880127},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070714950561523},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:25:03\') as code","Time":0.023991823196411},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408198\')","Time":0.0010299682617188},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00086188316345215},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00070595741271973},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00081706047058105},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0010180473327637},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408195)","Time":0.00079703330993652},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.000518798828125},{"SQL":"select * from acc_list(58369)","Time":0.0012578964233398},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0032889842987061},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0014700889587402},{"SQL":"select z_has_point(1002846847, 56.012633333333, 37.8718, null) as state","Time":0.0055131912231445},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00048685073852539},{"SQL":"select z_has_point(171930, 56.012633333333, 37.8718, null) as state","Time":0.0038599967956543},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00047588348388672},{"SQL":"select z_has_point(1387421, 56.012633333333, 37.8718, null) as state","Time":0.0027449131011963},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00034093856811523},{"SQL":"select z_has_point(1387486, 56.012633333333, 37.8718, null) as state","Time":0.0024471282958984},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00046801567077637},{"SQL":"select z_has_point(1387485, 56.012633333333, 37.8718, null) as state","Time":0.0023989677429199},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00033903121948242},{"SQL":"select z_has_point(1387499, 56.012633333333, 37.8718, null) as state","Time":0.0023989677429199},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00034403800964355},{"SQL":"select z_has_point(1387483, 56.012633333333, 37.8718, null) as state","Time":0.0024590492248535},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00034499168395996},{"SQL":"select z_has_point(1387484, 56.012633333333, 37.8718, null) as state","Time":0.0024170875549316},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00039505958557129},{"SQL":"select z_has_point(1387619, 56.012633333333, 37.8718, null) as state","Time":0.0026187896728516},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00034999847412109},{"SQL":"select z_has_point(8710, 56.012633333333, 37.8718, null) as state","Time":0.0023210048675537},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00030708312988281},{"SQL":"select z_has_point(1002827265, 56.012633333333, 37.8718, null) as state","Time":0.0021889209747314},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00031399726867676},{"SQL":"select z_has_point(37627, 56.012633333333, 37.8718, null) as state","Time":0.0022060871124268},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00084900856018066},{"SQL":"select * from notif_get_by_object(58369)","Time":0.0242760181427},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:24:53\') as code","Time":0.014722108840942}]},"timeleft":false}'
2011.11.10 13:25:04 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:25:04 DEBUG: Data chunk = b''
2011.11.10 13:25:13 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:25:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:25:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:25:13 DEBUG: Recieving...
2011.11.10 13:25:13 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132513,E03752.2900,N5601.2750,168,21.59827213822894,358,2,1.1,14600,14470mV,0,0,0,0,0,168,0*32!\r\n'
2011.11.10 13:25:13 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132513,E03752.2900,N5601.2750,168,21.59827213822894,358,2,1.1,14600,14470mV,0,0,0,0,0,168,0*32!\r\n']
2011.11.10 13:25:13 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132513,E03752.2900,N5601.2750,168,21.59827213822894,358,2,1.1,14600,14470mV,0,0,0,0,0,168,0*32!

2011.11.10 13:25:13 DEBUG: Raw match found.
2011.11.10 13:25:13 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 168.0, 'azimuth': 358.0, 'longitude': 37.8715, 'odometer': 168.0, 'satellitescount': 2, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132513,E03752.2900,N5601.2750,168,21.59827213822894,358,2,1.1,14600,14470mV,0,0,0,0,0,168,0*32!', 'time': '2011-11-10T13:25:13.000000', 'latitude': 56.02125, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 168.0, 'digital_input2': 0, 'speed': 40.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 40.0, 'uid': '557460032240926_888'}
2011.11.10 13:25:14 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27683186531067 seconds\\n","1":"Average query length: 0.0035042008267173 seconds\\n","2":"Queries per second: 285.37177218144\\n","3":"Longest query length: 0.040718078613281\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.022067070007324},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0037319660186768},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'hkp3n1toi6a15qm4jimugkbb82\')))","Time":0.00099921226501465},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0024480819702148},{"SQL":"select * from obj_info(58369)","Time":0.00048613548278809},{"SQL":"select * from obj_info(58369)","Time":0.00023579597473145},{"SQL":"select * from obj_prop_total(58369)","Time":0.040718078613281},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014090538024902},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0006871223449707},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005040168762207},{"SQL":"select * from obj_info(104)","Time":0.00033903121948242},{"SQL":"select * from f_prop_total(104)","Time":0.018049001693726},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025129318237305},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022649765014648},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031406164169312},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011839866638184},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0013220310211182},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00075101852416992},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011980533599854},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012538433074951},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044980049133301},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00068402290344238},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.00201416015625},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.00347900390625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014801025390625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090885162353516},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094890594482422},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093889236450195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085687637329102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078105926513672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079989433288574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082182884216309},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085902214050293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079083442687988},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080299377441406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080394744873047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078392028808594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078105926513672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084996223449707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013720989227295},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077009201049805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096011161804199},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:25:13\') as code","Time":0.029716014862061},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408199\')","Time":0.00066900253295898},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049185752868652},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00039887428283691},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00052404403686523},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0005948543548584},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408198)","Time":0.0004270076751709},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00032687187194824},{"SQL":"select * from acc_list(58369)","Time":0.00078105926513672},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.001884937286377},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00089001655578613},{"SQL":"select z_has_point(1002846847, 56.01975, 37.871616666667, null) as state","Time":0.0030601024627686},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00032186508178711},{"SQL":"select z_has_point(171930, 56.01975, 37.871616666667, null) as state","Time":0.0021870136260986},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0003359317779541},{"SQL":"select z_has_point(1387421, 56.01975, 37.871616666667, null) as state","Time":0.0021350383758545},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00033783912658691},{"SQL":"select z_has_point(1387486, 56.01975, 37.871616666667, null) as state","Time":0.0021889209747314},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00039005279541016},{"SQL":"select z_has_point(1387485, 56.01975, 37.871616666667, null) as state","Time":0.0023460388183594},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00033998489379883},{"SQL":"select z_has_point(1387499, 56.01975, 37.871616666667, null) as state","Time":0.0021460056304932},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00033402442932129},{"SQL":"select z_has_point(1387483, 56.01975, 37.871616666667, null) as state","Time":0.0021638870239258},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.0003359317779541},{"SQL":"select z_has_point(1387484, 56.01975, 37.871616666667, null) as state","Time":0.0021688938140869},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00034189224243164},{"SQL":"select z_has_point(1387619, 56.01975, 37.871616666667, null) as state","Time":0.0022249221801758},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00034308433532715},{"SQL":"select z_has_point(8710, 56.01975, 37.871616666667, null) as state","Time":0.0022578239440918},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00042605400085449},{"SQL":"select z_has_point(1002827265, 56.01975, 37.871616666667, null) as state","Time":0.0021820068359375},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00031304359436035},{"SQL":"select z_has_point(37627, 56.01975, 37.871616666667, null) as state","Time":0.0021989345550537},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00067996978759766},{"SQL":"select * from notif_get_by_object(58369)","Time":0.02163290977478},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:25:03\') as code","Time":0.012861013412476}]},"timeleft":false}'
2011.11.10 13:25:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:25:14 DEBUG: Data chunk = b''
2011.11.10 13:25:16 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:25:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:25:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:25:16 DEBUG: Recieving...
2011.11.10 13:25:16 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132516,E03116.7990,N5831.5520,27,8.099352051835853,180,6,1.1,14600,14470mV,0,0,0,0,0,55,0*30!\r\n'
2011.11.10 13:25:16 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132516,E03116.7990,N5831.5520,27,8.099352051835853,180,6,1.1,14600,14470mV,0,0,0,0,0,55,0*30!\r\n']
2011.11.10 13:25:16 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132516,E03116.7990,N5831.5520,27,8.099352051835853,180,6,1.1,14600,14470mV,0,0,0,0,0,55,0*30!

2011.11.10 13:25:16 DEBUG: Raw match found.
2011.11.10 13:25:16 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 27.0, 'azimuth': 180.0, 'longitude': 31.279983333333334, 'odometer': 55.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132516,E03116.7990,N5831.5520,27,8.099352051835853,180,6,1.1,14600,14470mV,0,0,0,0,0,55,0*30!', 'time': '2011-11-10T13:25:16.000000', 'latitude': 58.525866666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 55.0, 'digital_input2': 0, 'speed': 15.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 15.0, 'uid': '657460032240926_888'}
2011.11.10 13:25:17 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:25:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:25:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:25:17 DEBUG: Recieving...
2011.11.10 13:25:17 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132517,E03813.5910,N5555.9740,160,32.39740820734341,140,6,1.1,14600,14470mV,0,0,0,0,0,17,0*06!\r\n'
2011.11.10 13:25:17 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132517,E03813.5910,N5555.9740,160,32.39740820734341,140,6,1.1,14600,14470mV,0,0,0,0,0,17,0*06!\r\n']
2011.11.10 13:25:17 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132517,E03813.5910,N5555.9740,160,32.39740820734341,140,6,1.1,14600,14470mV,0,0,0,0,0,17,0*06!

2011.11.10 13:25:17 DEBUG: Raw match found.
2011.11.10 13:25:17 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 160.0, 'azimuth': 140.0, 'longitude': 38.22651666666667, 'odometer': 17.0, 'satellitescount': 6, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132517,E03813.5910,N5555.9740,160,32.39740820734341,140,6,1.1,14600,14470mV,0,0,0,0,0,17,0*06!', 'time': '2011-11-10T13:25:17.000000', 'latitude': 55.9329, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 17.0, 'digital_input2': 0, 'speed': 60.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 60.0, 'uid': '457460032240926_888'}
2011.11.10 13:25:17 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.22735810279846 seconds\\n","1":"Average query length: 0.0048374064425205 seconds\\n","2":"Queries per second: 206.72234427318\\n","3":"Longest query length: 0.054989814758301\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.022242069244385},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034949779510498},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'v5l4cut9mnrn3dq8k2gkvbrdm6\')))","Time":0.00066494941711426},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0024387836456299},{"SQL":"select * from obj_info(58372)","Time":0.00059795379638672},{"SQL":"select * from obj_info(58372)","Time":0.00031709671020508},{"SQL":"select * from obj_prop_total(58372)","Time":0.047430038452148},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0024869441986084},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0010478496551514},{"SQL":"select obj_is_deleted(104) as code","Time":0.00079488754272461},{"SQL":"select * from obj_info(104)","Time":0.00035881996154785},{"SQL":"select * from f_prop_total(104)","Time":0.02136492729187},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0044031143188477},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002781867980957},{"SQL":"select * from t_options(\'1006667041\')","Time":0.054989814758301},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0016429424285889},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0014560222625732},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066184997558594},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065493583679199},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00073909759521484},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.005810022354126},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.000885009765625},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013370513916016},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020499229431152},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0025889873504639},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010271072387695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066494941711426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061392784118652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059008598327637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005800724029541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056910514831543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051498413085938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050210952758789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044107437133789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049304962158203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042104721069336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014652967453003},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084996223449707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073909759521484},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:25:16\') as code","Time":0.01779580116272},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408200\')","Time":0.00061297416687012},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048208236694336},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00036501884460449},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0004267692565918}]},"timeleft":false}'
2011.11.10 13:25:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:25:17 DEBUG: Data chunk = b''
2011.11.10 13:25:18 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.23858833312988 seconds\\n","1":"Average query length: 0.0050763475134018 seconds\\n","2":"Queries per second: 196.99202967487\\n","3":"Longest query length: 0.065807104110718\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.032023906707764},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050010681152344},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'dl2m8iob8d4qpg5gp7vk8611n0\')))","Time":0.00095820426940918},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0037720203399658},{"SQL":"select * from obj_info(38910)","Time":0.00089716911315918},{"SQL":"select * from obj_info(38910)","Time":0.00035405158996582},{"SQL":"select * from obj_prop_total(38910)","Time":0.065807104110718},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0018148422241211},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0011851787567139},{"SQL":"select obj_is_deleted(104) as code","Time":0.00086307525634766},{"SQL":"select * from obj_info(104)","Time":0.00042986869812012},{"SQL":"select * from f_prop_total(104)","Time":0.023780107498169},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0030078887939453},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0036959648132324},{"SQL":"select * from t_options(\'1006667041\')","Time":0.049973964691162},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0017790794372559},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0021929740905762},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00087499618530273},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.001025915145874},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006868839263916},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026798248291016},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0003509521484375},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012350082397461},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017540454864502},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001507043838501},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054192543029785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049805641174316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063180923461914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092697143554688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076508522033691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068879127502441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068402290344238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006251335144043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006711483001709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055384635925293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055813789367676},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061678886413574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047993659973145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044012069702148},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046014785766602},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:25:17\') as code","Time":0.018603086471558},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408201\')","Time":0.00055599212646484},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00053310394287109},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00037503242492676},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043201446533203}]},"timeleft":false}'
2011.11.10 13:25:18 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:25:18 DEBUG: Data chunk = b''
2011.11.10 13:25:29 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:25:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:25:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:25:29 DEBUG: Recieving...
2011.11.10 13:25:29 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132529,E03813.6120,N5555.9590,153,34.557235421166304,141,7,1.1,14600,14470mV,0,0,0,0,0,35,0*3D!\r\n'
2011.11.10 13:25:29 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132529,E03813.6120,N5555.9590,153,34.557235421166304,141,7,1.1,14600,14470mV,0,0,0,0,0,35,0*3D!\r\n']
2011.11.10 13:25:29 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132529,E03813.6120,N5555.9590,153,34.557235421166304,141,7,1.1,14600,14470mV,0,0,0,0,0,35,0*3D!

2011.11.10 13:25:29 DEBUG: Raw match found.
2011.11.10 13:25:29 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 153.0, 'azimuth': 141.0, 'longitude': 38.226866666666666, 'odometer': 35.0, 'satellitescount': 7, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132529,E03813.6120,N5555.9590,153,34.557235421166304,141,7,1.1,14600,14470mV,0,0,0,0,0,35,0*3D!', 'time': '2011-11-10T13:25:29.000000', 'latitude': 55.93265, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 35.0, 'digital_input2': 0, 'speed': 64.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 64.0, 'uid': '457460032240926_888'}
2011.11.10 13:25:30 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17811751365662 seconds\\n","1":"Average query length: 0.0037897343331195 seconds\\n","2":"Queries per second: 263.87073923909\\n","3":"Longest query length: 0.03652811050415\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.021255016326904},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036139488220215},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1rclb4of98i455hc48e2fc9ac3\')))","Time":0.00079703330993652},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025899410247803},{"SQL":"select * from obj_info(38910)","Time":0.00060200691223145},{"SQL":"select * from obj_info(38910)","Time":0.0003819465637207},{"SQL":"select * from obj_prop_total(38910)","Time":0.03652811050415},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015068054199219},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00073909759521484},{"SQL":"select obj_is_deleted(104) as code","Time":0.00051093101501465},{"SQL":"select * from obj_info(104)","Time":0.00037407875061035},{"SQL":"select * from f_prop_total(104)","Time":0.014398097991943},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024650096893311},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020430088043213},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03095006942749},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011088848114014},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.001276969909668},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00069379806518555},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010311603546143},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012850761413574},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045571327209473},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00066995620727539},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020570755004883},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033500194549561},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0025510787963867},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091004371643066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093889236450195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096392631530762},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010340213775635},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090599060058594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089097023010254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089192390441895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078701972961426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072407722473145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089502334594727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074505805969238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001561164855957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092506408691406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085806846618652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085687637329102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085902214050293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000885009765625},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:25:29\') as code","Time":0.021684885025024},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408202\')","Time":0.0010590553283691},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00085616111755371},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00076389312744141},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00078511238098145}]},"timeleft":false}'
2011.11.10 13:25:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:25:30 DEBUG: Data chunk = b''
2011.11.10 13:25:32 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:25:32 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:25:32 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:25:32 DEBUG: Recieving...
2011.11.10 13:25:32 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132532,E03752.2800,N5601.4150,169,28.077753779697623,358,3,1.1,14600,14470mV,0,0,0,0,0,261,0*08!\r\n'
2011.11.10 13:25:32 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132532,E03752.2800,N5601.4150,169,28.077753779697623,358,3,1.1,14600,14470mV,0,0,0,0,0,261,0*08!\r\n']
2011.11.10 13:25:32 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132532,E03752.2800,N5601.4150,169,28.077753779697623,358,3,1.1,14600,14470mV,0,0,0,0,0,261,0*08!

2011.11.10 13:25:32 DEBUG: Raw match found.
2011.11.10 13:25:32 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 169.0, 'azimuth': 358.0, 'longitude': 37.87133333333333, 'odometer': 261.0, 'satellitescount': 3, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132532,E03752.2800,N5601.4150,169,28.077753779697623,358,3,1.1,14600,14470mV,0,0,0,0,0,261,0*08!', 'time': '2011-11-10T13:25:32.000000', 'latitude': 56.023583333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 261.0, 'digital_input2': 0, 'speed': 52.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 52.0, 'uid': '557460032240926_888'}
2011.11.10 13:25:33 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.25478267669678 seconds\\n","1":"Average query length: 0.0032250971733769 seconds\\n","2":"Queries per second: 310.0681766289\\n","3":"Longest query length: 0.043692111968994\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.021517038345337},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034959316253662},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'foepb06qgh4ea6eqjbvgoacrn0\')))","Time":0.00072312355041504},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0027379989624023},{"SQL":"select * from obj_info(58369)","Time":0.00053596496582031},{"SQL":"select * from obj_info(58369)","Time":0.00028014183044434},{"SQL":"select * from obj_prop_total(58369)","Time":0.043692111968994},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0013840198516846},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00072908401489258},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045514106750488},{"SQL":"select * from obj_info(104)","Time":0.0002892017364502},{"SQL":"select * from f_prop_total(104)","Time":0.014391899108887},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025019645690918},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002068042755127},{"SQL":"select * from t_options(\'1006667041\')","Time":0.030991077423096},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011091232299805},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0010859966278076},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068092346191406},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0012180805206299},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0011770725250244},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0042288303375244},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00069904327392578},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020320415496826},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0031070709228516},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.002004861831665},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092697143554688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095605850219727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093889236450195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076889991760254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075602531433105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007169246673584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077700614929199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076413154602051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005948543548584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010631084442139},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075793266296387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007331371307373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056791305541992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060796737670898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005800724029541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012061595916748},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:25:32\') as code","Time":0.016472816467285},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408203\')","Time":0.0006709098815918},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00055813789367676},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00045609474182129},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00056695938110352},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00068902969360352},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408199)","Time":0.00047898292541504},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00036883354187012},{"SQL":"select * from acc_list(58369)","Time":0.00087189674377441},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.002190113067627},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00081515312194824},{"SQL":"select z_has_point(1002846847, 56.02125, 37.8715, null) as state","Time":0.0037190914154053},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00036191940307617},{"SQL":"select z_has_point(171930, 56.02125, 37.8715, null) as state","Time":0.0026018619537354},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00037908554077148},{"SQL":"select z_has_point(1387421, 56.02125, 37.8715, null) as state","Time":0.002601146697998},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00035691261291504},{"SQL":"select z_has_point(1387486, 56.02125, 37.8715, null) as state","Time":0.0025179386138916},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00034403800964355},{"SQL":"select z_has_point(1387485, 56.02125, 37.8715, null) as state","Time":0.0025820732116699},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00036096572875977},{"SQL":"select z_has_point(1387499, 56.02125, 37.8715, null) as state","Time":0.0024890899658203},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00034308433532715},{"SQL":"select z_has_point(1387483, 56.02125, 37.8715, null) as state","Time":0.0025448799133301},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00036120414733887},{"SQL":"select z_has_point(1387484, 56.02125, 37.8715, null) as state","Time":0.0026090145111084},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00043582916259766},{"SQL":"select z_has_point(1387619, 56.02125, 37.8715, null) as state","Time":0.0028369426727295},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00036907196044922},{"SQL":"select z_has_point(8710, 56.02125, 37.8715, null) as state","Time":0.0028398036956787},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00073719024658203},{"SQL":"select z_has_point(1002827265, 56.02125, 37.8715, null) as state","Time":0.0034220218658447},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00038814544677734},{"SQL":"select z_has_point(37627, 56.02125, 37.8715, null) as state","Time":0.0026199817657471},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00079083442687988},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022528886795044},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:25:13\') as code","Time":0.013066053390503}]},"timeleft":false}'
2011.11.10 13:25:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:25:33 DEBUG: Data chunk = b''
2011.11.10 13:25:34 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:25:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:25:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:25:34 DEBUG: Recieving...
2011.11.10 13:25:34 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132534,E03116.8000,N5831.5430,26,11.339092872570195,175,2,1.1,14600,14470mV,0,0,0,0,0,18,0*01!\r\n'
2011.11.10 13:25:34 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132534,E03116.8000,N5831.5430,26,11.339092872570195,175,2,1.1,14600,14470mV,0,0,0,0,0,18,0*01!\r\n']
2011.11.10 13:25:34 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132534,E03116.8000,N5831.5430,26,11.339092872570195,175,2,1.1,14600,14470mV,0,0,0,0,0,18,0*01!

2011.11.10 13:25:34 DEBUG: Raw match found.
2011.11.10 13:25:34 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 175.0, 'longitude': 31.28, 'odometer': 18.0, 'satellitescount': 2, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132534,E03116.8000,N5831.5430,26,11.339092872570195,175,2,1.1,14600,14470mV,0,0,0,0,0,18,0*01!', 'time': '2011-11-10T13:25:34.000000', 'latitude': 58.52571666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 18.0, 'digital_input2': 0, 'speed': 21.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 21.0, 'uid': '657460032240926_888'}
2011.11.10 13:25:35 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.177809715271 seconds\\n","1":"Average query length: 0.0037831854312978 seconds\\n","2":"Queries per second: 264.32751398521\\n","3":"Longest query length: 0.044631958007812\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.021883964538574},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034699440002441},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ri2ei3rs7elad9e92evro8g8b6\')))","Time":0.00079107284545898},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026929378509521},{"SQL":"select * from obj_info(58372)","Time":0.00070095062255859},{"SQL":"select * from obj_info(58372)","Time":0.00043702125549316},{"SQL":"select * from obj_prop_total(58372)","Time":0.044631958007812},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0015549659729004},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0009000301361084},{"SQL":"select obj_is_deleted(104) as code","Time":0.00060176849365234},{"SQL":"select * from obj_info(104)","Time":0.00032901763916016},{"SQL":"select * from f_prop_total(104)","Time":0.01500415802002},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024631023406982},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019760131835938},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032791137695312},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012259483337402},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012540817260742},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00062799453735352},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011730194091797},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012609958648682},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0042259693145752},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00059103965759277},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018370151519775},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020248889923096},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016400814056396},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082182884216309},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0028970241546631},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076794624328613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007171630859375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071310997009277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082898139953613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069689750671387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076103210449219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007169246673584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096297264099121},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085997581481934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011520385742188},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073814392089844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074386596679688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057101249694824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052809715270996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:25:34\') as code","Time":0.014616012573242},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408204\')","Time":0.00060081481933594},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0004880428314209},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0004119873046875},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00047779083251953}]},"timeleft":false}'
2011.11.10 13:25:35 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:25:35 DEBUG: Data chunk = b''
2011.11.10 13:25:46 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:25:46 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:25:46 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:25:46 DEBUG: Recieving...
2011.11.10 13:25:46 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132546,E03116.8170,N5831.5290,25,14.038876889848812,147,10,1.1,14600,14470mV,0,0,0,0,0,29,0*3C!\r\n'
2011.11.10 13:25:46 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132546,E03116.8170,N5831.5290,25,14.038876889848812,147,10,1.1,14600,14470mV,0,0,0,0,0,29,0*3C!\r\n']
2011.11.10 13:25:46 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132546,E03116.8170,N5831.5290,25,14.038876889848812,147,10,1.1,14600,14470mV,0,0,0,0,0,29,0*3C!

2011.11.10 13:25:46 DEBUG: Raw match found.
2011.11.10 13:25:46 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 25.0, 'azimuth': 147.0, 'longitude': 31.280283333333333, 'odometer': 29.0, 'satellitescount': 10, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132546,E03116.8170,N5831.5290,25,14.038876889848812,147,10,1.1,14600,14470mV,0,0,0,0,0,29,0*3C!', 'time': '2011-11-10T13:25:46.000000', 'latitude': 58.525483333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 29.0, 'digital_input2': 0, 'speed': 26.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 26.0, 'uid': '657460032240926_888'}
2011.11.10 13:25:47 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.25994658470154 seconds\\n","1":"Average query length: 0.0055307783979051 seconds\\n","2":"Queries per second: 180.80637625597\\n","3":"Longest query length: 0.045942068099976\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.021064043045044},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0037639141082764},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'nf0en4dkj4sd1vjlrt6btmfel5\')))","Time":0.00066399574279785},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0036418437957764},{"SQL":"select * from obj_info(58372)","Time":0.00063300132751465},{"SQL":"select * from obj_info(58372)","Time":0.00033903121948242},{"SQL":"select * from obj_prop_total(58372)","Time":0.045942068099976},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0024750232696533},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0011680126190186},{"SQL":"select obj_is_deleted(104) as code","Time":0.00053596496582031},{"SQL":"select * from obj_info(104)","Time":0.00036191940307617},{"SQL":"select * from f_prop_total(104)","Time":0.015712022781372},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026898384094238},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020389556884766},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03624701499939},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0010230541229248},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0011699199676514},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00052213668823242},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010628700256348},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012438297271729},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0062439441680908},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00081181526184082},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021660327911377},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0048551559448242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.019763946533203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.006417989730835},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.002126932144165},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0057458877563477},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012390613555908},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075602531433105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0052709579467773},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010819435119629},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0022258758544922},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0058541297912598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.008997917175293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014500617980957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0055279731750488},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.004464864730835},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0039680004119873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011410713195801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0029630661010742},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0021800994873047},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:25:46\') as code","Time":0.020008087158203},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408205\')","Time":0.00061607360839844},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00066113471984863},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00054502487182617},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0005650520324707}]},"timeleft":false}'
2011.11.10 13:25:47 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:25:47 DEBUG: Data chunk = b''
2011.11.10 13:25:49 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:25:49 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:25:49 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:25:49 DEBUG: Recieving...
2011.11.10 13:25:49 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132549,E03813.6320,N5555.9450,147,32.937365010799134,142,9,1.1,14600,14470mV,0,0,0,0,0,34,0*34!\r\n'
2011.11.10 13:25:49 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132549,E03813.6320,N5555.9450,147,32.937365010799134,142,9,1.1,14600,14470mV,0,0,0,0,0,34,0*34!\r\n']
2011.11.10 13:25:49 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132549,E03813.6320,N5555.9450,147,32.937365010799134,142,9,1.1,14600,14470mV,0,0,0,0,0,34,0*34!

2011.11.10 13:25:49 DEBUG: Raw match found.
2011.11.10 13:25:49 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 147.0, 'azimuth': 142.0, 'longitude': 38.2272, 'odometer': 34.0, 'satellitescount': 9, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132549,E03813.6320,N5555.9450,147,32.937365010799134,142,9,1.1,14600,14470mV,0,0,0,0,0,34,0*34!', 'time': '2011-11-10T13:25:49.000000', 'latitude': 55.93241666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 34.0, 'digital_input2': 0, 'speed': 61.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 61.0, 'uid': '457460032240926_888'}
2011.11.10 13:25:50 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.16919541358948 seconds\\n","1":"Average query length: 0.0035999024167974 seconds\\n","2":"Queries per second: 277.78530754999\\n","3":"Longest query length: 0.037290811538696\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.020710945129395},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034780502319336},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'l0ni8mrjvu84910uk208u7mr84\')))","Time":0.00081610679626465},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026469230651855},{"SQL":"select * from obj_info(38910)","Time":0.0005500316619873},{"SQL":"select * from obj_info(38910)","Time":0.00030112266540527},{"SQL":"select * from obj_prop_total(38910)","Time":0.037290811538696},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0013699531555176},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00065398216247559},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044393539428711},{"SQL":"select * from obj_info(104)","Time":0.00028419494628906},{"SQL":"select * from f_prop_total(104)","Time":0.014014005661011},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023651123046875},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020079612731934},{"SQL":"select * from t_options(\'1006667041\')","Time":0.030986070632935},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011210441589355},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0012280941009521},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00060415267944336},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010290145874023},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0011529922485352},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0043139457702637},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00062298774719238},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020239353179932},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033290386199951},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0085680484771729},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072598457336426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067591667175293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060892105102539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065708160400391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073099136352539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075197219848633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067305564880371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070619583129883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065302848815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074291229248047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072789192199707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064706802368164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074601173400879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066518783569336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006868839263916},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062298774719238},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:25:49\') as code","Time":0.013651847839355},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408206\')","Time":0.00056195259094238},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00050592422485352},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00041913986206055},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0004730224609375}]},"timeleft":false}'
2011.11.10 13:25:50 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:25:50 DEBUG: Data chunk = b''
2011.11.10 13:25:51 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:25:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:25:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:25:51 DEBUG: Recieving...
2011.11.10 13:25:51 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132551,E03752.2720,N5601.5390,170,44.276457883369325,358,11,1.1,14600,14470mV,0,0,0,0,0,229,0*3B!\r\n'
2011.11.10 13:25:51 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132551,E03752.2720,N5601.5390,170,44.276457883369325,358,11,1.1,14600,14470mV,0,0,0,0,0,229,0*3B!\r\n']
2011.11.10 13:25:51 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132551,E03752.2720,N5601.5390,170,44.276457883369325,358,11,1.1,14600,14470mV,0,0,0,0,0,229,0*3B!

2011.11.10 13:25:51 DEBUG: Raw match found.
2011.11.10 13:25:51 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 170.0, 'azimuth': 358.0, 'longitude': 37.8712, 'odometer': 229.0, 'satellitescount': 11, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132551,E03752.2720,N5601.5390,170,44.276457883369325,358,11,1.1,14600,14470mV,0,0,0,0,0,229,0*3B!', 'time': '2011-11-10T13:25:51.000000', 'latitude': 56.02565, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 229.0, 'digital_input2': 0, 'speed': 82.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 82.0, 'uid': '557460032240926_888'}
2011.11.10 13:25:52 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27534985542297 seconds\\n","1":"Average query length: 0.0034854412078857 seconds\\n","2":"Queries per second: 286.90772282646\\n","3":"Longest query length: 0.043585777282715\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.021886825561523},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034210681915283},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'7kuqe726qo98gjvfflhr3du3e5\')))","Time":0.00079989433288574},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026180744171143},{"SQL":"select * from obj_info(58369)","Time":0.00064802169799805},{"SQL":"select * from obj_info(58369)","Time":0.00041604042053223},{"SQL":"select * from obj_prop_total(58369)","Time":0.043585777282715},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015139579772949},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00070309638977051},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047707557678223},{"SQL":"select * from obj_info(104)","Time":0.00030183792114258},{"SQL":"select * from f_prop_total(104)","Time":0.014075994491577},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025010108947754},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019559860229492},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031192064285278},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011780261993408},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011248588562012},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066900253295898},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0012228488922119},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012578964233398},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045938491821289},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021908283233643},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0034830570220947},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020878314971924},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093889236450195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086307525634766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094699859619141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087714195251465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086402893066406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085091590881348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084996223449707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008080005645752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009000301361084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092911720275879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086498260498047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089192390441895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089192390441895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082898139953613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085997581481934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099992752075195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069880485534668},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:25:51\') as code","Time":0.025450944900513},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408207\')","Time":0.0010769367218018},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.001209020614624},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00082302093505859},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00095295906066895},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0010402202606201},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408203)","Time":0.00073099136352539},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00052690505981445},{"SQL":"select * from acc_list(58369)","Time":0.0013151168823242},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0034630298614502},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0017321109771729},{"SQL":"select z_has_point(1002846847, 56.023583333333, 37.871333333333, null) as state","Time":0.006058931350708},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00058984756469727},{"SQL":"select z_has_point(171930, 56.023583333333, 37.871333333333, null) as state","Time":0.0042750835418701},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00052905082702637},{"SQL":"select z_has_point(1387421, 56.023583333333, 37.871333333333, null) as state","Time":0.0044150352478027},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00049710273742676},{"SQL":"select z_has_point(1387486, 56.023583333333, 37.871333333333, null) as state","Time":0.0025529861450195},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00034713745117188},{"SQL":"select z_has_point(1387485, 56.023583333333, 37.871333333333, null) as state","Time":0.0024771690368652},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00034713745117188},{"SQL":"select z_has_point(1387499, 56.023583333333, 37.871333333333, null) as state","Time":0.0024991035461426},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00034499168395996},{"SQL":"select z_has_point(1387483, 56.023583333333, 37.871333333333, null) as state","Time":0.0025720596313477},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00034499168395996},{"SQL":"select z_has_point(1387484, 56.023583333333, 37.871333333333, null) as state","Time":0.0024678707122803},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00040102005004883},{"SQL":"select z_has_point(1387619, 56.023583333333, 37.871333333333, null) as state","Time":0.0026860237121582},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00034713745117188},{"SQL":"select z_has_point(8710, 56.023583333333, 37.871333333333, null) as state","Time":0.0025801658630371},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00047612190246582},{"SQL":"select z_has_point(1002827265, 56.023583333333, 37.871333333333, null) as state","Time":0.0025529861450195},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00041508674621582},{"SQL":"select z_has_point(37627, 56.023583333333, 37.871333333333, null) as state","Time":0.0021560192108154},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0007779598236084},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021637916564941},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:25:32\') as code","Time":0.013174057006836}]},"timeleft":false}'
2011.11.10 13:25:52 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:25:52 DEBUG: Data chunk = b''
2011.11.10 13:26:00 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:00 DEBUG: Recieving...
2011.11.10 13:26:00 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132600,E03813.6540,N5555.9320,144,32.39740820734341,138,12,1.1,14600,14470mV,0,0,0,0,0,33,0*31!\r\n'
2011.11.10 13:26:00 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132600,E03813.6540,N5555.9320,144,32.39740820734341,138,12,1.1,14600,14470mV,0,0,0,0,0,33,0*31!\r\n']
2011.11.10 13:26:00 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132600,E03813.6540,N5555.9320,144,32.39740820734341,138,12,1.1,14600,14470mV,0,0,0,0,0,33,0*31!

2011.11.10 13:26:00 DEBUG: Raw match found.
2011.11.10 13:26:00 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 144.0, 'azimuth': 138.0, 'longitude': 38.22756666666667, 'odometer': 33.0, 'satellitescount': 12, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132600,E03813.6540,N5555.9320,144,32.39740820734341,138,12,1.1,14600,14470mV,0,0,0,0,0,33,0*31!', 'time': '2011-11-10T13:26:00.000000', 'latitude': 55.9322, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 33.0, 'digital_input2': 0, 'speed': 60.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 60.0, 'uid': '457460032240926_888'}
2011.11.10 13:26:01 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:01 DEBUG: Recieving...
2011.11.10 13:26:01 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132601,E03116.8340,N5831.5260,26,17.278617710583152,109,3,1.1,14600,14470mV,0,0,0,0,0,18,0*0F!\r\n'
2011.11.10 13:26:01 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132601,E03116.8340,N5831.5260,26,17.278617710583152,109,3,1.1,14600,14470mV,0,0,0,0,0,18,0*0F!\r\n']
2011.11.10 13:26:01 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132601,E03116.8340,N5831.5260,26,17.278617710583152,109,3,1.1,14600,14470mV,0,0,0,0,0,18,0*0F!

2011.11.10 13:26:01 DEBUG: Raw match found.
2011.11.10 13:26:01 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 109.0, 'longitude': 31.280566666666665, 'odometer': 18.0, 'satellitescount': 3, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132601,E03116.8340,N5831.5260,26,17.278617710583152,109,3,1.1,14600,14470mV,0,0,0,0,0,18,0*0F!', 'time': '2011-11-10T13:26:01.000000', 'latitude': 58.52543333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 18.0, 'digital_input2': 0, 'speed': 32.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 32.0, 'uid': '657460032240926_888'}
2011.11.10 13:26:01 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18218183517456 seconds\\n","1":"Average query length: 0.0038762092590332 seconds\\n","2":"Queries per second: 257.98400787305\\n","3":"Longest query length: 0.04414701461792\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.030352115631104},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050389766693115},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'375ltk55mtijujr1qs2ju6epp3\')))","Time":0.0006721019744873},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0037379264831543},{"SQL":"select * from obj_info(38910)","Time":0.0007171630859375},{"SQL":"select * from obj_info(38910)","Time":0.00035500526428223},{"SQL":"select * from obj_prop_total(38910)","Time":0.04414701461792},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014290809631348},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00074005126953125},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044107437133789},{"SQL":"select * from obj_info(104)","Time":0.00026488304138184},{"SQL":"select * from f_prop_total(104)","Time":0.01624584197998},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0035719871520996},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021989345550537},{"SQL":"select * from t_options(\'1006667041\')","Time":0.033362150192261},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011029243469238},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.001802921295166},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006260871887207},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058197975158691},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00063681602478027},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026180744171143},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034809112548828},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012891292572021},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018119812011719},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012390613555908},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068998336791992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066804885864258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089097023010254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073480606079102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010218620300293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079607963562012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066018104553223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072407722473145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062203407287598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056219100952148},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:26:00\') as code","Time":0.013401985168457},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408208\')","Time":0.00052595138549805},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044107437133789},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034308433532715},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00054717063903809}]},"timeleft":false}'
2011.11.10 13:26:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:01 DEBUG: Data chunk = b''
2011.11.10 13:26:02 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.35214924812317 seconds\\n","1":"Average query length: 0.00749253719411 seconds\\n","2":"Queries per second: 133.46613758369\\n","3":"Longest query length: 0.050467967987061\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.03104305267334},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0046989917755127},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'m97scb8pi1usq8o7lq9kldlsq6\')))","Time":0.00066685676574707},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0027730464935303},{"SQL":"select * from obj_info(58372)","Time":0.00057601928710938},{"SQL":"select * from obj_info(58372)","Time":0.00033807754516602},{"SQL":"select * from obj_prop_total(58372)","Time":0.050467967987061},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014631748199463},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0007779598236084},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047111511230469},{"SQL":"select * from obj_info(104)","Time":0.00029301643371582},{"SQL":"select * from f_prop_total(104)","Time":0.016687870025635},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0029010772705078},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002485990524292},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034665822982788},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0015730857849121},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.001619815826416},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006258487701416},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00078892707824707},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00066709518432617},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024142265319824},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034618377685547},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015099048614502},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0028481483459473},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016481876373291},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.044095993041992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.023669958114624},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.02421498298645},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069999694824219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.023062944412231},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.024432897567749},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.024291038513184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073695182800293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092506408691406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066709518432617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048017501831055},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047993659973145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046992301940918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046682357788086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046086311340332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046896934509277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046205520629883},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:26:01\') as code","Time":0.015917062759399},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408209\')","Time":0.00054502487182617},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00045609474182129},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035786628723145},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043606758117676}]},"timeleft":false}'
2011.11.10 13:26:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:02 DEBUG: Data chunk = b''
2011.11.10 13:26:07 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:07 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:07 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:07 DEBUG: Recieving...
2011.11.10 13:26:07 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132607,E03752.2560,N5601.7620,172,53.45572354211663,358,5,1.1,14600,14470mV,0,0,0,0,0,414,0*34!\r\n'
2011.11.10 13:26:07 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132607,E03752.2560,N5601.7620,172,53.45572354211663,358,5,1.1,14600,14470mV,0,0,0,0,0,414,0*34!\r\n']
2011.11.10 13:26:07 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132607,E03752.2560,N5601.7620,172,53.45572354211663,358,5,1.1,14600,14470mV,0,0,0,0,0,414,0*34!

2011.11.10 13:26:07 DEBUG: Raw match found.
2011.11.10 13:26:07 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 172.0, 'azimuth': 358.0, 'longitude': 37.87093333333333, 'odometer': 414.0, 'satellitescount': 5, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132607,E03752.2560,N5601.7620,172,53.45572354211663,358,5,1.1,14600,14470mV,0,0,0,0,0,414,0*34!', 'time': '2011-11-10T13:26:07.000000', 'latitude': 56.02936666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 414.0, 'digital_input2': 0, 'speed': 99.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 99.0, 'uid': '557460032240926_888'}
2011.11.10 13:26:08 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.30651116371155 seconds\\n","1":"Average query length: 0.0038798881482474 seconds\\n","2":"Queries per second: 257.73938881504\\n","3":"Longest query length: 0.053148031234741\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.022017955780029},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034730434417725},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'34ah333b97j3o5h39rl724c2t4\')))","Time":0.00081801414489746},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0050220489501953},{"SQL":"select * from obj_info(58369)","Time":0.0009160041809082},{"SQL":"select * from obj_info(58369)","Time":0.00047898292541504},{"SQL":"select * from obj_prop_total(58369)","Time":0.053148031234741},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0013818740844727},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00070810317993164},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044488906860352},{"SQL":"select * from obj_info(104)","Time":0.00028109550476074},{"SQL":"select * from f_prop_total(104)","Time":0.014553070068359},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023791790008545},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020198822021484},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032013893127441},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012960433959961},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011839866638184},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066280364990234},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011148452758789},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0011999607086182},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045850276947021},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00072717666625977},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.030780792236328},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0036840438842773},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.010323047637939},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093913078308105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098109245300293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013329982757568},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081491470336914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009160041809082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095295906066895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080394744873047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080990791320801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011911392211914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086712837219238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072002410888672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067687034606934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000701904296875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069999694824219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084495544433594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070095062255859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006401538848877},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:26:07\') as code","Time":0.01650595664978},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408210\')","Time":0.00070881843566895},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00062394142150879},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00049996376037598},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00063681602478027},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0007929801940918},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408207)","Time":0.00054597854614258},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00038909912109375},{"SQL":"select * from acc_list(58369)","Time":0.0010321140289307},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0022170543670654},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0010330677032471},{"SQL":"select z_has_point(1002846847, 56.02565, 37.8712, null) as state","Time":0.0050079822540283},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00027823448181152},{"SQL":"select z_has_point(171930, 56.02565, 37.8712, null) as state","Time":0.0034921169281006},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00029802322387695},{"SQL":"select z_has_point(1387421, 56.02565, 37.8712, null) as state","Time":0.0021781921386719},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00025510787963867},{"SQL":"select z_has_point(1387486, 56.02565, 37.8712, null) as state","Time":0.002547025680542},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00035905838012695},{"SQL":"select z_has_point(1387485, 56.02565, 37.8712, null) as state","Time":0.002155065536499},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00024700164794922},{"SQL":"select z_has_point(1387499, 56.02565, 37.8712, null) as state","Time":0.0021328926086426},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00026106834411621},{"SQL":"select z_has_point(1387483, 56.02565, 37.8712, null) as state","Time":0.0021328926086426},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00028395652770996},{"SQL":"select z_has_point(1387484, 56.02565, 37.8712, null) as state","Time":0.0022058486938477},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00029397010803223},{"SQL":"select z_has_point(1387619, 56.02565, 37.8712, null) as state","Time":0.0023119449615479},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00023603439331055},{"SQL":"select z_has_point(8710, 56.02565, 37.8712, null) as state","Time":0.002208948135376},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00024890899658203},{"SQL":"select z_has_point(1002827265, 56.02565, 37.8712, null) as state","Time":0.0022609233856201},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00034618377685547},{"SQL":"select z_has_point(37627, 56.02565, 37.8712, null) as state","Time":0.0028610229492188},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00063300132751465},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022037029266357},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:25:51\') as code","Time":0.014445066452026}]},"timeleft":false}'
2011.11.10 13:26:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:08 DEBUG: Data chunk = b''
2011.11.10 13:26:13 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:13 DEBUG: Recieving...
2011.11.10 13:26:13 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132613,E03116.9070,N5831.5150,28,20.518358531317492,106,5,1.1,14600,14470mV,0,0,0,0,0,73,0*0F!\r\n'
2011.11.10 13:26:13 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132613,E03116.9070,N5831.5150,28,20.518358531317492,106,5,1.1,14600,14470mV,0,0,0,0,0,73,0*0F!\r\n']
2011.11.10 13:26:13 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132613,E03116.9070,N5831.5150,28,20.518358531317492,106,5,1.1,14600,14470mV,0,0,0,0,0,73,0*0F!

2011.11.10 13:26:13 DEBUG: Raw match found.
2011.11.10 13:26:13 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 106.0, 'longitude': 31.281783333333333, 'odometer': 73.0, 'satellitescount': 5, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132613,E03116.9070,N5831.5150,28,20.518358531317492,106,5,1.1,14600,14470mV,0,0,0,0,0,73,0*0F!', 'time': '2011-11-10T13:26:13.000000', 'latitude': 58.52525, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 73.0, 'digital_input2': 0, 'speed': 38.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 38.0, 'uid': '657460032240926_888'}
2011.11.10 13:26:14 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.2081139087677 seconds\\n","1":"Average query length: 0.0044279555056957 seconds\\n","2":"Queries per second: 225.83786099785\\n","3":"Longest query length: 0.041149854660034\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.021868944168091},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0033798217773438},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'hcvkq7oee9ebbka8hdu560ibc0\')))","Time":0.00077700614929199},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026159286499023},{"SQL":"select * from obj_info(58372)","Time":0.00060105323791504},{"SQL":"select * from obj_info(58372)","Time":0.00035500526428223},{"SQL":"select * from obj_prop_total(58372)","Time":0.041149854660034},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0013837814331055},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00068092346191406},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047898292541504},{"SQL":"select * from obj_info(104)","Time":0.00030303001403809},{"SQL":"select * from f_prop_total(104)","Time":0.014373064041138},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023560523986816},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020179748535156},{"SQL":"select * from t_options(\'1006667041\')","Time":0.030809879302979},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0010819435119629},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012140274047852},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00060510635375977},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011069774627686},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0014340877532959},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045731067657471},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0008080005645752},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0022590160369873},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0034620761871338},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.024558067321777},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092601776123047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092411041259766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084996223449707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085306167602539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090503692626953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009000301361084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092506408691406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090599060058594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084280967712402},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085997581481934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088906288146973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099301338195801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084900856018066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089406967163086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085592269897461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086092948913574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084090232849121},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:26:13\') as code","Time":0.025304794311523},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408211\')","Time":0.0010221004486084},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00093603134155273},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00075316429138184},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00076913833618164}]},"timeleft":false}'
2011.11.10 13:26:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:14 DEBUG: Data chunk = b''
2011.11.10 13:26:20 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:20 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:20 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:20 DEBUG: Recieving...
2011.11.10 13:26:20 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132620,E03813.6870,N5555.9100,140,34.557235421166304,140,7,1.1,14600,14470mV,0,0,0,0,0,53,0*35!\r\n'
2011.11.10 13:26:20 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132620,E03813.6870,N5555.9100,140,34.557235421166304,140,7,1.1,14600,14470mV,0,0,0,0,0,53,0*35!\r\n']
2011.11.10 13:26:20 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132620,E03813.6870,N5555.9100,140,34.557235421166304,140,7,1.1,14600,14470mV,0,0,0,0,0,53,0*35!

2011.11.10 13:26:20 DEBUG: Raw match found.
2011.11.10 13:26:20 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 140.0, 'azimuth': 140.0, 'longitude': 38.228116666666665, 'odometer': 53.0, 'satellitescount': 7, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132620,E03813.6870,N5555.9100,140,34.557235421166304,140,7,1.1,14600,14470mV,0,0,0,0,0,53,0*35!', 'time': '2011-11-10T13:26:20.000000', 'latitude': 55.93183333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 53.0, 'digital_input2': 0, 'speed': 64.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 64.0, 'uid': '457460032240926_888'}
2011.11.10 13:26:21 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.1830575466156 seconds\\n","1":"Average query length: 0.0038948414173532 seconds\\n","2":"Queries per second: 256.74986291985\\n","3":"Longest query length: 0.045730113983154\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.023754835128784},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050630569458008},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'nsggh2msllgn0ekeeaohen0fp7\')))","Time":0.002039909362793},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0032010078430176},{"SQL":"select * from obj_info(38910)","Time":0.00055599212646484},{"SQL":"select * from obj_info(38910)","Time":0.00028300285339355},{"SQL":"select * from obj_prop_total(38910)","Time":0.045730113983154},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015089511871338},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010080337524414},{"SQL":"select obj_is_deleted(104) as code","Time":0.00059604644775391},{"SQL":"select * from obj_info(104)","Time":0.00029492378234863},{"SQL":"select * from f_prop_total(104)","Time":0.015527963638306},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0031402111053467},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022389888763428},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034498929977417},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0010960102081299},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0012929439544678},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063800811767578},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006110668182373},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00066590309143066},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023889541625977},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00062799453735352},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013148784637451},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0016920566558838},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0087490081787109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060892105102539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055885314941406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055289268493652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055503845214844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005800724029541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056290626525879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056982040405273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082302093505859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057005882263184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008389949798584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056314468383789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055885314941406},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:26:20\') as code","Time":0.012660026550293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408212\')","Time":0.00050997734069824},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00041913986206055},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035715103149414},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0003659725189209}]},"timeleft":false}'
2011.11.10 13:26:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:21 DEBUG: Data chunk = b''
2011.11.10 13:26:24 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:24 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:24 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:24 DEBUG: Recieving...
2011.11.10 13:26:24 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132624,E03752.2430,N5602.0190,172,51.83585313174946,358,9,1.1,14600,14470mV,0,0,0,0,0,478,0*34!\r\n'
2011.11.10 13:26:24 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132624,E03752.2430,N5602.0190,172,51.83585313174946,358,9,1.1,14600,14470mV,0,0,0,0,0,478,0*34!\r\n']
2011.11.10 13:26:24 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132624,E03752.2430,N5602.0190,172,51.83585313174946,358,9,1.1,14600,14470mV,0,0,0,0,0,478,0*34!

2011.11.10 13:26:24 DEBUG: Raw match found.
2011.11.10 13:26:24 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 172.0, 'azimuth': 358.0, 'longitude': 37.87071666666667, 'odometer': 478.0, 'satellitescount': 9, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132624,E03752.2430,N5602.0190,172,51.83585313174946,358,9,1.1,14600,14470mV,0,0,0,0,0,478,0*34!', 'time': '2011-11-10T13:26:24.000000', 'latitude': 56.03365, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 478.0, 'digital_input2': 0, 'speed': 96.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 96.0, 'uid': '557460032240926_888'}
2011.11.10 13:26:25 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.31523585319519 seconds\\n","1":"Average query length: 0.0039903272556353 seconds\\n","2":"Queries per second: 250.60601197252\\n","3":"Longest query length: 0.049124002456665\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.027215003967285},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0054149627685547},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'m2kokbq54unc800dfcn6iu1q22\')))","Time":0.00091910362243652},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0037870407104492},{"SQL":"select * from obj_info(58369)","Time":0.00077319145202637},{"SQL":"select * from obj_info(58369)","Time":0.00039100646972656},{"SQL":"select * from obj_prop_total(58369)","Time":0.049124002456665},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0021431446075439},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0011270046234131},{"SQL":"select obj_is_deleted(104) as code","Time":0.0007321834564209},{"SQL":"select * from obj_info(104)","Time":0.00043106079101562},{"SQL":"select * from f_prop_total(104)","Time":0.021653890609741},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0036771297454834},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0031709671020508},{"SQL":"select * from t_options(\'1006667041\')","Time":0.043800830841064},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011060237884521},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011448860168457},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067687034606934},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.001121997833252},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013480186462402},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044918060302734},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00072097778320312},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021259784698486},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033669471740723},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0019490718841553},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093197822570801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092506408691406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089192390441895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087094306945801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089716911315918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086498260498047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009150505065918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096011161804199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088787078857422},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000885009765625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073814392089844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074315071105957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073003768920898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072598457336426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069594383239746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007178783416748},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:26:24\') as code","Time":0.025074005126953},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408213\')","Time":0.001025915145874},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00098705291748047},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00080108642578125},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00091910362243652},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0010349750518799},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408210)","Time":0.0007178783416748},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0005190372467041},{"SQL":"select * from acc_list(58369)","Time":0.0013191699981689},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0035741329193115},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0012168884277344},{"SQL":"select z_has_point(1002846847, 56.029366666667, 37.870933333333, null) as state","Time":0.0060930252075195},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00053000450134277},{"SQL":"select z_has_point(171930, 56.029366666667, 37.870933333333, null) as state","Time":0.0040931701660156},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00053596496582031},{"SQL":"select z_has_point(1387421, 56.029366666667, 37.870933333333, null) as state","Time":0.0040061473846436},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00049686431884766},{"SQL":"select z_has_point(1387486, 56.029366666667, 37.870933333333, null) as state","Time":0.004065990447998},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00051593780517578},{"SQL":"select z_has_point(1387485, 56.029366666667, 37.870933333333, null) as state","Time":0.0040531158447266},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00051307678222656},{"SQL":"select z_has_point(1387499, 56.029366666667, 37.870933333333, null) as state","Time":0.0041749477386475},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.0004279613494873},{"SQL":"select z_has_point(1387483, 56.029366666667, 37.870933333333, null) as state","Time":0.0026671886444092},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00033402442932129},{"SQL":"select z_has_point(1387484, 56.029366666667, 37.870933333333, null) as state","Time":0.0023770332336426},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00038290023803711},{"SQL":"select z_has_point(1387619, 56.029366666667, 37.870933333333, null) as state","Time":0.0025119781494141},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00035405158996582},{"SQL":"select z_has_point(8710, 56.029366666667, 37.870933333333, null) as state","Time":0.0024089813232422},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00034499168395996},{"SQL":"select z_has_point(1002827265, 56.029366666667, 37.870933333333, null) as state","Time":0.0023338794708252},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00034499168395996},{"SQL":"select z_has_point(37627, 56.029366666667, 37.870933333333, null) as state","Time":0.002357006072998},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00074005126953125},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021878004074097},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:26:07\') as code","Time":0.012974977493286}]},"timeleft":false}'
2011.11.10 13:26:25 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:25 DEBUG: Data chunk = b''
2011.11.10 13:26:31 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:31 DEBUG: Recieving...
2011.11.10 13:26:31 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132631,E03116.9740,N5831.5000,31,27.5377969762419,113,6,1.1,14600,14470mV,0,0,0,0,0,71,0*05!\r\n'
2011.11.10 13:26:31 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132631,E03116.9740,N5831.5000,31,27.5377969762419,113,6,1.1,14600,14470mV,0,0,0,0,0,71,0*05!\r\n']
2011.11.10 13:26:31 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132631,E03116.9740,N5831.5000,31,27.5377969762419,113,6,1.1,14600,14470mV,0,0,0,0,0,71,0*05!

2011.11.10 13:26:31 DEBUG: Raw match found.
2011.11.10 13:26:31 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 31.0, 'azimuth': 113.0, 'longitude': 31.2829, 'odometer': 71.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132631,E03116.9740,N5831.5000,31,27.5377969762419,113,6,1.1,14600,14470mV,0,0,0,0,0,71,0*05!', 'time': '2011-11-10T13:26:31.000000', 'latitude': 58.525, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 71.0, 'digital_input2': 0, 'speed': 51.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 51.0, 'uid': '657460032240926_888'}
2011.11.10 13:26:32 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.24618577957153 seconds\\n","1":"Average query length: 0.0052379953100326 seconds\\n","2":"Queries per second: 190.91273298482\\n","3":"Longest query length: 0.048984050750732\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.028739929199219},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0057199001312256},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'phonh9rbskhkaohtjauo0469e6\')))","Time":0.00068902969360352},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0027639865875244},{"SQL":"select * from obj_info(58372)","Time":0.00075292587280273},{"SQL":"select * from obj_info(58372)","Time":0.00032520294189453},{"SQL":"select * from obj_prop_total(58372)","Time":0.048984050750732},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014870166778564},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0007479190826416},{"SQL":"select obj_is_deleted(104) as code","Time":0.00053596496582031},{"SQL":"select * from obj_info(104)","Time":0.00029301643371582},{"SQL":"select * from f_prop_total(104)","Time":0.01678991317749},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037050247192383},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.003026008605957},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03704309463501},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012760162353516},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0024850368499756},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070500373840332},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006101131439209},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0010359287261963},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0030910968780518},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00043487548828125},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.02128791809082},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020909309387207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.028212070465088},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086307525634766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057101249694824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057315826416016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005791187286377},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010190010070801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061392784118652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008080005645752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058984756469727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057792663574219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062084197998047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058698654174805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:26:31\') as code","Time":0.020315885543823},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408214\')","Time":0.00078582763671875},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00058197975158691},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035309791564941},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00038814544677734}]},"timeleft":false}'
2011.11.10 13:26:32 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:32 DEBUG: Data chunk = b''
2011.11.10 13:26:36 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:36 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:36 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:36 DEBUG: Recieving...
2011.11.10 13:26:36 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132636,E03813.7210,N5555.8880,135,34.557235421166304,138,11,1.1,14600,14470mV,0,0,0,0,0,53,0*05!\r\n'
2011.11.10 13:26:36 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132636,E03813.7210,N5555.8880,135,34.557235421166304,138,11,1.1,14600,14470mV,0,0,0,0,0,53,0*05!\r\n']
2011.11.10 13:26:36 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132636,E03813.7210,N5555.8880,135,34.557235421166304,138,11,1.1,14600,14470mV,0,0,0,0,0,53,0*05!

2011.11.10 13:26:36 DEBUG: Raw match found.
2011.11.10 13:26:36 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 135.0, 'azimuth': 138.0, 'longitude': 38.228683333333336, 'odometer': 53.0, 'satellitescount': 11, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132636,E03813.7210,N5555.8880,135,34.557235421166304,138,11,1.1,14600,14470mV,0,0,0,0,0,53,0*05!', 'time': '2011-11-10T13:26:36.000000', 'latitude': 55.931466666666665, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 53.0, 'digital_input2': 0, 'speed': 64.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 64.0, 'uid': '457460032240926_888'}
2011.11.10 13:26:37 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:37 DEBUG: Recieving...
2011.11.10 13:26:37 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132637,E03752.2170,N5602.4130,173,56.69546436285097,358,1,1.1,14600,14470mV,0,0,0,0,0,731,0*3A!\r\n'
2011.11.10 13:26:37 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132637,E03752.2170,N5602.4130,173,56.69546436285097,358,1,1.1,14600,14470mV,0,0,0,0,0,731,0*3A!\r\n']
2011.11.10 13:26:37 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132637,E03752.2170,N5602.4130,173,56.69546436285097,358,1,1.1,14600,14470mV,0,0,0,0,0,731,0*3A!

2011.11.10 13:26:37 DEBUG: Raw match found.
2011.11.10 13:26:37 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 173.0, 'azimuth': 358.0, 'longitude': 37.87028333333333, 'odometer': 731.0, 'satellitescount': 1, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132637,E03752.2170,N5602.4130,173,56.69546436285097,358,1,1.1,14600,14470mV,0,0,0,0,0,731,0*3A!', 'time': '2011-11-10T13:26:37.000000', 'latitude': 56.040216666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 731.0, 'digital_input2': 0, 'speed': 105.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 105.0, 'uid': '557460032240926_888'}
2011.11.10 13:26:37 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.25972652435303 seconds\\n","1":"Average query length: 0.0055260962628304 seconds\\n","2":"Queries per second: 180.95956936657\\n","3":"Longest query length: 0.051951169967651\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.027709007263184},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0053131580352783},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ul013di49cts5qfn3c82kbqe72\')))","Time":0.0008080005645752},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026528835296631},{"SQL":"select * from obj_info(38910)","Time":0.00060200691223145},{"SQL":"select * from obj_info(38910)","Time":0.00041794776916504},{"SQL":"select * from obj_prop_total(38910)","Time":0.051951169967651},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0020160675048828},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0012049674987793},{"SQL":"select obj_is_deleted(104) as code","Time":0.00055599212646484},{"SQL":"select * from obj_info(104)","Time":0.00048303604125977},{"SQL":"select * from f_prop_total(104)","Time":0.020364999771118},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026059150695801},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022039413452148},{"SQL":"select * from t_options(\'1006667041\')","Time":0.041355133056641},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0010700225830078},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0011920928955078},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00056886672973633},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059199333190918},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013320446014404},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026981830596924},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00036215782165527},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012209415435791},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.001816987991333},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.016597032546997},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016448497772217},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0056219100952148},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0045371055603027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0041470527648926},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014598369598389},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071883201599121},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001046895980835},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071406364440918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020031929016113},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070786476135254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073695182800293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.007026195526123},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080204010009766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0083341598510742},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0086231231689453},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071406364440918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0070209503173828},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:26:36\') as code","Time":0.014235973358154},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408215\')","Time":0.00058698654174805},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00046992301940918},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00036907196044922},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00051093101501465}]},"timeleft":false}'
2011.11.10 13:26:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:37 DEBUG: Data chunk = b''
2011.11.10 13:26:38 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.40123200416565 seconds\\n","1":"Average query length: 0.0050788861286791 seconds\\n","2":"Queries per second: 196.89356576696\\n","3":"Longest query length: 0.043596982955933\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.023382902145386},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0044209957122803},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'k5ilt1f7b153cq8m5ko34te212\')))","Time":0.000701904296875},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025961399078369},{"SQL":"select * from obj_info(58369)","Time":0.00060105323791504},{"SQL":"select * from obj_info(58369)","Time":0.00033307075500488},{"SQL":"select * from obj_prop_total(58369)","Time":0.043569087982178},{"SQL":"select obj_is_deleted(58369) as code","Time":0.001957893371582},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00082516670227051},{"SQL":"select obj_is_deleted(104) as code","Time":0.00055599212646484},{"SQL":"select * from obj_info(104)","Time":0.00034308433532715},{"SQL":"select * from f_prop_total(104)","Time":0.016273021697998},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0064589977264404},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021109580993652},{"SQL":"select * from t_options(\'1006667041\')","Time":0.043596982955933},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011250972747803},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011451244354248},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067305564880371},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0012240409851074},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.001147985458374},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045092105865479},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00068187713623047},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0057990550994873},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0034918785095215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.02831506729126},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.022562980651855},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097298622131348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.035364866256714},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.026859045028687},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.02467679977417},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072693824768066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045204162597656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066399574279785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044393539428711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042200088500977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040888786315918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041890144348145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040411949157715},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040102005004883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049614906311035},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048112869262695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040793418884277},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:26:37\') as code","Time":0.014781951904297},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408216\')","Time":0.00051093101501465},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0005648136138916},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035810470581055},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00048613548278809},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0006868839263916},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408213)","Time":0.00039410591125488},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00041294097900391},{"SQL":"select * from acc_list(58369)","Time":0.00075197219848633},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019431114196777},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00087904930114746},{"SQL":"select z_has_point(1002846847, 56.03365, 37.870716666667, null) as state","Time":0.0032999515533447},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00037312507629395},{"SQL":"select z_has_point(171930, 56.03365, 37.870716666667, null) as state","Time":0.0023410320281982},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0003209114074707},{"SQL":"select z_has_point(1387421, 56.03365, 37.870716666667, null) as state","Time":0.002338171005249},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00032997131347656},{"SQL":"select z_has_point(1387486, 56.03365, 37.870716666667, null) as state","Time":0.002208948135376},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00041794776916504},{"SQL":"select z_has_point(1387485, 56.03365, 37.870716666667, null) as state","Time":0.0020780563354492},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0003361701965332},{"SQL":"select z_has_point(1387499, 56.03365, 37.870716666667, null) as state","Time":0.0021779537200928},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00041389465332031},{"SQL":"select z_has_point(1387483, 56.03365, 37.870716666667, null) as state","Time":0.0022919178009033},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00033092498779297},{"SQL":"select z_has_point(1387484, 56.03365, 37.870716666667, null) as state","Time":0.0021591186523438},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00045204162597656},{"SQL":"select z_has_point(1387619, 56.03365, 37.870716666667, null) as state","Time":0.002406120300293},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00040912628173828},{"SQL":"select z_has_point(8710, 56.03365, 37.870716666667, null) as state","Time":0.0022201538085938},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00032305717468262},{"SQL":"select z_has_point(1002827265, 56.03365, 37.870716666667, null) as state","Time":0.0021541118621826},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00040102005004883},{"SQL":"select z_has_point(37627, 56.03365, 37.870716666667, null) as state","Time":0.002202033996582},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00066494941711426},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021520853042603},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:26:24\') as code","Time":0.01328706741333}]},"timeleft":false}'
2011.11.10 13:26:38 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:38 DEBUG: Data chunk = b''
2011.11.10 13:26:47 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:47 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:47 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:47 DEBUG: Recieving...
2011.11.10 13:26:47 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132647,E03813.7430,N5555.8740,131,33.47732181425486,139,5,1.1,14600,14470mV,0,0,0,0,0,35,0*05!\r\n'
2011.11.10 13:26:47 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132647,E03813.7430,N5555.8740,131,33.47732181425486,139,5,1.1,14600,14470mV,0,0,0,0,0,35,0*05!\r\n']
2011.11.10 13:26:47 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132647,E03813.7430,N5555.8740,131,33.47732181425486,139,5,1.1,14600,14470mV,0,0,0,0,0,35,0*05!

2011.11.10 13:26:47 DEBUG: Raw match found.
2011.11.10 13:26:47 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 131.0, 'azimuth': 139.0, 'longitude': 38.22905, 'odometer': 35.0, 'satellitescount': 5, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132647,E03813.7430,N5555.8740,131,33.47732181425486,139,5,1.1,14600,14470mV,0,0,0,0,0,35,0*05!', 'time': '2011-11-10T13:26:47.000000', 'latitude': 55.93123333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 35.0, 'digital_input2': 0, 'speed': 62.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 62.0, 'uid': '457460032240926_888'}
2011.11.10 13:26:47 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:47 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:47 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:47 DEBUG: Recieving...
2011.11.10 13:26:47 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132647,E03117.0680,N5831.4800,32,27.5377969762419,113,3,1.1,14600,14470mV,0,0,0,0,0,99,0*08!\r\n'
2011.11.10 13:26:47 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132647,E03117.0680,N5831.4800,32,27.5377969762419,113,3,1.1,14600,14470mV,0,0,0,0,0,99,0*08!\r\n']
2011.11.10 13:26:47 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132647,E03117.0680,N5831.4800,32,27.5377969762419,113,3,1.1,14600,14470mV,0,0,0,0,0,99,0*08!

2011.11.10 13:26:47 DEBUG: Raw match found.
2011.11.10 13:26:47 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 32.0, 'azimuth': 113.0, 'longitude': 31.284466666666667, 'odometer': 99.0, 'satellitescount': 3, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132647,E03117.0680,N5831.4800,32,27.5377969762419,113,3,1.1,14600,14470mV,0,0,0,0,0,99,0*08!', 'time': '2011-11-10T13:26:47.000000', 'latitude': 58.52466666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 99.0, 'digital_input2': 0, 'speed': 51.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 51.0, 'uid': '657460032240926_888'}
2011.11.10 13:26:48 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.32439804077148 seconds\\n","1":"Average query length: 0.0069020859738614 seconds\\n","2":"Queries per second: 144.88373569774\\n","3":"Longest query length: 0.091659069061279\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.091659069061279},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.00553297996521},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'r0gf0jft6m2oa6s9drmblga7g2\')))","Time":0.00086808204650879},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0039889812469482},{"SQL":"select * from obj_info(58372)","Time":0.00081110000610352},{"SQL":"select * from obj_info(58372)","Time":0.00042200088500977},{"SQL":"select * from obj_prop_total(58372)","Time":0.073536157608032},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0023159980773926},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0013008117675781},{"SQL":"select obj_is_deleted(104) as code","Time":0.00076794624328613},{"SQL":"select * from obj_info(104)","Time":0.00056004524230957},{"SQL":"select * from f_prop_total(104)","Time":0.026448965072632},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.004040002822876},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0034511089324951},{"SQL":"select * from t_options(\'1006667041\')","Time":0.040463209152222},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011038780212402},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012750625610352},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065803527832031},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00074291229248047},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00099992752075195},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0037798881530762},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00044393539428711},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015561580657959},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0027809143066406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.01594614982605},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00177001953125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078797340393066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062799453735352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076413154602051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068092346191406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075101852416992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073695182800293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063204765319824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068306922912598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007331371307373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065898895263672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065279006958008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073003768920898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090909004211426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068306922912598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066590309143066},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:26:47\') as code","Time":0.023360013961792},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408217\')","Time":0.00070500373840332},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00076484680175781},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00049686431884766},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00059890747070312}]},"timeleft":false}'
2011.11.10 13:26:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:48 DEBUG: Data chunk = b''
2011.11.10 13:26:48 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.26757884025574 seconds\\n","1":"Average query length: 0.0056931668139519 seconds\\n","2":"Queries per second: 175.64916551354\\n","3":"Longest query length: 0.07347297668457\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.047198057174683},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0049409866333008},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'sdg0fldl5i4022gs8f1v2fgn05\')))","Time":0.00076389312744141},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0037710666656494},{"SQL":"select * from obj_info(38910)","Time":0.00083684921264648},{"SQL":"select * from obj_info(38910)","Time":0.00041699409484863},{"SQL":"select * from obj_prop_total(38910)","Time":0.07347297668457},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0024659633636475},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0011460781097412},{"SQL":"select obj_is_deleted(104) as code","Time":0.00077390670776367},{"SQL":"select * from obj_info(104)","Time":0.00049114227294922},{"SQL":"select * from f_prop_total(104)","Time":0.024996042251587},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038199424743652},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0031640529632568},{"SQL":"select * from t_options(\'1006667041\')","Time":0.054660081863403},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0021469593048096},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0024228096008301},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00089001655578613},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0007469654083252},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068998336791992},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0033740997314453},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00045204162597656},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015361309051514},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0026090145111084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.002039909362793},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014050006866455},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093984603881836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014939308166504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084686279296875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084805488586426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069093704223633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055909156799316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053882598876953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057792663574219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011529922485352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005950927734375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052213668823242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049304962158203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052404403686523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046896934509277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040388107299805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043201446533203},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:26:47\') as code","Time":0.013481140136719},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408218\')","Time":0.00062394142150879},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043606758117676},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00033712387084961},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0003819465637207}]},"timeleft":false}'
2011.11.10 13:26:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:48 DEBUG: Data chunk = b''
2011.11.10 13:26:53 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:26:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:26:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:26:53 DEBUG: Recieving...
2011.11.10 13:26:53 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132653,E03752.2570,N5602.5740,170,48.59611231101512,8,3,1.1,14600,14470mV,0,0,0,0,0,301,0*37!\r\n'
2011.11.10 13:26:53 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132653,E03752.2570,N5602.5740,170,48.59611231101512,8,3,1.1,14600,14470mV,0,0,0,0,0,301,0*37!\r\n']
2011.11.10 13:26:53 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132653,E03752.2570,N5602.5740,170,48.59611231101512,8,3,1.1,14600,14470mV,0,0,0,0,0,301,0*37!

2011.11.10 13:26:53 DEBUG: Raw match found.
2011.11.10 13:26:53 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 170.0, 'azimuth': 8.0, 'longitude': 37.87095, 'odometer': 301.0, 'satellitescount': 3, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132653,E03752.2570,N5602.5740,170,48.59611231101512,8,3,1.1,14600,14470mV,0,0,0,0,0,301,0*37!', 'time': '2011-11-10T13:26:53.000000', 'latitude': 56.0429, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 301.0, 'digital_input2': 0, 'speed': 90.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 90.0, 'uid': '557460032240926_888'}
2011.11.10 13:26:54 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.59623742103577 seconds\\n","1":"Average query length: 0.007547309127035 seconds\\n","2":"Queries per second: 132.49755418364\\n","3":"Longest query length: 0.34186482429504\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.34186482429504},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034818649291992},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'n4gfgtpjbagorpb7km0pn5cqf4\')))","Time":0.000640869140625},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0027360916137695},{"SQL":"select * from obj_info(58369)","Time":0.00060009956359863},{"SQL":"select * from obj_info(58369)","Time":0.00030088424682617},{"SQL":"select * from obj_prop_total(58369)","Time":0.056806087493896},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015091896057129},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0010480880737305},{"SQL":"select obj_is_deleted(104) as code","Time":0.00050711631774902},{"SQL":"select * from obj_info(104)","Time":0.00028896331787109},{"SQL":"select * from f_prop_total(104)","Time":0.016186952590942},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024890899658203},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021178722381592},{"SQL":"select * from t_options(\'1006667041\')","Time":0.033259868621826},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011351108551025},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.001230001449585},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00092101097106934},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00075507164001465},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00067806243896484},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026030540466309},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033903121948242},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012829303741455},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020349025726318},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014370918273926},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066089630126953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098991394042969},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082302093505859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006859302520752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098180770874023},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056219100952148},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062012672424316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070095062255859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059294700622559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058889389038086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081992149353027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:26:53\') as code","Time":0.014529943466187},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408219\')","Time":0.0005340576171875},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049901008605957},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035810470581055},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043678283691406},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0005948543548584},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408216)","Time":0.0003960132598877},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0002751350402832},{"SQL":"select * from acc_list(58369)","Time":0.00071883201599121},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0020201206207275},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00080299377441406},{"SQL":"select z_has_point(1002846847, 56.040216666667, 37.870283333333, null) as state","Time":0.0040271282196045},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00037813186645508},{"SQL":"select z_has_point(171930, 56.040216666667, 37.870283333333, null) as state","Time":0.0035030841827393},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00029420852661133},{"SQL":"select z_has_point(1387421, 56.040216666667, 37.870283333333, null) as state","Time":0.0022158622741699},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00026202201843262},{"SQL":"select z_has_point(1387486, 56.040216666667, 37.870283333333, null) as state","Time":0.0021591186523438},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00027179718017578},{"SQL":"select z_has_point(1387485, 56.040216666667, 37.870283333333, null) as state","Time":0.0021328926086426},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00033903121948242},{"SQL":"select z_has_point(1387499, 56.040216666667, 37.870283333333, null) as state","Time":0.0021679401397705},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00026178359985352},{"SQL":"select z_has_point(1387483, 56.040216666667, 37.870283333333, null) as state","Time":0.0023460388183594},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00031590461730957},{"SQL":"select z_has_point(1387484, 56.040216666667, 37.870283333333, null) as state","Time":0.0035369396209717},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00052714347839355},{"SQL":"select z_has_point(1387619, 56.040216666667, 37.870283333333, null) as state","Time":0.0032210350036621},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0002739429473877},{"SQL":"select z_has_point(8710, 56.040216666667, 37.870283333333, null) as state","Time":0.0022709369659424},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00035786628723145},{"SQL":"select z_has_point(1002827265, 56.040216666667, 37.870283333333, null) as state","Time":0.0023610591888428},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(37627, 56.040216666667, 37.870283333333, null) as state","Time":0.0021851062774658},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00061988830566406},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022677183151245},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:26:37\') as code","Time":0.01517391204834}]},"timeleft":false}'
2011.11.10 13:26:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:26:54 DEBUG: Data chunk = b''
2011.11.10 13:27:03 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:03 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:03 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:03 DEBUG: Recieving...
2011.11.10 13:27:03 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132703,E03752.3900,N5602.7390,170,41.036717062634985,24,3,1.1,14600,14470mV,0,0,0,0,0,337,0*39!\r\n'
2011.11.10 13:27:03 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132703,E03752.3900,N5602.7390,170,41.036717062634985,24,3,1.1,14600,14470mV,0,0,0,0,0,337,0*39!\r\n']
2011.11.10 13:27:03 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132703,E03752.3900,N5602.7390,170,41.036717062634985,24,3,1.1,14600,14470mV,0,0,0,0,0,337,0*39!

2011.11.10 13:27:03 DEBUG: Raw match found.
2011.11.10 13:27:03 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 170.0, 'azimuth': 24.0, 'longitude': 37.87316666666667, 'odometer': 337.0, 'satellitescount': 3, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132703,E03752.3900,N5602.7390,170,41.036717062634985,24,3,1.1,14600,14470mV,0,0,0,0,0,337,0*39!', 'time': '2011-11-10T13:27:03.000000', 'latitude': 56.04565, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 337.0, 'digital_input2': 0, 'speed': 76.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 76.0, 'uid': '557460032240926_888'}
2011.11.10 13:27:04 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.25681924819946 seconds\\n","1":"Average query length: 0.0032508765594869 seconds\\n","2":"Queries per second: 307.60934218857\\n","3":"Longest query length: 0.042768001556396\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.027151107788086},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0055701732635498},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'jiquqn4q8uhbfk46qm2k0870c7\')))","Time":0.00066399574279785},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0037589073181152},{"SQL":"select * from obj_info(58369)","Time":0.00062894821166992},{"SQL":"select * from obj_info(58369)","Time":0.00029993057250977},{"SQL":"select * from obj_prop_total(58369)","Time":0.042768001556396},{"SQL":"select obj_is_deleted(58369) as code","Time":0.001471996307373},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00099706649780273},{"SQL":"select obj_is_deleted(104) as code","Time":0.00065088272094727},{"SQL":"select * from obj_info(104)","Time":0.00033283233642578},{"SQL":"select * from f_prop_total(104)","Time":0.015784025192261},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0032448768615723},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0024070739746094},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034506797790527},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0015981197357178},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.00189208984375},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00091004371643066},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065398216247559},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00066113471984863},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027518272399902},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034499168395996},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012137889862061},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.002039909362793},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013048648834229},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010569095611572},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010569095611572},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068092346191406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005950927734375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058794021606445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064301490783691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005500316619873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054287910461426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052094459533691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050091743469238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069904327392578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00037789344787598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045990943908691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045990943908691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046896934509277},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:27:03\') as code","Time":0.016765117645264},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408220\')","Time":0.00054287910461426},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044488906860352},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034999847412109},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00045585632324219},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00055289268493652},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408219)","Time":0.00040483474731445},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00025010108947754},{"SQL":"select * from acc_list(58369)","Time":0.00069093704223633},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0018420219421387},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00073695182800293},{"SQL":"select z_has_point(1002846847, 56.0429, 37.87095, null) as state","Time":0.0034091472625732},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00027203559875488},{"SQL":"select z_has_point(171930, 56.0429, 37.87095, null) as state","Time":0.0023529529571533},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00026512145996094},{"SQL":"select z_has_point(1387421, 56.0429, 37.87095, null) as state","Time":0.002875804901123},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00024509429931641},{"SQL":"select z_has_point(1387486, 56.0429, 37.87095, null) as state","Time":0.0021371841430664},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026893615722656},{"SQL":"select z_has_point(1387485, 56.0429, 37.87095, null) as state","Time":0.0022988319396973},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00046300888061523},{"SQL":"select z_has_point(1387499, 56.0429, 37.87095, null) as state","Time":0.0027439594268799},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00032997131347656},{"SQL":"select z_has_point(1387483, 56.0429, 37.87095, null) as state","Time":0.0022130012512207},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.0002598762512207},{"SQL":"select z_has_point(1387484, 56.0429, 37.87095, null) as state","Time":0.0021810531616211},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00028610229492188},{"SQL":"select z_has_point(1387619, 56.0429, 37.87095, null) as state","Time":0.0026838779449463},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00031805038452148},{"SQL":"select z_has_point(8710, 56.0429, 37.87095, null) as state","Time":0.002255916595459},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00025796890258789},{"SQL":"select z_has_point(1002827265, 56.0429, 37.87095, null) as state","Time":0.0023360252380371},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00025796890258789},{"SQL":"select z_has_point(37627, 56.0429, 37.87095, null) as state","Time":0.0021800994873047},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00063705444335938},{"SQL":"select * from notif_get_by_object(58369)","Time":0.023250102996826},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:26:53\') as code","Time":0.013018131256104}]},"timeleft":false}'
2011.11.10 13:27:04 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:04 DEBUG: Data chunk = b''
2011.11.10 13:27:05 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:05 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:05 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:05 DEBUG: Recieving...
2011.11.10 13:27:05 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132705,E03813.8210,N5555.8240,135,34.01727861771058,139,3,1.1,14600,14470mV,0,0,0,0,0,123,0*3B!\r\n'
2011.11.10 13:27:05 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132705,E03813.8210,N5555.8240,135,34.01727861771058,139,3,1.1,14600,14470mV,0,0,0,0,0,123,0*3B!\r\n']
2011.11.10 13:27:05 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132705,E03813.8210,N5555.8240,135,34.01727861771058,139,3,1.1,14600,14470mV,0,0,0,0,0,123,0*3B!

2011.11.10 13:27:05 DEBUG: Raw match found.
2011.11.10 13:27:05 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 135.0, 'azimuth': 139.0, 'longitude': 38.23035, 'odometer': 123.0, 'satellitescount': 3, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132705,E03813.8210,N5555.8240,135,34.01727861771058,139,3,1.1,14600,14470mV,0,0,0,0,0,123,0*3B!', 'time': '2011-11-10T13:27:05.000000', 'latitude': 55.9304, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 123.0, 'digital_input2': 0, 'speed': 63.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 63.0, 'uid': '457460032240926_888'}
2011.11.10 13:27:05 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:05 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:05 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:05 DEBUG: Recieving...
2011.11.10 13:27:05 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132705,E03117.1660,N5831.4580,30,24.838012958963283,113,5,1.1,14600,14470mV,0,0,0,0,0,103,0*3E!\r\n'
2011.11.10 13:27:05 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132705,E03117.1660,N5831.4580,30,24.838012958963283,113,5,1.1,14600,14470mV,0,0,0,0,0,103,0*3E!\r\n']
2011.11.10 13:27:05 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132705,E03117.1660,N5831.4580,30,24.838012958963283,113,5,1.1,14600,14470mV,0,0,0,0,0,103,0*3E!

2011.11.10 13:27:05 DEBUG: Raw match found.
2011.11.10 13:27:05 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 30.0, 'azimuth': 113.0, 'longitude': 31.2861, 'odometer': 103.0, 'satellitescount': 5, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132705,E03117.1660,N5831.4580,30,24.838012958963283,113,5,1.1,14600,14470mV,0,0,0,0,0,103,0*3E!', 'time': '2011-11-10T13:27:05.000000', 'latitude': 58.5243, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 103.0, 'digital_input2': 0, 'speed': 46.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 46.0, 'uid': '657460032240926_888'}
2011.11.10 13:27:06 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19114232063293 seconds\\n","1":"Average query length: 0.0040668578858071 seconds\\n","2":"Queries per second: 245.89007732232\\n","3":"Longest query length: 0.040864944458008\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.021162033081055},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034370422363281},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1tbdrk3hcbjbmc7c7fr0n5pqi4\')))","Time":0.00066304206848145},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0034830570220947},{"SQL":"select * from obj_info(38910)","Time":0.00056219100952148},{"SQL":"select * from obj_info(38910)","Time":0.00030708312988281},{"SQL":"select * from obj_prop_total(38910)","Time":0.039922952651978},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015199184417725},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00081181526184082},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005948543548584},{"SQL":"select * from obj_info(104)","Time":0.00028800964355469},{"SQL":"select * from f_prop_total(104)","Time":0.016577959060669},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025758743286133},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021679401397705},{"SQL":"select * from t_options(\'1006667041\')","Time":0.040864944458008},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0010859966278076},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0012609958648682},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059914588928223},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011019706726074},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00130295753479},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0047860145568848},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00078797340393066},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.002187967300415},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0032529830932617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017859935760498},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090312957763672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008549690246582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086808204650879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092411041259766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092315673828125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087714195251465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092506408691406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088095664978027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088191032409668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088596343994141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000885009765625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094699859619141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086212158203125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074005126953125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072288513183594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070905685424805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074505805969238},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:27:05\') as code","Time":0.02130913734436},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408221\')","Time":0.0006248950958252},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00053596496582031},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00051498413085938},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00053095817565918}]},"timeleft":false}'
2011.11.10 13:27:06 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:06 DEBUG: Data chunk = b''
2011.11.10 13:27:06 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21145868301392 seconds\\n","1":"Average query length: 0.0044991209151897 seconds\\n","2":"Queries per second: 222.2656423\\n","3":"Longest query length: 0.054342985153198\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.02712607383728},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0053400993347168},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'4edgovrk1msv38sq4csg2ipk73\')))","Time":0.00094223022460938},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026009082794189},{"SQL":"select * from obj_info(58372)","Time":0.00061202049255371},{"SQL":"select * from obj_info(58372)","Time":0.0003509521484375},{"SQL":"select * from obj_prop_total(58372)","Time":0.054342985153198},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014879703521729},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00069904327392578},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044703483581543},{"SQL":"select * from obj_info(104)","Time":0.00028109550476074},{"SQL":"select * from f_prop_total(104)","Time":0.019554138183594},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0028870105743408},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020349025726318},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031331062316895},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0010280609130859},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0011749267578125},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00055599212646484},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010299682617188},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0011570453643799},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.004525899887085},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00068306922912598},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020990371704102},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0031750202178955},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0019819736480713},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090909004211426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088095664978027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087285041809082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084209442138672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085997581481934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081801414489746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009150505065918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085091590881348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011711120605469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010349750518799},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083804130554199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098800659179688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086712837219238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009608268737793},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072288513183594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072002410888672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007011890411377},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:27:05\') as code","Time":0.025154113769531},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408222\')","Time":0.0013060569763184},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00085806846618652},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00094985961914062},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00078892707824707}]},"timeleft":false}'
2011.11.10 13:27:06 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:06 DEBUG: Data chunk = b''
2011.11.10 13:27:18 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:18 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:18 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:18 DEBUG: Recieving...
2011.11.10 13:27:18 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132718,E03752.5200,N5602.8930,173,43.7365010799136,25,2,1.1,14600,14470mV,0,0,0,0,0,315,0*30!\r\n'
2011.11.10 13:27:18 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132718,E03752.5200,N5602.8930,173,43.7365010799136,25,2,1.1,14600,14470mV,0,0,0,0,0,315,0*30!\r\n']
2011.11.10 13:27:18 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132718,E03752.5200,N5602.8930,173,43.7365010799136,25,2,1.1,14600,14470mV,0,0,0,0,0,315,0*30!

2011.11.10 13:27:18 DEBUG: Raw match found.
2011.11.10 13:27:18 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 173.0, 'azimuth': 25.0, 'longitude': 37.87533333333333, 'odometer': 315.0, 'satellitescount': 2, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132718,E03752.5200,N5602.8930,173,43.7365010799136,25,2,1.1,14600,14470mV,0,0,0,0,0,315,0*30!', 'time': '2011-11-10T13:27:18.000000', 'latitude': 56.04821666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 315.0, 'digital_input2': 0, 'speed': 81.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 81.0, 'uid': '557460032240926_888'}
2011.11.10 13:27:19 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.26779937744141 seconds\\n","1":"Average query length: 0.003389865537233 seconds\\n","2":"Queries per second: 294.9969516538\\n","3":"Longest query length: 0.040446996688843\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.021637916564941},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034010410308838},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'d97tn5a8lklulk1lkljtj5m205\')))","Time":0.00085282325744629},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025830268859863},{"SQL":"select * from obj_info(58369)","Time":0.00058484077453613},{"SQL":"select * from obj_info(58369)","Time":0.00032901763916016},{"SQL":"select * from obj_prop_total(58369)","Time":0.040446996688843},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015060901641846},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00073695182800293},{"SQL":"select obj_is_deleted(104) as code","Time":0.00048995018005371},{"SQL":"select * from obj_info(104)","Time":0.00029611587524414},{"SQL":"select * from f_prop_total(104)","Time":0.014401197433472},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025410652160645},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020790100097656},{"SQL":"select * from t_options(\'1006667041\')","Time":0.030709981918335},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011069774627686},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011231899261475},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00069689750671387},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011770725250244},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012099742889404},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0043709278106689},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.002025842666626},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033049583435059},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014832019805908},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010240077972412},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010318756103516},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089311599731445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009009838104248},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086688995361328},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088810920715332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086498260498047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084996223449707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086116790771484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092911720275879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088596343994141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087714195251465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087618827819824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007171630859375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007011890411377},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073003768920898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073695182800293},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:27:18\') as code","Time":0.023168802261353},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408223\')","Time":0.00060796737670898},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0005180835723877},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00048112869262695},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00046300888061523},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00076389312744141},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408220)","Time":0.00057315826416016},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00028514862060547},{"SQL":"select * from acc_list(58369)","Time":0.00072884559631348},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0031328201293945},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00096893310546875},{"SQL":"select z_has_point(1002846847, 56.04565, 37.873166666667, null) as state","Time":0.0035738945007324},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00040102005004883},{"SQL":"select z_has_point(171930, 56.04565, 37.873166666667, null) as state","Time":0.00235915184021},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00048685073852539},{"SQL":"select z_has_point(1387421, 56.04565, 37.873166666667, null) as state","Time":0.0021700859069824},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00033116340637207},{"SQL":"select z_has_point(1387486, 56.04565, 37.873166666667, null) as state","Time":0.0023429393768311},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00033998489379883},{"SQL":"select z_has_point(1387485, 56.04565, 37.873166666667, null) as state","Time":0.0023338794708252},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0003359317779541},{"SQL":"select z_has_point(1387499, 56.04565, 37.873166666667, null) as state","Time":0.0021660327911377},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00041604042053223},{"SQL":"select z_has_point(1387483, 56.04565, 37.873166666667, null) as state","Time":0.0020821094512939},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00041103363037109},{"SQL":"select z_has_point(1387484, 56.04565, 37.873166666667, null) as state","Time":0.0022239685058594},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00048184394836426},{"SQL":"select z_has_point(1387619, 56.04565, 37.873166666667, null) as state","Time":0.0023539066314697},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00041508674621582},{"SQL":"select z_has_point(8710, 56.04565, 37.873166666667, null) as state","Time":0.0021898746490479},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00041413307189941},{"SQL":"select z_has_point(1002827265, 56.04565, 37.873166666667, null) as state","Time":0.0021939277648926},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00041699409484863},{"SQL":"select z_has_point(37627, 56.04565, 37.873166666667, null) as state","Time":0.0022010803222656},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00066900253295898},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021852970123291},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:27:03\') as code","Time":0.013129949569702}]},"timeleft":false}'
2011.11.10 13:27:19 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:19 DEBUG: Data chunk = b''
2011.11.10 13:27:20 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:20 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:20 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:20 DEBUG: Recieving...
2011.11.10 13:27:20 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132720,E03813.8670,N5555.7970,139,34.01727861771058,137,2,1.1,14600,14470mV,0,0,0,0,0,70,0*0D!\r\n'
2011.11.10 13:27:20 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132720,E03813.8670,N5555.7970,139,34.01727861771058,137,2,1.1,14600,14470mV,0,0,0,0,0,70,0*0D!\r\n']
2011.11.10 13:27:20 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132720,E03813.8670,N5555.7970,139,34.01727861771058,137,2,1.1,14600,14470mV,0,0,0,0,0,70,0*0D!

2011.11.10 13:27:20 DEBUG: Raw match found.
2011.11.10 13:27:20 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 139.0, 'azimuth': 137.0, 'longitude': 38.231116666666665, 'odometer': 70.0, 'satellitescount': 2, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132720,E03813.8670,N5555.7970,139,34.01727861771058,137,2,1.1,14600,14470mV,0,0,0,0,0,70,0*0D!', 'time': '2011-11-10T13:27:20.000000', 'latitude': 55.92995, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 70.0, 'digital_input2': 0, 'speed': 63.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 63.0, 'uid': '457460032240926_888'}
2011.11.10 13:27:21 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:21 DEBUG: Recieving...
2011.11.10 13:27:21 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132721,E03117.2370,N5831.4400,28,24.29805615550756,115,10,1.1,14600,14470mV,0,0,0,0,0,76,0*0F!\r\n'
2011.11.10 13:27:21 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132721,E03117.2370,N5831.4400,28,24.29805615550756,115,10,1.1,14600,14470mV,0,0,0,0,0,76,0*0F!\r\n']
2011.11.10 13:27:21 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132721,E03117.2370,N5831.4400,28,24.29805615550756,115,10,1.1,14600,14470mV,0,0,0,0,0,76,0*0F!

2011.11.10 13:27:21 DEBUG: Raw match found.
2011.11.10 13:27:21 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 115.0, 'longitude': 31.287283333333335, 'odometer': 76.0, 'satellitescount': 10, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132721,E03117.2370,N5831.4400,28,24.29805615550756,115,10,1.1,14600,14470mV,0,0,0,0,0,76,0*0F!', 'time': '2011-11-10T13:27:21.000000', 'latitude': 58.524, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 76.0, 'digital_input2': 0, 'speed': 45.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 45.0, 'uid': '657460032240926_888'}
2011.11.10 13:27:21 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17262744903564 seconds\\n","1":"Average query length: 0.0036729244475669 seconds\\n","2":"Queries per second: 272.26261097269\\n","3":"Longest query length: 0.039160966873169\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.021260976791382},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034351348876953},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'uatbmq7k4evu63fq9u980rhdk1\')))","Time":0.00056314468383789},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025389194488525},{"SQL":"select * from obj_info(38910)","Time":0.0005338191986084},{"SQL":"select * from obj_info(38910)","Time":0.00031685829162598},{"SQL":"select * from obj_prop_total(38910)","Time":0.039160966873169},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0013659000396729},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00065398216247559},{"SQL":"select obj_is_deleted(104) as code","Time":0.00043702125549316},{"SQL":"select * from obj_info(104)","Time":0.00033187866210938},{"SQL":"select * from f_prop_total(104)","Time":0.014578104019165},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024688243865967},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019688606262207},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031355142593384},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0010850429534912},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0012819766998291},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058507919311523},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010910034179688},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012900829315186},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0043611526489258},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00065183639526367},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018241405487061},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0027091503143311},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017690658569336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014030933380127},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081586837768555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076603889465332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079178810119629},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075602531433105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086593627929688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084400177001953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084996223449707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073719024658203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076508522033691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081205368041992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078701972961426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008080005645752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082802772521973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067400932312012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006568431854248},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072503089904785},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:27:20\') as code","Time":0.018280982971191},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408224\')","Time":0.00085210800170898},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00075316429138184},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00057816505432129},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00065898895263672}]},"timeleft":false}'
2011.11.10 13:27:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:21 DEBUG: Data chunk = b''
2011.11.10 13:27:22 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18486285209656 seconds\\n","1":"Average query length: 0.0039332521722672 seconds\\n","2":"Queries per second: 254.2425342191\\n","3":"Longest query length: 0.042922973632812\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.021889925003052},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034499168395996},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'12asvo51jskft9p43ib8jhm3l7\')))","Time":0.0007178783416748},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0027320384979248},{"SQL":"select * from obj_info(58372)","Time":0.00057196617126465},{"SQL":"select * from obj_info(58372)","Time":0.00031805038452148},{"SQL":"select * from obj_prop_total(58372)","Time":0.042922973632812},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014410018920898},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00069689750671387},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044703483581543},{"SQL":"select * from obj_info(104)","Time":0.00027704238891602},{"SQL":"select * from f_prop_total(104)","Time":0.014272928237915},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023229122161865},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019001960754395},{"SQL":"select * from t_options(\'1006667041\')","Time":0.030932903289795},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.001011848449707},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0011651515960693},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00055503845214844},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010337829589844},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012168884277344},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044090747833252},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00072383880615234},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021030902862549},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033481121063232},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020031929016113},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089597702026367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085806846618652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010850429534912},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085687637329102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082898139953613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096011161804199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010049343109131},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012907981872559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089216232299805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084900856018066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086498260498047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087881088256836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087213516235352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086212158203125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008549690246582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082302093505859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091099739074707},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:27:21\') as code","Time":0.024363040924072},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408225\')","Time":0.00071215629577637},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00065493583679199},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00046706199645996},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00061297416687012}]},"timeleft":false}'
2011.11.10 13:27:22 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:22 DEBUG: Data chunk = b''
2011.11.10 13:27:32 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:32 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:32 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:32 DEBUG: Recieving...
2011.11.10 13:27:32 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132732,E03813.8790,N5555.7920,139,30.77753779697624,128,2,1.1,14600,14470mV,0,0,0,0,0,16,0*0E!\r\n'
2011.11.10 13:27:32 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132732,E03813.8790,N5555.7920,139,30.77753779697624,128,2,1.1,14600,14470mV,0,0,0,0,0,16,0*0E!\r\n']
2011.11.10 13:27:32 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132732,E03813.8790,N5555.7920,139,30.77753779697624,128,2,1.1,14600,14470mV,0,0,0,0,0,16,0*0E!

2011.11.10 13:27:32 DEBUG: Raw match found.
2011.11.10 13:27:32 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 139.0, 'azimuth': 128.0, 'longitude': 38.231316666666665, 'odometer': 16.0, 'satellitescount': 2, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132732,E03813.8790,N5555.7920,139,30.77753779697624,128,2,1.1,14600,14470mV,0,0,0,0,0,16,0*0E!', 'time': '2011-11-10T13:27:32.000000', 'latitude': 55.92986666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 16.0, 'digital_input2': 0, 'speed': 57.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 57.0, 'uid': '457460032240926_888'}
2011.11.10 13:27:33 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:33 DEBUG: Recieving...
2011.11.10 13:27:33 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132733,E03117.2530,N5831.4370,27,11.339092872570195,113,12,1.1,14600,14470mV,0,0,0,0,0,17,0*34!\r\n'
2011.11.10 13:27:33 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132733,E03117.2530,N5831.4370,27,11.339092872570195,113,12,1.1,14600,14470mV,0,0,0,0,0,17,0*34!\r\n']
2011.11.10 13:27:33 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132733,E03117.2530,N5831.4370,27,11.339092872570195,113,12,1.1,14600,14470mV,0,0,0,0,0,17,0*34!

2011.11.10 13:27:33 DEBUG: Raw match found.
2011.11.10 13:27:33 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 27.0, 'azimuth': 113.0, 'longitude': 31.28755, 'odometer': 17.0, 'satellitescount': 12, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132733,E03117.2530,N5831.4370,27,11.339092872570195,113,12,1.1,14600,14470mV,0,0,0,0,0,17,0*34!', 'time': '2011-11-10T13:27:33.000000', 'latitude': 58.52395, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 17.0, 'digital_input2': 0, 'speed': 21.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 21.0, 'uid': '657460032240926_888'}
2011.11.10 13:27:33 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18787360191345 seconds\\n","1":"Average query length: 0.0039973106790096 seconds\\n","2":"Queries per second: 250.16819564492\\n","3":"Longest query length: 0.044779062271118\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.028802871704102},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050749778747559},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'mu9m4u59es7gne9lnbeq37u923\')))","Time":0.0010409355163574},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0027990341186523},{"SQL":"select * from obj_info(38910)","Time":0.00055098533630371},{"SQL":"select * from obj_info(38910)","Time":0.00026297569274902},{"SQL":"select * from obj_prop_total(38910)","Time":0.044779062271118},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0022621154785156},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00077700614929199},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045490264892578},{"SQL":"select * from obj_info(104)","Time":0.00027704238891602},{"SQL":"select * from f_prop_total(104)","Time":0.014974117279053},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025207996368408},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022711753845215},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03549599647522},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011768341064453},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0012941360473633},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064706802368164},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058197975158691},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00089097023010254},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025241374969482},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034499168395996},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011889934539795},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020370483398438},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0072569847106934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066089630126953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092601776123047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074100494384766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065302848815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009620189666748},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077414512634277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061511993408203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059294700622559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071120262145996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063204765319824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098896026611328},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006411075592041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009000301361084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059986114501953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060319900512695},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:27:32\') as code","Time":0.013565063476562},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408226\')","Time":0.00051593780517578},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00054407119750977},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00036096572875977},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040793418884277}]},"timeleft":false}'
2011.11.10 13:27:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:33 DEBUG: Data chunk = b''
2011.11.10 13:27:34 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:34 DEBUG: Recieving...
2011.11.10 13:27:34 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132734,E03752.6450,N5602.9990,167,32.937365010799134,33,8,1.1,14600,14470mV,0,0,0,0,0,235,0*30!\r\n'
2011.11.10 13:27:34 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132734,E03752.6450,N5602.9990,167,32.937365010799134,33,8,1.1,14600,14470mV,0,0,0,0,0,235,0*30!\r\n']
2011.11.10 13:27:34 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132734,E03752.6450,N5602.9990,167,32.937365010799134,33,8,1.1,14600,14470mV,0,0,0,0,0,235,0*30!

2011.11.10 13:27:34 DEBUG: Raw match found.
2011.11.10 13:27:34 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 167.0, 'azimuth': 33.0, 'longitude': 37.87741666666667, 'odometer': 235.0, 'satellitescount': 8, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132734,E03752.6450,N5602.9990,167,32.937365010799134,33,8,1.1,14600,14470mV,0,0,0,0,0,235,0*30!', 'time': '2011-11-10T13:27:34.000000', 'latitude': 56.04998333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 235.0, 'digital_input2': 0, 'speed': 61.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 61.0, 'uid': '557460032240926_888'}
2011.11.10 13:27:34 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.24407887458801 seconds\\n","1":"Average query length: 0.0051931675444258 seconds\\n","2":"Queries per second: 192.56070431877\\n","3":"Longest query length: 0.052050828933716\\n","4":"Longest query: \\nselect obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:27:33\') as code\\n","Queries":[{"SQL":"connect","Time":0.02790904045105},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0048580169677734},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'m63aet5fdeopicl1ee69m91u21\')))","Time":0.00064206123352051},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0030479431152344},{"SQL":"select * from obj_info(58372)","Time":0.0009148120880127},{"SQL":"select * from obj_info(58372)","Time":0.00048995018005371},{"SQL":"select * from obj_prop_total(58372)","Time":0.051748991012573},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014429092407227},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0007789134979248},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044703483581543},{"SQL":"select * from obj_info(104)","Time":0.00026392936706543},{"SQL":"select * from f_prop_total(104)","Time":0.016464948654175},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0027890205383301},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022299289703369},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037848949432373},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0017118453979492},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0015480518341064},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006721019744873},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00073385238647461},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00079989433288574},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0030708312988281},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00044608116149902},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.013806104660034},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.002129077911377},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010550022125244},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070095062255859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012340545654297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008091926574707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006248950958252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061583518981934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010659694671631},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093793869018555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056815147399902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069499015808105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006098747253418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068497657775879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005640983581543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056695938110352},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:27:33\') as code","Time":0.052050828933716},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408227\')","Time":0.00055980682373047},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00047707557678223},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00040006637573242},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00053811073303223}]},"timeleft":false}'
2011.11.10 13:27:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:34 DEBUG: Data chunk = b''
2011.11.10 13:27:35 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.28977251052856 seconds\\n","1":"Average query length: 0.0036680064623869 seconds\\n","2":"Queries per second: 272.62765490039\\n","3":"Longest query length: 0.057782888412476\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.027626991271973},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0054690837860107},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'3v6m11nh55b2j73dmcpv4cmdh6\')))","Time":0.00085687637329102},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0027139186859131},{"SQL":"select * from obj_info(58369)","Time":0.00056695938110352},{"SQL":"select * from obj_info(58369)","Time":0.00028491020202637},{"SQL":"select * from obj_prop_total(58369)","Time":0.057782888412476},{"SQL":"select obj_is_deleted(58369) as code","Time":0.001507043838501},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00076103210449219},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005040168762207},{"SQL":"select * from obj_info(104)","Time":0.00029277801513672},{"SQL":"select * from f_prop_total(104)","Time":0.015311002731323},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0031249523162842},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022821426391602},{"SQL":"select * from t_options(\'1006667041\')","Time":0.041783809661865},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011570453643799},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0014359951019287},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00072097778320312},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00075697898864746},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068497657775879},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0033910274505615},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00052309036254883},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013880729675293},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017280578613281},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012660026550293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074386596679688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077390670776367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066018104553223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060009956359863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063610076904297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067710876464844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060582160949707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084400177001953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063395500183105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077986717224121},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077414512634277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078487396240234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057005882263184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068283081054688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046277046203613},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:27:34\') as code","Time":0.017781972885132},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408228\')","Time":0.00059700012207031},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044798851013184},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034785270690918},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043988227844238},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00062990188598633},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408223)","Time":0.00040888786315918},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00029397010803223},{"SQL":"select * from acc_list(58369)","Time":0.00074505805969238},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0020439624786377},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0012040138244629},{"SQL":"select z_has_point(1002846847, 56.048216666667, 37.875333333333, null) as state","Time":0.0052201747894287},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00032401084899902},{"SQL":"select z_has_point(171930, 56.048216666667, 37.875333333333, null) as state","Time":0.0023529529571533},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00027585029602051},{"SQL":"select z_has_point(1387421, 56.048216666667, 37.875333333333, null) as state","Time":0.0024368762969971},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00026488304138184},{"SQL":"select z_has_point(1387486, 56.048216666667, 37.875333333333, null) as state","Time":0.0026280879974365},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00033903121948242},{"SQL":"select z_has_point(1387485, 56.048216666667, 37.875333333333, null) as state","Time":0.0022120475769043},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0003199577331543},{"SQL":"select z_has_point(1387499, 56.048216666667, 37.875333333333, null) as state","Time":0.002194881439209},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00030303001403809},{"SQL":"select z_has_point(1387483, 56.048216666667, 37.875333333333, null) as state","Time":0.0021500587463379},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00028800964355469},{"SQL":"select z_has_point(1387484, 56.048216666667, 37.875333333333, null) as state","Time":0.0023109912872314},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00031399726867676},{"SQL":"select z_has_point(1387619, 56.048216666667, 37.875333333333, null) as state","Time":0.0023808479309082},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00026512145996094},{"SQL":"select z_has_point(8710, 56.048216666667, 37.875333333333, null) as state","Time":0.0024960041046143},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00026702880859375},{"SQL":"select z_has_point(1002827265, 56.048216666667, 37.875333333333, null) as state","Time":0.0022690296173096},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00026202201843262},{"SQL":"select z_has_point(37627, 56.048216666667, 37.875333333333, null) as state","Time":0.0022399425506592},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00078010559082031},{"SQL":"select * from notif_get_by_object(58369)","Time":0.025913000106812},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:27:18\') as code","Time":0.018731832504272}]},"timeleft":false}'
2011.11.10 13:27:35 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:35 DEBUG: Data chunk = b''
2011.11.10 13:27:42 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:42 DEBUG: Recieving...
2011.11.10 13:27:42 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132742,E03813.9230,N5555.7810,137,32.39740820734341,114,6,1.1,14600,14470mV,0,0,0,0,0,50,0*05!\r\n'
2011.11.10 13:27:42 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132742,E03813.9230,N5555.7810,137,32.39740820734341,114,6,1.1,14600,14470mV,0,0,0,0,0,50,0*05!\r\n']
2011.11.10 13:27:42 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132742,E03813.9230,N5555.7810,137,32.39740820734341,114,6,1.1,14600,14470mV,0,0,0,0,0,50,0*05!

2011.11.10 13:27:42 DEBUG: Raw match found.
2011.11.10 13:27:42 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 137.0, 'azimuth': 114.0, 'longitude': 38.23205, 'odometer': 50.0, 'satellitescount': 6, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132742,E03813.9230,N5555.7810,137,32.39740820734341,114,6,1.1,14600,14470mV,0,0,0,0,0,50,0*05!', 'time': '2011-11-10T13:27:42.000000', 'latitude': 55.92968333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 50.0, 'digital_input2': 0, 'speed': 60.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 60.0, 'uid': '457460032240926_888'}
2011.11.10 13:27:43 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18084025382996 seconds\\n","1":"Average query length: 0.0038476649751054 seconds\\n","2":"Queries per second: 259.89788780209\\n","3":"Longest query length: 0.044126987457275\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.02758002281189},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0043389797210693},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'krc31ffi5q90ldecm4b0vqbho4\')))","Time":0.00064921379089355},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0031318664550781},{"SQL":"select * from obj_info(38910)","Time":0.00052809715270996},{"SQL":"select * from obj_info(38910)","Time":0.0002598762512207},{"SQL":"select * from obj_prop_total(38910)","Time":0.044126987457275},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014281272888184},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00072193145751953},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046086311340332},{"SQL":"select * from obj_info(104)","Time":0.00031399726867676},{"SQL":"select * from f_prop_total(104)","Time":0.015848875045776},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025780200958252},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0028419494628906},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038177967071533},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011639595031738},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0015339851379395},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063014030456543},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058794021606445},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006709098815918},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002432107925415},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040984153747559},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001331090927124},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020601749420166},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012328624725342},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049114227294922},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004580020904541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047898292541504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004730224609375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063014030456543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046110153198242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057101249694824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012750625610352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085687637329102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055718421936035},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055909156799316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054597854614258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054001808166504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055789947509766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054311752319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058913230895996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072598457336426},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:27:42\') as code","Time":0.013663053512573},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408229\')","Time":0.00059080123901367},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00045585632324219},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034713745117188},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00042986869812012}]},"timeleft":false}'
2011.11.10 13:27:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:43 DEBUG: Data chunk = b''
2011.11.10 13:27:45 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:45 DEBUG: Recieving...
2011.11.10 13:27:45 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132745,E03752.6510,N5603.0030,167,19.97840172786177,38,7,1.1,14600,14470mV,0,0,0,0,0,10,0*33!\r\n'
2011.11.10 13:27:45 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132745,E03752.6510,N5603.0030,167,19.97840172786177,38,7,1.1,14600,14470mV,0,0,0,0,0,10,0*33!\r\n']
2011.11.10 13:27:45 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132745,E03752.6510,N5603.0030,167,19.97840172786177,38,7,1.1,14600,14470mV,0,0,0,0,0,10,0*33!

2011.11.10 13:27:45 DEBUG: Raw match found.
2011.11.10 13:27:45 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 167.0, 'azimuth': 38.0, 'longitude': 37.877516666666665, 'odometer': 10.0, 'satellitescount': 7, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132745,E03752.6510,N5603.0030,167,19.97840172786177,38,7,1.1,14600,14470mV,0,0,0,0,0,10,0*33!', 'time': '2011-11-10T13:27:45.000000', 'latitude': 56.05005, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 10.0, 'digital_input2': 0, 'speed': 37.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 37.0, 'uid': '557460032240926_888'}
2011.11.10 13:27:46 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.26312947273254 seconds\\n","1":"Average query length: 0.0033307528193993 seconds\\n","2":"Queries per second: 300.23242618777\\n","3":"Longest query length: 0.052474021911621\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.027575016021729},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0053310394287109},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'96hit0efe002kpa1fcc194uvk0\')))","Time":0.0007169246673584},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0024909973144531},{"SQL":"select * from obj_info(58369)","Time":0.00052714347839355},{"SQL":"select * from obj_info(58369)","Time":0.00036311149597168},{"SQL":"select * from obj_prop_total(58369)","Time":0.052474021911621},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0023281574249268},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0009760856628418},{"SQL":"select obj_is_deleted(104) as code","Time":0.00064492225646973},{"SQL":"select * from obj_info(104)","Time":0.00043296813964844},{"SQL":"select * from f_prop_total(104)","Time":0.015923023223877},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024700164794922},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021860599517822},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03947901725769},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011210441589355},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012950897216797},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00079798698425293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006258487701416},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00061678886413574},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024149417877197},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033116340637207},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011930465698242},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017020702362061},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010561943054199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053310394287109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050187110900879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084710121154785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012011528015137},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055289268493652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055408477783203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005490779876709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063419342041016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059294700622559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006411075592041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062179565429688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007789134979248},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000640869140625},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:27:45\') as code","Time":0.01472806930542},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408230\')","Time":0.0005500316619873},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048494338989258},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00043606758117676},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00049996376037598},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00059199333190918},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408228)","Time":0.00042295455932617},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00042080879211426},{"SQL":"select * from acc_list(58369)","Time":0.00080394744873047},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019328594207764},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00069594383239746},{"SQL":"select z_has_point(1002846847, 56.049983333333, 37.877416666667, null) as state","Time":0.0031049251556396},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00033116340637207},{"SQL":"select z_has_point(171930, 56.049983333333, 37.877416666667, null) as state","Time":0.0021529197692871},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00041389465332031},{"SQL":"select z_has_point(1387421, 56.049983333333, 37.877416666667, null) as state","Time":0.0021169185638428},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00041103363037109},{"SQL":"select z_has_point(1387486, 56.049983333333, 37.877416666667, null) as state","Time":0.0021059513092041},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00029110908508301},{"SQL":"select z_has_point(1387485, 56.049983333333, 37.877416666667, null) as state","Time":0.0020849704742432},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0002598762512207},{"SQL":"select z_has_point(1387499, 56.049983333333, 37.877416666667, null) as state","Time":0.0020990371704102},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00024819374084473},{"SQL":"select z_has_point(1387483, 56.049983333333, 37.877416666667, null) as state","Time":0.0020060539245605},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.0002899169921875},{"SQL":"select z_has_point(1387484, 56.049983333333, 37.877416666667, null) as state","Time":0.0021059513092041},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00030899047851562},{"SQL":"select z_has_point(1387619, 56.049983333333, 37.877416666667, null) as state","Time":0.0022859573364258},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00026392936706543},{"SQL":"select z_has_point(8710, 56.049983333333, 37.877416666667, null) as state","Time":0.0021429061889648},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00026512145996094},{"SQL":"select z_has_point(1002827265, 56.049983333333, 37.877416666667, null) as state","Time":0.0022430419921875},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00040984153747559},{"SQL":"select z_has_point(37627, 56.049983333333, 37.877416666667, null) as state","Time":0.0022120475769043},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00061917304992676},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021082162857056},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:27:34\') as code","Time":0.013792991638184}]},"timeleft":false}'
2011.11.10 13:27:46 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:46 DEBUG: Data chunk = b''
2011.11.10 13:27:52 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:27:52 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:27:52 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:27:52 DEBUG: Recieving...
2011.11.10 13:27:52 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132752,E03117.2650,N5831.4340,28,1.6198704103671706,116,5,1.1,14600,14470mV,0,0,0,0,0,13,0*0A!\r\n'
2011.11.10 13:27:52 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132752,E03117.2650,N5831.4340,28,1.6198704103671706,116,5,1.1,14600,14470mV,0,0,0,0,0,13,0*0A!\r\n']
2011.11.10 13:27:52 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132752,E03117.2650,N5831.4340,28,1.6198704103671706,116,5,1.1,14600,14470mV,0,0,0,0,0,13,0*0A!

2011.11.10 13:27:52 DEBUG: Raw match found.
2011.11.10 13:27:52 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 116.0, 'longitude': 31.28775, 'odometer': 13.0, 'satellitescount': 5, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132752,E03117.2650,N5831.4340,28,1.6198704103671706,116,5,1.1,14600,14470mV,0,0,0,0,0,13,0*0A!', 'time': '2011-11-10T13:27:52.000000', 'latitude': 58.5239, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 13.0, 'digital_input2': 0, 'speed': 3.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 3.0, 'uid': '657460032240926_888'}
2011.11.10 13:27:53 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.20174741744995 seconds\\n","1":"Average query length: 0.004292498243616 seconds\\n","2":"Queries per second: 232.96456824118\\n","3":"Longest query length: 0.051936864852905\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.027022123336792},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052380561828613},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'teoa97uae48mruesuks8mcr8p5\')))","Time":0.00068306922912598},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026319026947021},{"SQL":"select * from obj_info(58372)","Time":0.00055789947509766},{"SQL":"select * from obj_info(58372)","Time":0.00029397010803223},{"SQL":"select * from obj_prop_total(58372)","Time":0.048095941543579},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014660358428955},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00074100494384766},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045990943908691},{"SQL":"select * from obj_info(104)","Time":0.00028491020202637},{"SQL":"select * from f_prop_total(104)","Time":0.015294790267944},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025961399078369},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026419162750244},{"SQL":"select * from t_options(\'1006667041\')","Time":0.051936864852905},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.00111985206604},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012919902801514},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064587593078613},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00077199935913086},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00095391273498535},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0036759376525879},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016391277313232},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0026311874389648},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012860298156738},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005638599395752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051093101501465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050806999206543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093388557434082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062179565429688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061392784118652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066709518432617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063514709472656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062394142150879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062298774719238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084686279296875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063681602478027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063300132751465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063800811767578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006108283996582},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:27:52\') as code","Time":0.014556884765625},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408231\')","Time":0.00051498413085938},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043797492980957},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034999847412109},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00049495697021484}]},"timeleft":false}'
2011.11.10 13:27:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:27:53 DEBUG: Data chunk = b''
2011.11.10 13:28:00 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:00 DEBUG: Recieving...
2011.11.10 13:28:00 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132800,E03813.9550,N5555.7780,137,32.937365010799134,99,7,1.1,14600,14470mV,0,0,0,0,0,34,0*04!\r\n'
2011.11.10 13:28:00 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132800,E03813.9550,N5555.7780,137,32.937365010799134,99,7,1.1,14600,14470mV,0,0,0,0,0,34,0*04!\r\n']
2011.11.10 13:28:00 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132800,E03813.9550,N5555.7780,137,32.937365010799134,99,7,1.1,14600,14470mV,0,0,0,0,0,34,0*04!

2011.11.10 13:28:00 DEBUG: Raw match found.
2011.11.10 13:28:00 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 137.0, 'azimuth': 99.0, 'longitude': 38.23258333333333, 'odometer': 34.0, 'satellitescount': 7, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132800,E03813.9550,N5555.7780,137,32.937365010799134,99,7,1.1,14600,14470mV,0,0,0,0,0,34,0*04!', 'time': '2011-11-10T13:28:00.000000', 'latitude': 55.929633333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 34.0, 'digital_input2': 0, 'speed': 61.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 61.0, 'uid': '457460032240926_888'}
2011.11.10 13:28:01 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.16691517829895 seconds\\n","1":"Average query length: 0.0035513867723181 seconds\\n","2":"Queries per second: 281.58014435225\\n","3":"Longest query length: 0.038702011108398\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.021276950836182},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034701824188232},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'qur0pe2vfgb14jq83obn9dl650\')))","Time":0.00064396858215332},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026299953460693},{"SQL":"select * from obj_info(38910)","Time":0.00054407119750977},{"SQL":"select * from obj_info(38910)","Time":0.0003049373626709},{"SQL":"select * from obj_prop_total(38910)","Time":0.038702011108398},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015299320220947},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00066304206848145},{"SQL":"select obj_is_deleted(104) as code","Time":0.00043988227844238},{"SQL":"select * from obj_info(104)","Time":0.00027704238891602},{"SQL":"select * from f_prop_total(104)","Time":0.014230012893677},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024230480194092},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019681453704834},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03084397315979},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0012080669403076},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0015599727630615},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00078105926513672},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00098204612731934},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012109279632568},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044260025024414},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0019450187683105},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0032870769500732},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017330646514893},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077104568481445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073409080505371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072813034057617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007178783416748},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072002410888672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078606605529785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080204010009766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076508522033691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072813034057617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077199935913086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073504447937012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075697898864746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084900856018066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073695182800293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049901008605957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051403045654297},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:28:00\') as code","Time":0.014873027801514},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408232\')","Time":0.00064611434936523},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00055408477783203},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00044894218444824},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00050616264343262}]},"timeleft":false}'
2011.11.10 13:28:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:01 DEBUG: Data chunk = b''
2011.11.10 13:28:02 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:02 DEBUG: Recieving...
2011.11.10 13:28:02 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132802,E03752.6410,N5603.0220,166,14.038876889848812,343,6,1.1,14600,14470mV,0,0,0,0,0,35,0*32!\r\n'
2011.11.10 13:28:02 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132802,E03752.6410,N5603.0220,166,14.038876889848812,343,6,1.1,14600,14470mV,0,0,0,0,0,35,0*32!\r\n']
2011.11.10 13:28:02 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132802,E03752.6410,N5603.0220,166,14.038876889848812,343,6,1.1,14600,14470mV,0,0,0,0,0,35,0*32!

2011.11.10 13:28:02 DEBUG: Raw match found.
2011.11.10 13:28:02 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 166.0, 'azimuth': 343.0, 'longitude': 37.87735, 'odometer': 35.0, 'satellitescount': 6, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132802,E03752.6410,N5603.0220,166,14.038876889848812,343,6,1.1,14600,14470mV,0,0,0,0,0,35,0*32!', 'time': '2011-11-10T13:28:02.000000', 'latitude': 56.05036666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 35.0, 'digital_input2': 0, 'speed': 26.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 26.0, 'uid': '557460032240926_888'}
2011.11.10 13:28:03 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27608680725098 seconds\\n","1":"Average query length: 0.0034947697120377 seconds\\n","2":"Queries per second: 286.14188699058\\n","3":"Longest query length: 0.042982816696167\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.022980928421021},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0035200119018555},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'8afg344v7m2jb0nmd8m4kpk4q1\')))","Time":0.00077414512634277},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026400089263916},{"SQL":"select * from obj_info(58369)","Time":0.00070881843566895},{"SQL":"select * from obj_info(58369)","Time":0.00043416023254395},{"SQL":"select * from obj_prop_total(58369)","Time":0.042982816696167},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015261173248291},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00079798698425293},{"SQL":"select obj_is_deleted(104) as code","Time":0.00056910514831543},{"SQL":"select * from obj_info(104)","Time":0.00030207633972168},{"SQL":"select * from f_prop_total(104)","Time":0.014294862747192},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023720264434814},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020139217376709},{"SQL":"select * from t_options(\'1006667041\')","Time":0.030920028686523},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011119842529297},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011441707611084},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00078010559082031},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0012509822845459},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013201236724854},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044929981231689},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00081086158752441},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021681785583496},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0034060478210449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017290115356445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080299377441406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076889991760254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073003768920898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073814392089844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071001052856445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007328987121582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078797340393066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075387954711914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007169246673584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070905685424805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074505805969238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077915191650391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072908401489258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071406364440918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015130043029785},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:28:02\') as code","Time":0.026249170303345},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408233\')","Time":0.0010490417480469},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00097489356994629},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00068998336791992},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00091695785522461},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0010278224945068},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408230)","Time":0.00071406364440918},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00049996376037598},{"SQL":"select * from acc_list(58369)","Time":0.0013871192932129},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0035350322723389},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0013909339904785},{"SQL":"select z_has_point(1002846847, 56.05005, 37.877516666667, null) as state","Time":0.006011962890625},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00052905082702637},{"SQL":"select z_has_point(171930, 56.05005, 37.877516666667, null) as state","Time":0.0045900344848633},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0015459060668945},{"SQL":"select z_has_point(1387421, 56.05005, 37.877516666667, null) as state","Time":0.0026068687438965},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00034999847412109},{"SQL":"select z_has_point(1387486, 56.05005, 37.877516666667, null) as state","Time":0.0024459362030029},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00028586387634277},{"SQL":"select z_has_point(1387485, 56.05005, 37.877516666667, null) as state","Time":0.0024428367614746},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00037598609924316},{"SQL":"select z_has_point(1387499, 56.05005, 37.877516666667, null) as state","Time":0.0024418830871582},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00034189224243164},{"SQL":"select z_has_point(1387483, 56.05005, 37.877516666667, null) as state","Time":0.0024619102478027},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00031900405883789},{"SQL":"select z_has_point(1387484, 56.05005, 37.877516666667, null) as state","Time":0.0025520324707031},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00043320655822754},{"SQL":"select z_has_point(1387619, 56.05005, 37.877516666667, null) as state","Time":0.002748966217041},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00035500526428223},{"SQL":"select z_has_point(8710, 56.05005, 37.877516666667, null) as state","Time":0.0026180744171143},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00037598609924316},{"SQL":"select z_has_point(1002827265, 56.05005, 37.877516666667, null) as state","Time":0.0025157928466797},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00042104721069336},{"SQL":"select z_has_point(37627, 56.05005, 37.877516666667, null) as state","Time":0.0026931762695312},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00075078010559082},{"SQL":"select * from notif_get_by_object(58369)","Time":0.023983955383301},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:27:45\') as code","Time":0.013031005859375}]},"timeleft":false}'
2011.11.10 13:28:03 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:03 DEBUG: Data chunk = b''
2011.11.10 13:28:07 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:07 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:07 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:07 DEBUG: Recieving...
2011.11.10 13:28:07 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132807,E03117.3740,N5831.4100,28,9.1792656587473,113,10,1.1,14600,14470mV,0,0,0,0,0,114,0*39!\r\n'
2011.11.10 13:28:07 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132807,E03117.3740,N5831.4100,28,9.1792656587473,113,10,1.1,14600,14470mV,0,0,0,0,0,114,0*39!\r\n']
2011.11.10 13:28:07 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132807,E03117.3740,N5831.4100,28,9.1792656587473,113,10,1.1,14600,14470mV,0,0,0,0,0,114,0*39!

2011.11.10 13:28:07 DEBUG: Raw match found.
2011.11.10 13:28:07 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 113.0, 'longitude': 31.289566666666666, 'odometer': 114.0, 'satellitescount': 10, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132807,E03117.3740,N5831.4100,28,9.1792656587473,113,10,1.1,14600,14470mV,0,0,0,0,0,114,0*39!', 'time': '2011-11-10T13:28:07.000000', 'latitude': 58.5235, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 114.0, 'digital_input2': 0, 'speed': 17.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 17.0, 'uid': '657460032240926_888'}
2011.11.10 13:28:08 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.25628256797791 seconds\\n","1":"Average query length: 0.0054528205952746 seconds\\n","2":"Queries per second: 183.39132610866\\n","3":"Longest query length: 0.065659046173096\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.065659046173096},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0058729648590088},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'pntduhkmlp81j49b5j92bmuuu5\')))","Time":0.0008089542388916},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025918483734131},{"SQL":"select * from obj_info(58372)","Time":0.00084900856018066},{"SQL":"select * from obj_info(58372)","Time":0.00040602684020996},{"SQL":"select * from obj_prop_total(58372)","Time":0.061684846878052},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0015308856964111},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00097084045410156},{"SQL":"select obj_is_deleted(104) as code","Time":0.00068092346191406},{"SQL":"select * from obj_info(104)","Time":0.00032401084899902},{"SQL":"select * from f_prop_total(104)","Time":0.022717952728271},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0031251907348633},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021870136260986},{"SQL":"select * from t_options(\'1006667041\')","Time":0.049481153488159},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0010659694671631},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012359619140625},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00090193748474121},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0007328987121582},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00069689750671387},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024268627166748},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00063490867614746},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013160705566406},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018210411071777},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010480880737305},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045084953308105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040602684020996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004119873046875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042009353637695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040888786315918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039982795715332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040292739868164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040888786315918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040507316589355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040102005004883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040292739868164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042009353637695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040602684020996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039887428283691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068998336791992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045585632324219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001291036605835},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:28:07\') as code","Time":0.015569925308228},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408234\')","Time":0.0005500316619873},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00045990943908691},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034499168395996},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040602684020996}]},"timeleft":false}'
2011.11.10 13:28:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:08 DEBUG: Data chunk = b''
2011.11.10 13:28:12 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:12 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:12 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:12 DEBUG: Recieving...
2011.11.10 13:28:12 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132812,E03752.5170,N5603.0760,165,21.058315334773216,308,11,1.1,14600,14470mV,0,0,0,0,0,163,0*30!\r\n'
2011.11.10 13:28:12 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132812,E03752.5170,N5603.0760,165,21.058315334773216,308,11,1.1,14600,14470mV,0,0,0,0,0,163,0*30!\r\n']
2011.11.10 13:28:12 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132812,E03752.5170,N5603.0760,165,21.058315334773216,308,11,1.1,14600,14470mV,0,0,0,0,0,163,0*30!

2011.11.10 13:28:12 DEBUG: Raw match found.
2011.11.10 13:28:12 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 165.0, 'azimuth': 308.0, 'longitude': 37.875283333333336, 'odometer': 163.0, 'satellitescount': 11, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132812,E03752.5170,N5603.0760,165,21.058315334773216,308,11,1.1,14600,14470mV,0,0,0,0,0,163,0*30!', 'time': '2011-11-10T13:28:12.000000', 'latitude': 56.05126666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 163.0, 'digital_input2': 0, 'speed': 39.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 39.0, 'uid': '557460032240926_888'}
2011.11.10 13:28:13 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.5903422832489 seconds\\n","1":"Average query length: 0.0074726871297329 seconds\\n","2":"Queries per second: 133.82067021395\\n","3":"Longest query length: 0.33508110046387\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.33508110046387},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0040879249572754},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'k6r1spjp2bi06lks34tlgb5mt7\')))","Time":0.00078010559082031},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0039160251617432},{"SQL":"select * from obj_info(58369)","Time":0.0007328987121582},{"SQL":"select * from obj_info(58369)","Time":0.00033903121948242},{"SQL":"select * from obj_prop_total(58369)","Time":0.043094158172607},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015430450439453},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00070285797119141},{"SQL":"select obj_is_deleted(104) as code","Time":0.00054311752319336},{"SQL":"select * from obj_info(104)","Time":0.00030183792114258},{"SQL":"select * from f_prop_total(104)","Time":0.016916036605835},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0028970241546631},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021569728851318},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035295009613037},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012180805206299},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012209415435791},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00071501731872559},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065302848815918},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068092346191406},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0057950019836426},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00037384033203125},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0031321048736572},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0022220611572266},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0032401084899902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004880428314209},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041413307189941},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074601173400879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065803527832031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084495544433594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0043160915374756},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052094459533691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043296813964844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039196014404297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00038409233093262},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00038695335388184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039386749267578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039291381835938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057888031005859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012698173522949},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0024712085723877},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:28:12\') as code","Time":0.015419960021973},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408235\')","Time":0.0006260871887207},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00067305564880371},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00053596496582031},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00075602531433105},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00092005729675293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408233)","Time":0.0016188621520996},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00038886070251465},{"SQL":"select * from acc_list(58369)","Time":0.0017359256744385},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0028600692749023},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0011589527130127},{"SQL":"select z_has_point(1002846847, 56.050366666667, 37.87735, null) as state","Time":0.0052762031555176},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00036811828613281},{"SQL":"select z_has_point(171930, 56.050366666667, 37.87735, null) as state","Time":0.0034329891204834},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00031805038452148},{"SQL":"select z_has_point(1387421, 56.050366666667, 37.87735, null) as state","Time":0.0030369758605957},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00044083595275879},{"SQL":"select z_has_point(1387486, 56.050366666667, 37.87735, null) as state","Time":0.002777099609375},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00039386749267578},{"SQL":"select z_has_point(1387485, 56.050366666667, 37.87735, null) as state","Time":0.0023567676544189},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00030088424682617},{"SQL":"select z_has_point(1387499, 56.050366666667, 37.87735, null) as state","Time":0.0036280155181885},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.0003349781036377},{"SQL":"select z_has_point(1387483, 56.050366666667, 37.87735, null) as state","Time":0.0033900737762451},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00029683113098145},{"SQL":"select z_has_point(1387484, 56.050366666667, 37.87735, null) as state","Time":0.0032529830932617},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00036382675170898},{"SQL":"select z_has_point(1387619, 56.050366666667, 37.87735, null) as state","Time":0.0027499198913574},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00028300285339355},{"SQL":"select z_has_point(8710, 56.050366666667, 37.87735, null) as state","Time":0.0022568702697754},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00030899047851562},{"SQL":"select z_has_point(1002827265, 56.050366666667, 37.87735, null) as state","Time":0.0028860569000244},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00026202201843262},{"SQL":"select z_has_point(37627, 56.050366666667, 37.87735, null) as state","Time":0.0027029514312744},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00087308883666992},{"SQL":"select * from notif_get_by_object(58369)","Time":0.024806022644043},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:28:02\') as code","Time":0.013640880584717}]},"timeleft":false}'
2011.11.10 13:28:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:13 DEBUG: Data chunk = b''
2011.11.10 13:28:14 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:14 DEBUG: Recieving...
2011.11.10 13:28:14 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132814,E03813.9700,N5555.7770,137,31.317494600431964,96,5,1.1,14600,14470mV,0,0,0,0,0,16,0*0D!\r\n'
2011.11.10 13:28:14 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132814,E03813.9700,N5555.7770,137,31.317494600431964,96,5,1.1,14600,14470mV,0,0,0,0,0,16,0*0D!\r\n']
2011.11.10 13:28:14 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132814,E03813.9700,N5555.7770,137,31.317494600431964,96,5,1.1,14600,14470mV,0,0,0,0,0,16,0*0D!

2011.11.10 13:28:14 DEBUG: Raw match found.
2011.11.10 13:28:14 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 137.0, 'azimuth': 96.0, 'longitude': 38.23283333333333, 'odometer': 16.0, 'satellitescount': 5, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132814,E03813.9700,N5555.7770,137,31.317494600431964,96,5,1.1,14600,14470mV,0,0,0,0,0,16,0*0D!', 'time': '2011-11-10T13:28:14.000000', 'latitude': 55.92961666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 16.0, 'digital_input2': 0, 'speed': 58.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 58.0, 'uid': '457460032240926_888'}
2011.11.10 13:28:15 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.1775004863739 seconds\\n","1":"Average query length: 0.0037766060930617 seconds\\n","2":"Queries per second: 264.78800683957\\n","3":"Longest query length: 0.043269872665405\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.026786804199219},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0054469108581543},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'dschf6c45ifsaq0r37ilb6p673\')))","Time":0.00073909759521484},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0032389163970947},{"SQL":"select * from obj_info(38910)","Time":0.00054717063903809},{"SQL":"select * from obj_info(38910)","Time":0.00027084350585938},{"SQL":"select * from obj_prop_total(38910)","Time":0.043269872665405},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014350414276123},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00078392028808594},{"SQL":"select obj_is_deleted(104) as code","Time":0.00048613548278809},{"SQL":"select * from obj_info(104)","Time":0.00028610229492188},{"SQL":"select * from f_prop_total(104)","Time":0.018286228179932},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024731159210205},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021829605102539},{"SQL":"select * from t_options(\'1006667041\')","Time":0.033888101577759},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011248588562012},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0012819766998291},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063800811767578},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058603286743164},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065398216247559},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026750564575195},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00035881996154785},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001215934753418},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0030648708343506},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010380744934082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049304962158203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048303604125977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046491622924805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045609474182129},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057101249694824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048208236694336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047516822814941},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046610832214355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046491622924805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004429817199707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046610832214355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013201236724854},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000762939453125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063991546630859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062298774719238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060081481933594},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:28:14\') as code","Time":0.01298713684082},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408236\')","Time":0.00054311752319336},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048398971557617},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00043511390686035},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00046205520629883}]},"timeleft":false}'
2011.11.10 13:28:15 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:15 DEBUG: Data chunk = b''
2011.11.10 13:28:17 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:17 DEBUG: Recieving...
2011.11.10 13:28:17 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132817,E03117.4240,N5831.3990,28,19.97840172786177,112,4,1.1,14600,14470mV,0,0,0,0,0,52,0*36!\r\n'
2011.11.10 13:28:17 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132817,E03117.4240,N5831.3990,28,19.97840172786177,112,4,1.1,14600,14470mV,0,0,0,0,0,52,0*36!\r\n']
2011.11.10 13:28:17 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132817,E03117.4240,N5831.3990,28,19.97840172786177,112,4,1.1,14600,14470mV,0,0,0,0,0,52,0*36!

2011.11.10 13:28:17 DEBUG: Raw match found.
2011.11.10 13:28:17 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 112.0, 'longitude': 31.290399999999998, 'odometer': 52.0, 'satellitescount': 4, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132817,E03117.4240,N5831.3990,28,19.97840172786177,112,4,1.1,14600,14470mV,0,0,0,0,0,52,0*36!', 'time': '2011-11-10T13:28:17.000000', 'latitude': 58.523316666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 52.0, 'digital_input2': 0, 'speed': 37.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 37.0, 'uid': '657460032240926_888'}
2011.11.10 13:28:18 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21801733970642 seconds\\n","1":"Average query length: 0.0046386668022643 seconds\\n","2":"Queries per second: 215.57918312043\\n","3":"Longest query length: 0.065512895584106\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.023899078369141},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036489963531494},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'p6v6jkd16fcqe9doc9atkmfih5\')))","Time":0.00072908401489258},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025570392608643},{"SQL":"select * from obj_info(58372)","Time":0.00061202049255371},{"SQL":"select * from obj_info(58372)","Time":0.0003058910369873},{"SQL":"select * from obj_prop_total(58372)","Time":0.065512895584106},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0019879341125488},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00093197822570801},{"SQL":"select obj_is_deleted(104) as code","Time":0.00065112113952637},{"SQL":"select * from obj_info(104)","Time":0.00034809112548828},{"SQL":"select * from f_prop_total(104)","Time":0.022953987121582},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0028400421142578},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0028369426727295},{"SQL":"select * from t_options(\'1006667041\')","Time":0.046105146408081},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0021200180053711},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0019991397857666},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081896781921387},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058102607727051},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00084495544433594},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026218891143799},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00038003921508789},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012350082397461},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018150806427002},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010619163513184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048589706420898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054311752319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046706199645996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042295455932617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013391971588135},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010049343109131},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006558895111084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060510635375977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063800811767578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005490779876709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054001808166504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053691864013672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053000450134277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055503845214844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055789947509766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092411041259766},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:28:17\') as code","Time":0.015255212783813},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408237\')","Time":0.00071096420288086},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00053501129150391},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00058484077453613},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00064277648925781}]},"timeleft":false}'
2011.11.10 13:28:18 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:18 DEBUG: Data chunk = b''
2011.11.10 13:28:29 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:29 DEBUG: Recieving...
2011.11.10 13:28:29 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132829,E03752.3860,N5603.1500,165,37.25701943844492,315,7,1.1,14600,14470mV,0,0,0,0,0,192,0*31!\r\n'
2011.11.10 13:28:29 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132829,E03752.3860,N5603.1500,165,37.25701943844492,315,7,1.1,14600,14470mV,0,0,0,0,0,192,0*31!\r\n']
2011.11.10 13:28:29 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132829,E03752.3860,N5603.1500,165,37.25701943844492,315,7,1.1,14600,14470mV,0,0,0,0,0,192,0*31!

2011.11.10 13:28:29 DEBUG: Raw match found.
2011.11.10 13:28:29 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 165.0, 'azimuth': 315.0, 'longitude': 37.8731, 'odometer': 192.0, 'satellitescount': 7, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132829,E03752.3860,N5603.1500,165,37.25701943844492,315,7,1.1,14600,14470mV,0,0,0,0,0,192,0*31!', 'time': '2011-11-10T13:28:29.000000', 'latitude': 56.0525, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 192.0, 'digital_input2': 0, 'speed': 69.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 69.0, 'uid': '557460032240926_888'}
2011.11.10 13:28:30 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.2648184299469 seconds\\n","1":"Average query length: 0.0033521320246443 seconds\\n","2":"Queries per second: 298.31760582464\\n","3":"Longest query length: 0.043994903564453\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.022120952606201},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034189224243164},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'8uchdp69m4h4cgfls0dm4cok62\')))","Time":0.0007479190826416},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026950836181641},{"SQL":"select * from obj_info(58369)","Time":0.00066018104553223},{"SQL":"select * from obj_info(58369)","Time":0.0004119873046875},{"SQL":"select * from obj_prop_total(58369)","Time":0.043994903564453},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014438629150391},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00071120262145996},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005040168762207},{"SQL":"select * from obj_info(104)","Time":0.00036096572875977},{"SQL":"select * from f_prop_total(104)","Time":0.014594078063965},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024068355560303},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020740032196045},{"SQL":"select * from t_options(\'1006667041\')","Time":0.0312819480896},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0013420581817627},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011579990386963},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066900253295898},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011141300201416},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012471675872803},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045149326324463},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0011160373687744},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0024149417877197},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0037379264831543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0019690990447998},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012860298156738},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087618827819824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001154899597168},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089502334594727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009770393371582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087094306945801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086092948913574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085711479187012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010371208190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010039806365967},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088191032409668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089406967163086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097203254699707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071501731872559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075888633728027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074100494384766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087690353393555},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:28:29\') as code","Time":0.024307012557983},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408238\')","Time":0.0011041164398193},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00072598457336426},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0012772083282471},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00088095664978027},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0014529228210449},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408235)","Time":0.00078487396240234},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00055503845214844},{"SQL":"select * from acc_list(58369)","Time":0.00087213516235352},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019910335540771},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0014657974243164},{"SQL":"select z_has_point(1002846847, 56.051266666667, 37.875283333333, null) as state","Time":0.0033659934997559},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00034403800964355},{"SQL":"select z_has_point(171930, 56.051266666667, 37.875283333333, null) as state","Time":0.0021500587463379},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00041389465332031},{"SQL":"select z_has_point(1387421, 56.051266666667, 37.875283333333, null) as state","Time":0.0022299289703369},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00032591819763184},{"SQL":"select z_has_point(1387486, 56.051266666667, 37.875283333333, null) as state","Time":0.0021529197692871},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00032186508178711},{"SQL":"select z_has_point(1387485, 56.051266666667, 37.875283333333, null) as state","Time":0.0023229122161865},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00030899047851562},{"SQL":"select z_has_point(1387499, 56.051266666667, 37.875283333333, null) as state","Time":0.0021560192108154},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00041699409484863},{"SQL":"select z_has_point(1387483, 56.051266666667, 37.875283333333, null) as state","Time":0.0021049976348877},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00040411949157715},{"SQL":"select z_has_point(1387484, 56.051266666667, 37.875283333333, null) as state","Time":0.0020701885223389},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.0003511905670166},{"SQL":"select z_has_point(1387619, 56.051266666667, 37.875283333333, null) as state","Time":0.0023131370544434},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00033903121948242},{"SQL":"select z_has_point(8710, 56.051266666667, 37.875283333333, null) as state","Time":0.0022239685058594},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00030994415283203},{"SQL":"select z_has_point(1002827265, 56.051266666667, 37.875283333333, null) as state","Time":0.0021259784698486},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00031185150146484},{"SQL":"select z_has_point(37627, 56.051266666667, 37.875283333333, null) as state","Time":0.0021300315856934},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00068807601928711},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022070169448853},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:28:12\') as code","Time":0.013079881668091}]},"timeleft":false}'
2011.11.10 13:28:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:30 DEBUG: Data chunk = b''
2011.11.10 13:28:33 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:33 DEBUG: Recieving...
2011.11.10 13:28:33 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132833,E03813.9840,N5555.7760,139,26.997840172786177,95,4,1.1,14600,14470mV,0,0,0,0,0,14,0*0A!\r\n'
2011.11.10 13:28:33 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132833,E03813.9840,N5555.7760,139,26.997840172786177,95,4,1.1,14600,14470mV,0,0,0,0,0,14,0*0A!\r\n']
2011.11.10 13:28:33 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132833,E03813.9840,N5555.7760,139,26.997840172786177,95,4,1.1,14600,14470mV,0,0,0,0,0,14,0*0A!

2011.11.10 13:28:33 DEBUG: Raw match found.
2011.11.10 13:28:33 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 139.0, 'azimuth': 95.0, 'longitude': 38.233066666666666, 'odometer': 14.0, 'satellitescount': 4, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132833,E03813.9840,N5555.7760,139,26.997840172786177,95,4,1.1,14600,14470mV,0,0,0,0,0,14,0*0A!', 'time': '2011-11-10T13:28:33.000000', 'latitude': 55.9296, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 14.0, 'digital_input2': 0, 'speed': 50.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 50.0, 'uid': '457460032240926_888'}
2011.11.10 13:28:34 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17276740074158 seconds\\n","1":"Average query length: 0.0036759021434378 seconds\\n","2":"Queries per second: 272.04206232345\\n","3":"Longest query length: 0.038648128509521\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.021385192871094},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036170482635498},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'jhl66nq1iqfp9gr0g9s70v0da3\')))","Time":0.00077295303344727},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026359558105469},{"SQL":"select * from obj_info(38910)","Time":0.00057697296142578},{"SQL":"select * from obj_info(38910)","Time":0.00030612945556641},{"SQL":"select * from obj_prop_total(38910)","Time":0.038648128509521},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0013899803161621},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00069093704223633},{"SQL":"select obj_is_deleted(104) as code","Time":0.00067591667175293},{"SQL":"select * from obj_info(104)","Time":0.00034499168395996},{"SQL":"select * from f_prop_total(104)","Time":0.01412296295166},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023620128631592},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019989013671875},{"SQL":"select * from t_options(\'1006667041\')","Time":0.030912160873413},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0010910034179688},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0012378692626953},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00061702728271484},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0013449192047119},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012478828430176},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0043649673461914},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00077199935913086},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0022690296173096},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033860206604004},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015928745269775},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081706047058105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066590309143066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010330677032471},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011029243469238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072884559631348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076889991760254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008549690246582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065279006958008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064492225646973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063800811767578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076699256896973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017189979553223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0062980651855469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096416473388672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007469654083252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049614906311035},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:28:33\') as code","Time":0.012910842895508},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408239\')","Time":0.00053787231445312},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048685073852539},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00039219856262207},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044107437133789}]},"timeleft":false}'
2011.11.10 13:28:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:34 DEBUG: Data chunk = b''
2011.11.10 13:28:36 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:36 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:36 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:36 DEBUG: Recieving...
2011.11.10 13:28:36 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132836,E03117.4870,N5831.3860,27,25.91792656587473,112,7,1.1,14600,14470mV,0,0,0,0,0,66,0*33!\r\n'
2011.11.10 13:28:36 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132836,E03117.4870,N5831.3860,27,25.91792656587473,112,7,1.1,14600,14470mV,0,0,0,0,0,66,0*33!\r\n']
2011.11.10 13:28:36 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132836,E03117.4870,N5831.3860,27,25.91792656587473,112,7,1.1,14600,14470mV,0,0,0,0,0,66,0*33!

2011.11.10 13:28:36 DEBUG: Raw match found.
2011.11.10 13:28:36 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 27.0, 'azimuth': 112.0, 'longitude': 31.29145, 'odometer': 66.0, 'satellitescount': 7, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132836,E03117.4870,N5831.3860,27,25.91792656587473,112,7,1.1,14600,14470mV,0,0,0,0,0,66,0*33!', 'time': '2011-11-10T13:28:36.000000', 'latitude': 58.5231, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 66.0, 'digital_input2': 0, 'speed': 48.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 48.0, 'uid': '657460032240926_888'}
2011.11.10 13:28:37 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.22421669960022 seconds\\n","1":"Average query length: 0.0047705680766004 seconds\\n","2":"Queries per second: 209.61864162572\\n","3":"Longest query length: 0.052602052688599\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.022629022598267},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036768913269043},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'13g3l8b6grfapl99o1gdi68j41\')))","Time":0.0006709098815918},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.00282883644104},{"SQL":"select * from obj_info(58372)","Time":0.00057387351989746},{"SQL":"select * from obj_info(58372)","Time":0.00029492378234863},{"SQL":"select * from obj_prop_total(58372)","Time":0.050774097442627},{"SQL":"select obj_is_deleted(58372) as code","Time":0.001917839050293},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00090694427490234},{"SQL":"select obj_is_deleted(104) as code","Time":0.00065207481384277},{"SQL":"select * from obj_info(104)","Time":0.0004119873046875},{"SQL":"select * from f_prop_total(104)","Time":0.02082896232605},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0040619373321533},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0035469532012939},{"SQL":"select * from t_options(\'1006667041\')","Time":0.052602052688599},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0017819404602051},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0022079944610596},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00088286399841309},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00057196617126465},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0010960102081299},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002547025680542},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033903121948242},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016798973083496},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018110275268555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013106107711792},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057196617126465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051784515380859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005040168762207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006861686706543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070095062255859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016839504241943},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078201293945312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.003899097442627},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056600570678711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052690505981445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008089542388916},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005340576171875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050997734069824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050806999206543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050497055053711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063896179199219},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:28:36\') as code","Time":0.015038013458252},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408240\')","Time":0.00066208839416504},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00063180923461914},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00046491622924805},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00053882598876953}]},"timeleft":false}'
2011.11.10 13:28:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:37 DEBUG: Data chunk = b''
2011.11.10 13:28:48 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:48 DEBUG: Recieving...
2011.11.10 13:28:48 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132848,E03752.2960,N5603.2810,165,46.436285097192226,339,2,1.1,14600,14470mV,0,0,0,0,0,262,0*0C!\r\n'
2011.11.10 13:28:48 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132848,E03752.2960,N5603.2810,165,46.436285097192226,339,2,1.1,14600,14470mV,0,0,0,0,0,262,0*0C!\r\n']
2011.11.10 13:28:48 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132848,E03752.2960,N5603.2810,165,46.436285097192226,339,2,1.1,14600,14470mV,0,0,0,0,0,262,0*0C!

2011.11.10 13:28:48 DEBUG: Raw match found.
2011.11.10 13:28:48 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 165.0, 'azimuth': 339.0, 'longitude': 37.8716, 'odometer': 262.0, 'satellitescount': 2, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132848,E03752.2960,N5603.2810,165,46.436285097192226,339,2,1.1,14600,14470mV,0,0,0,0,0,262,0*0C!', 'time': '2011-11-10T13:28:48.000000', 'latitude': 56.05468333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 262.0, 'digital_input2': 0, 'speed': 86.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 86.0, 'uid': '557460032240926_888'}
2011.11.10 13:28:49 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.26414442062378 seconds\\n","1":"Average query length: 0.0033436002610605 seconds\\n","2":"Queries per second: 299.0788138301\\n","3":"Longest query length: 0.043069839477539\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.024452924728394},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0041079521179199},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'inqn6enbcvl4pl2otmn5cdm7d1\')))","Time":0.00076007843017578},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026721954345703},{"SQL":"select * from obj_info(58369)","Time":0.00068092346191406},{"SQL":"select * from obj_info(58369)","Time":0.00049996376037598},{"SQL":"select * from obj_prop_total(58369)","Time":0.043069839477539},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014340877532959},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00063705444335938},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044894218444824},{"SQL":"select * from obj_info(104)","Time":0.00028681755065918},{"SQL":"select * from f_prop_total(104)","Time":0.014214038848877},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023579597473145},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019690990447998},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031044960021973},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012459754943848},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0014240741729736},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00071310997009277},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011188983917236},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012421607971191},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0046930313110352},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00069093704223633},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020561218261719},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0031940937042236},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0018961429595947},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089406967163086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087904930114746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086808204650879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010261535644531},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088691711425781},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088000297546387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087499618530273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084686279296875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084280967712402},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094199180603027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073695182800293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007169246673584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071096420288086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070786476135254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072097778320312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072121620178223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080704689025879},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:28:48\') as code","Time":0.024954080581665},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408241\')","Time":0.0013489723205566},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0010061264038086},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0005800724029541},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00053191184997559},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00064206123352051},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408238)","Time":0.00045299530029297},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00034403800964355},{"SQL":"select * from acc_list(58369)","Time":0.00081396102905273},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0021078586578369},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0010130405426025},{"SQL":"select z_has_point(1002846847, 56.0525, 37.8731, null) as state","Time":0.0034480094909668},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00031185150146484},{"SQL":"select z_has_point(171930, 56.0525, 37.8731, null) as state","Time":0.0024402141571045},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00032901763916016},{"SQL":"select z_has_point(1387421, 56.0525, 37.8731, null) as state","Time":0.002349853515625},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00034999847412109},{"SQL":"select z_has_point(1387486, 56.0525, 37.8731, null) as state","Time":0.0024950504302979},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00036191940307617},{"SQL":"select z_has_point(1387485, 56.0525, 37.8731, null) as state","Time":0.0023410320281982},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00032901763916016},{"SQL":"select z_has_point(1387499, 56.0525, 37.8731, null) as state","Time":0.0024189949035645},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00033211708068848},{"SQL":"select z_has_point(1387483, 56.0525, 37.8731, null) as state","Time":0.0023858547210693},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00034499168395996},{"SQL":"select z_has_point(1387484, 56.0525, 37.8731, null) as state","Time":0.0023419857025146},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00038409233093262},{"SQL":"select z_has_point(1387619, 56.0525, 37.8731, null) as state","Time":0.0025289058685303},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0002281665802002},{"SQL":"select z_has_point(8710, 56.0525, 37.8731, null) as state","Time":0.0025022029876709},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00034308433532715},{"SQL":"select z_has_point(1002827265, 56.0525, 37.8731, null) as state","Time":0.0023348331451416},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00034403800964355},{"SQL":"select z_has_point(37627, 56.0525, 37.8731, null) as state","Time":0.0023548603057861},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00070500373840332},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021667957305908},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:28:29\') as code","Time":0.013401985168457}]},"timeleft":false}'
2011.11.10 13:28:49 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:49 DEBUG: Data chunk = b''
2011.11.10 13:28:51 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:51 DEBUG: Recieving...
2011.11.10 13:28:51 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132851,E03814.0030,N5555.7690,142,15.118790496760258,124,8,1.1,14600,14470mV,0,0,0,0,0,24,0*3D!\r\n'
2011.11.10 13:28:51 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132851,E03814.0030,N5555.7690,142,15.118790496760258,124,8,1.1,14600,14470mV,0,0,0,0,0,24,0*3D!\r\n']
2011.11.10 13:28:51 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132851,E03814.0030,N5555.7690,142,15.118790496760258,124,8,1.1,14600,14470mV,0,0,0,0,0,24,0*3D!

2011.11.10 13:28:51 DEBUG: Raw match found.
2011.11.10 13:28:51 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 142.0, 'azimuth': 124.0, 'longitude': 38.233383333333336, 'odometer': 24.0, 'satellitescount': 8, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132851,E03814.0030,N5555.7690,142,15.118790496760258,124,8,1.1,14600,14470mV,0,0,0,0,0,24,0*3D!', 'time': '2011-11-10T13:28:51.000000', 'latitude': 55.92948333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 24.0, 'digital_input2': 0, 'speed': 28.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 28.0, 'uid': '457460032240926_888'}
2011.11.10 13:28:52 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19283962249756 seconds\\n","1":"Average query length: 0.0041029706914374 seconds\\n","2":"Queries per second: 243.72584529715\\n","3":"Longest query length: 0.038628816604614\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.021679878234863},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0033798217773438},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'j5794npukvuvm3eu4ormv3j3q7\')))","Time":0.00075006484985352},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025508403778076},{"SQL":"select * from obj_info(38910)","Time":0.00058603286743164},{"SQL":"select * from obj_info(38910)","Time":0.00033688545227051},{"SQL":"select * from obj_prop_total(38910)","Time":0.038628816604614},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014350414276123},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00071191787719727},{"SQL":"select obj_is_deleted(104) as code","Time":0.00060892105102539},{"SQL":"select * from obj_info(104)","Time":0.0004889965057373},{"SQL":"select * from f_prop_total(104)","Time":0.014763832092285},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024549961090088},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020608901977539},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031089782714844},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011081695556641},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0014350414276123},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00072598457336426},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010490417480469},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012881755828857},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0043840408325195},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00066113471984863},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020351409912109},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0030229091644287},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.016523838043213},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096702575683594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089192390441895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083589553833008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008690357208252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085783004760742},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085282325744629},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084114074707031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011138916015625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008540153503418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009160041809082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084304809570312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094985961914062},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016129016876221},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098490715026855},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083804130554199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070595741271973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069999694824219},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:28:51\') as code","Time":0.020239114761353},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408242\')","Time":0.00095605850219727},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00083184242248535},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00068807601928711},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00073003768920898}]},"timeleft":false}'
2011.11.10 13:28:52 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:52 DEBUG: Data chunk = b''
2011.11.10 13:28:54 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:28:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:28:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:28:54 DEBUG: Recieving...
2011.11.10 13:28:54 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132854,E03117.5950,N5831.3660,28,26.997840172786177,109,5,1.1,14600,14470mV,0,0,0,0,0,110,0*33!\r\n'
2011.11.10 13:28:54 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132854,E03117.5950,N5831.3660,28,26.997840172786177,109,5,1.1,14600,14470mV,0,0,0,0,0,110,0*33!\r\n']
2011.11.10 13:28:54 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132854,E03117.5950,N5831.3660,28,26.997840172786177,109,5,1.1,14600,14470mV,0,0,0,0,0,110,0*33!

2011.11.10 13:28:54 DEBUG: Raw match found.
2011.11.10 13:28:54 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 109.0, 'longitude': 31.29325, 'odometer': 110.0, 'satellitescount': 5, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132854,E03117.5950,N5831.3660,28,26.997840172786177,109,5,1.1,14600,14470mV,0,0,0,0,0,110,0*33!', 'time': '2011-11-10T13:28:54.000000', 'latitude': 58.52276666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 110.0, 'digital_input2': 0, 'speed': 50.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 50.0, 'uid': '657460032240926_888'}
2011.11.10 13:28:55 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17732763290405 seconds\\n","1":"Average query length: 0.0037729283596607 seconds\\n","2":"Queries per second: 265.04611396595\\n","3":"Longest query length: 0.044373035430908\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.021599054336548},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034499168395996},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'4rjpmjbq0r8qsiankb98r3ch07\')))","Time":0.00069499015808105},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0030190944671631},{"SQL":"select * from obj_info(58372)","Time":0.00058603286743164},{"SQL":"select * from obj_info(58372)","Time":0.0003349781036377},{"SQL":"select * from obj_prop_total(58372)","Time":0.044373035430908},{"SQL":"select obj_is_deleted(58372) as code","Time":0.001410961151123},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00065088272094727},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046610832214355},{"SQL":"select * from obj_info(104)","Time":0.00028300285339355},{"SQL":"select * from f_prop_total(104)","Time":0.014317989349365},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024809837341309},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019381046295166},{"SQL":"select * from t_options(\'1006667041\')","Time":0.030786037445068},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0010170936584473},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012648105621338},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081086158752441},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010988712310791},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012860298156738},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044980049133301},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00076413154602051},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020871162414551},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033390522003174},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.002068042755127},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093293190002441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084114074707031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093889236450195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087499618530273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087213516235352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095796585083008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011179447174072},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079894065856934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079798698425293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091099739074707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012881755828857},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089812278747559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087213516235352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010249614715576},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094699859619141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010139942169189},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010511875152588},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:28:54\') as code","Time":0.014564990997314},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408243\')","Time":0.00067496299743652},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048613548278809},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00039291381835938},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044393539428711}]},"timeleft":false}'
2011.11.10 13:28:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:28:55 DEBUG: Data chunk = b''
2011.11.10 13:29:07 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:07 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:07 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:07 DEBUG: Recieving...
2011.11.10 13:29:07 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132907,E03814.0110,N5555.7540,146,18.898488120950322,164,12,1.1,14600,14470mV,0,0,0,0,0,29,0*0B!\r\n'
2011.11.10 13:29:07 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132907,E03814.0110,N5555.7540,146,18.898488120950322,164,12,1.1,14600,14470mV,0,0,0,0,0,29,0*0B!\r\n']
2011.11.10 13:29:07 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132907,E03814.0110,N5555.7540,146,18.898488120950322,164,12,1.1,14600,14470mV,0,0,0,0,0,29,0*0B!

2011.11.10 13:29:07 DEBUG: Raw match found.
2011.11.10 13:29:07 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 146.0, 'azimuth': 164.0, 'longitude': 38.23351666666667, 'odometer': 29.0, 'satellitescount': 12, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132907,E03814.0110,N5555.7540,146,18.898488120950322,164,12,1.1,14600,14470mV,0,0,0,0,0,29,0*0B!', 'time': '2011-11-10T13:29:07.000000', 'latitude': 55.929233333333336, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 29.0, 'digital_input2': 0, 'speed': 35.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 35.0, 'uid': '457460032240926_888'}
2011.11.10 13:29:08 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:08 DEBUG: Recieving...
2011.11.10 13:29:08 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132908,E03752.1730,N5603.4780,166,41.57667386609071,341,9,1.1,14600,14470mV,0,0,0,0,0,387,0*36!\r\n'
2011.11.10 13:29:08 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132908,E03752.1730,N5603.4780,166,41.57667386609071,341,9,1.1,14600,14470mV,0,0,0,0,0,387,0*36!\r\n']
2011.11.10 13:29:08 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132908,E03752.1730,N5603.4780,166,41.57667386609071,341,9,1.1,14600,14470mV,0,0,0,0,0,387,0*36!

2011.11.10 13:29:08 DEBUG: Raw match found.
2011.11.10 13:29:08 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 166.0, 'azimuth': 341.0, 'longitude': 37.86955, 'odometer': 387.0, 'satellitescount': 9, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132908,E03752.1730,N5603.4780,166,41.57667386609071,341,9,1.1,14600,14470mV,0,0,0,0,0,387,0*36!', 'time': '2011-11-10T13:29:08.000000', 'latitude': 56.057966666666665, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 387.0, 'digital_input2': 0, 'speed': 77.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 77.0, 'uid': '557460032240926_888'}
2011.11.10 13:29:08 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.30204677581787 seconds\\n","1":"Average query length: 0.0064265271450611 seconds\\n","2":"Queries per second: 155.60503790426\\n","3":"Longest query length: 0.1072940826416\\n","4":"Longest query: \\nINSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\\n","Queries":[{"SQL":"connect","Time":0.022335052490234},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.00357985496521},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'8659c6j5ejpm8kdb4jolfngvv6\')))","Time":0.00070691108703613},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.00319504737854},{"SQL":"select * from obj_info(38910)","Time":0.00055789947509766},{"SQL":"select * from obj_info(38910)","Time":0.00028491020202637},{"SQL":"select * from obj_prop_total(38910)","Time":0.03886604309082},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0016140937805176},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010161399841309},{"SQL":"select obj_is_deleted(104) as code","Time":0.00069212913513184},{"SQL":"select * from obj_info(104)","Time":0.00033020973205566},{"SQL":"select * from f_prop_total(104)","Time":0.018748998641968},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025951862335205},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0023500919342041},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031998872756958},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011401176452637},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013818740844727},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081491470336914},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00099802017211914},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012481212615967},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0040240287780762},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00069308280944824},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.1072940826416},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.003511905670166},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.012124061584473},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083303451538086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011279582977295},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001392126083374},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015568733215332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080204010009766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008091926574707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012619495391846},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020108222961426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088095664978027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068020820617676},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080990791320801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093388557434082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081396102905273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066995620727539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078296661376953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006721019744873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064420700073242},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:29:07\') as code","Time":0.020778894424438},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408244\')","Time":0.00074195861816406},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0006411075592041},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00050497055053711},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00059604644775391}]},"timeleft":false}'
2011.11.10 13:29:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:08 DEBUG: Data chunk = b''
2011.11.10 13:29:09 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.26288533210754 seconds\\n","1":"Average query length: 0.0033276624317411 seconds\\n","2":"Queries per second: 300.5112509194\\n","3":"Longest query length: 0.043230056762695\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.024008989334106},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0035581588745117},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'l6e1546mu3ftjdvq7ac36dkp65\')))","Time":0.00069713592529297},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026199817657471},{"SQL":"select * from obj_info(58369)","Time":0.00059008598327637},{"SQL":"select * from obj_info(58369)","Time":0.00034308433532715},{"SQL":"select * from obj_prop_total(58369)","Time":0.043230056762695},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0013251304626465},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00062799453735352},{"SQL":"select obj_is_deleted(104) as code","Time":0.00039505958557129},{"SQL":"select * from obj_info(104)","Time":0.00023317337036133},{"SQL":"select * from f_prop_total(104)","Time":0.014029979705811},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024199485778809},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019209384918213},{"SQL":"select * from t_options(\'1006667041\')","Time":0.030992984771729},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0010879039764404},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011141300201416},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067615509033203},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.001183032989502},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012519359588623},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045971870422363},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00079202651977539},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0023090839385986},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033750534057617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0033330917358398},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011210441589355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098586082458496},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074601173400879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071597099304199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078797340393066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078105926513672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014040470123291},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063610076904297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066995620727539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011088848114014},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010230541229248},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072383880615234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069594383239746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069689750671387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070905685424805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068306922912598},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:29:08\') as code","Time":0.017121076583862},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408245\')","Time":0.00062394142150879},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00059890747070312},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00047397613525391},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00058913230895996},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00072216987609863},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408241)","Time":0.00050687789916992},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00037717819213867},{"SQL":"select * from acc_list(58369)","Time":0.00086784362792969},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.002363920211792},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0009300708770752},{"SQL":"select z_has_point(1002846847, 56.054683333333, 37.8716, null) as state","Time":0.0038611888885498},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00035190582275391},{"SQL":"select z_has_point(171930, 56.054683333333, 37.8716, null) as state","Time":0.0027709007263184},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00034093856811523},{"SQL":"select z_has_point(1387421, 56.054683333333, 37.8716, null) as state","Time":0.0027420520782471},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00036096572875977},{"SQL":"select z_has_point(1387486, 56.054683333333, 37.8716, null) as state","Time":0.0025990009307861},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00036978721618652},{"SQL":"select z_has_point(1387485, 56.054683333333, 37.8716, null) as state","Time":0.0026941299438477},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00038504600524902},{"SQL":"select z_has_point(1387499, 56.054683333333, 37.8716, null) as state","Time":0.0027251243591309},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00036811828613281},{"SQL":"select z_has_point(1387483, 56.054683333333, 37.8716, null) as state","Time":0.0025818347930908},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00039005279541016},{"SQL":"select z_has_point(1387484, 56.054683333333, 37.8716, null) as state","Time":0.002795934677124},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00041794776916504},{"SQL":"select z_has_point(1387619, 56.054683333333, 37.8716, null) as state","Time":0.0029430389404297},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00037097930908203},{"SQL":"select z_has_point(8710, 56.054683333333, 37.8716, null) as state","Time":0.0027320384979248},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.0003669261932373},{"SQL":"select z_has_point(1002827265, 56.054683333333, 37.8716, null) as state","Time":0.0025899410247803},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00035500526428223},{"SQL":"select z_has_point(37627, 56.054683333333, 37.8716, null) as state","Time":0.0026111602783203},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00078606605529785},{"SQL":"select * from notif_get_by_object(58369)","Time":0.025413990020752},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:28:48\') as code","Time":0.012983083724976}]},"timeleft":false}'
2011.11.10 13:29:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:09 DEBUG: Data chunk = b''
2011.11.10 13:29:14 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:14 DEBUG: Recieving...
2011.11.10 13:29:14 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132914,E03117.7250,N5831.3470,28,28.617710583153347,106,12,1.1,14600,14470mV,0,0,0,0,0,132,0*03!\r\n'
2011.11.10 13:29:14 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132914,E03117.7250,N5831.3470,28,28.617710583153347,106,12,1.1,14600,14470mV,0,0,0,0,0,132,0*03!\r\n']
2011.11.10 13:29:14 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132914,E03117.7250,N5831.3470,28,28.617710583153347,106,12,1.1,14600,14470mV,0,0,0,0,0,132,0*03!

2011.11.10 13:29:14 DEBUG: Raw match found.
2011.11.10 13:29:14 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 106.0, 'longitude': 31.295416666666668, 'odometer': 132.0, 'satellitescount': 12, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132914,E03117.7250,N5831.3470,28,28.617710583153347,106,12,1.1,14600,14470mV,0,0,0,0,0,132,0*03!', 'time': '2011-11-10T13:29:14.000000', 'latitude': 58.52245, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 132.0, 'digital_input2': 0, 'speed': 53.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 53.0, 'uid': '657460032240926_888'}
2011.11.10 13:29:15 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21446800231934 seconds\\n","1":"Average query length: 0.0045631489855178 seconds\\n","2":"Queries per second: 219.14690998995\\n","3":"Longest query length: 0.042948961257935\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.021557092666626},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0033800601959229},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'hq46ugrm88u7ri0vte8u8me827\')))","Time":0.00058913230895996},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025911331176758},{"SQL":"select * from obj_info(58372)","Time":0.00054216384887695},{"SQL":"select * from obj_info(58372)","Time":0.00028395652770996},{"SQL":"select * from obj_prop_total(58372)","Time":0.042948961257935},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014619827270508},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00069403648376465},{"SQL":"select obj_is_deleted(104) as code","Time":0.0004429817199707},{"SQL":"select * from obj_info(104)","Time":0.00027585029602051},{"SQL":"select * from f_prop_total(104)","Time":0.014030933380127},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023500919342041},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019428730010986},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03071117401123},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0010321140289307},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012481212615967},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00055384635925293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011279582977295},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012369155883789},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0047039985656738},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00087499618530273},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.012691974639893},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033910274505615},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.021714925765991},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010969638824463},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098299980163574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085091590881348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087404251098633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099802017211914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010271072387695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099897384643555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088286399841309},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085806846618652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000885009765625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086212158203125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090885162353516},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089788436889648},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094795227050781},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072002410888672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075888633728027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073719024658203},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:29:14\') as code","Time":0.024834871292114},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408246\')","Time":0.00060701370239258},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0005190372467041},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00039887428283691},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0004420280456543}]},"timeleft":false}'
2011.11.10 13:29:15 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:15 DEBUG: Data chunk = b''
2011.11.10 13:29:25 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:25 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:25 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:25 DEBUG: Recieving...
2011.11.10 13:29:25 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132925,E03752.0380,N5603.6230,167,14.578833693304535,333,11,1.1,14600,14470mV,0,0,0,0,0,304,0*36!\r\n'
2011.11.10 13:29:25 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132925,E03752.0380,N5603.6230,167,14.578833693304535,333,11,1.1,14600,14470mV,0,0,0,0,0,304,0*36!\r\n']
2011.11.10 13:29:25 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132925,E03752.0380,N5603.6230,167,14.578833693304535,333,11,1.1,14600,14470mV,0,0,0,0,0,304,0*36!

2011.11.10 13:29:25 DEBUG: Raw match found.
2011.11.10 13:29:25 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 167.0, 'azimuth': 333.0, 'longitude': 37.8673, 'odometer': 304.0, 'satellitescount': 11, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132925,E03752.0380,N5603.6230,167,14.578833693304535,333,11,1.1,14600,14470mV,0,0,0,0,0,304,0*36!', 'time': '2011-11-10T13:29:25.000000', 'latitude': 56.060383333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 304.0, 'digital_input2': 0, 'speed': 27.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 27.0, 'uid': '557460032240926_888'}
2011.11.10 13:29:26 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27535367012024 seconds\\n","1":"Average query length: 0.0034854894951929 seconds\\n","2":"Queries per second: 286.90374806155\\n","3":"Longest query length: 0.045919895172119\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.02924108505249},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0059599876403809},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'gfu1rhc1vtvnrc83vdaj6nlhe4\')))","Time":0.00090193748474121},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0037181377410889},{"SQL":"select * from obj_info(58369)","Time":0.00072503089904785},{"SQL":"select * from obj_info(58369)","Time":0.00029706954956055},{"SQL":"select * from obj_prop_total(58369)","Time":0.045919895172119},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0023510456085205},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0007932186126709},{"SQL":"select obj_is_deleted(104) as code","Time":0.00066804885864258},{"SQL":"select * from obj_info(104)","Time":0.00035905838012695},{"SQL":"select * from f_prop_total(104)","Time":0.018855094909668},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025022029876709},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022120475769043},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035495042800903},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0016820430755615},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0017540454864502},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00092005729675293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006110668182373},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00074315071105957},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002418041229248},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00045108795166016},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011990070343018},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017819404602051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.011381864547729},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060391426086426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056910514831543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075697898864746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056600570678711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056815147399902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056815147399902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052094459533691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005340576171875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054216384887695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091791152954102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056910514831543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059890747070312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053000450134277},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:29:25\') as code","Time":0.015811204910278},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408247\')","Time":0.0005650520324707},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00042510032653809},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0003211498260498},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040006637573242},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00054693222045898},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408245)","Time":0.00036096572875977},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00027799606323242},{"SQL":"select * from acc_list(58369)","Time":0.00071096420288086},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.002126932144165},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00089597702026367},{"SQL":"select z_has_point(1002846847, 56.057966666667, 37.86955, null) as state","Time":0.0031280517578125},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(171930, 56.057966666667, 37.86955, null) as state","Time":0.0031750202178955},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00033998489379883},{"SQL":"select z_has_point(1387421, 56.057966666667, 37.86955, null) as state","Time":0.0026528835296631},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00036406517028809},{"SQL":"select z_has_point(1387486, 56.057966666667, 37.86955, null) as state","Time":0.002187967300415},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00025796890258789},{"SQL":"select z_has_point(1387485, 56.057966666667, 37.86955, null) as state","Time":0.0022869110107422},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00030517578125},{"SQL":"select z_has_point(1387499, 56.057966666667, 37.86955, null) as state","Time":0.0024690628051758},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00030016899108887},{"SQL":"select z_has_point(1387483, 56.057966666667, 37.86955, null) as state","Time":0.0021469593048096},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00026106834411621},{"SQL":"select z_has_point(1387484, 56.057966666667, 37.86955, null) as state","Time":0.0031437873840332},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00030708312988281},{"SQL":"select z_has_point(1387619, 56.057966666667, 37.86955, null) as state","Time":0.0022730827331543},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0002589225769043},{"SQL":"select z_has_point(8710, 56.057966666667, 37.86955, null) as state","Time":0.0022299289703369},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00027298927307129},{"SQL":"select z_has_point(1002827265, 56.057966666667, 37.86955, null) as state","Time":0.0028619766235352},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00025701522827148},{"SQL":"select z_has_point(37627, 56.057966666667, 37.86955, null) as state","Time":0.0022327899932861},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00066208839416504},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022331953048706},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:29:08\') as code","Time":0.012929916381836}]},"timeleft":false}'
2011.11.10 13:29:26 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:26 DEBUG: Data chunk = b''
2011.11.10 13:29:27 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:27 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:27 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:27 DEBUG: Recieving...
2011.11.10 13:29:27 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132927,E03814.0310,N5555.7270,148,25.91792656587473,157,11,1.1,14600,14470mV,0,0,0,0,0,54,0*3C!\r\n'
2011.11.10 13:29:27 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132927,E03814.0310,N5555.7270,148,25.91792656587473,157,11,1.1,14600,14470mV,0,0,0,0,0,54,0*3C!\r\n']
2011.11.10 13:29:27 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132927,E03814.0310,N5555.7270,148,25.91792656587473,157,11,1.1,14600,14470mV,0,0,0,0,0,54,0*3C!

2011.11.10 13:29:27 DEBUG: Raw match found.
2011.11.10 13:29:27 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 148.0, 'azimuth': 157.0, 'longitude': 38.23385, 'odometer': 54.0, 'satellitescount': 11, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132927,E03814.0310,N5555.7270,148,25.91792656587473,157,11,1.1,14600,14470mV,0,0,0,0,0,54,0*3C!', 'time': '2011-11-10T13:29:27.000000', 'latitude': 55.928783333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 54.0, 'digital_input2': 0, 'speed': 48.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 48.0, 'uid': '457460032240926_888'}
2011.11.10 13:29:28 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.24117064476013 seconds\\n","1":"Average query length: 0.0051312903140454 seconds\\n","2":"Queries per second: 194.88275634353\\n","3":"Longest query length: 0.067265033721924\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.022740840911865},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0058989524841309},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'mdiuphvqhkgilek1lf2kne4a45\')))","Time":0.00083708763122559},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0029070377349854},{"SQL":"select * from obj_info(38910)","Time":0.00089788436889648},{"SQL":"select * from obj_info(38910)","Time":0.0004889965057373},{"SQL":"select * from obj_prop_total(38910)","Time":0.067265033721924},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0023438930511475},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0011379718780518},{"SQL":"select obj_is_deleted(104) as code","Time":0.00081419944763184},{"SQL":"select * from obj_info(104)","Time":0.0004580020904541},{"SQL":"select * from f_prop_total(104)","Time":0.025447130203247},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0041680335998535},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0033419132232666},{"SQL":"select * from t_options(\'1006667041\')","Time":0.052753925323486},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0018448829650879},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.002647876739502},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00079607963562012},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00069999694824219},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0007021427154541},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0032260417938232},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0017988681793213},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019989013671875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011899471282959},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057792663574219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055909156799316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065302848815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005650520324707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055813789367676},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082802772521973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056600570678711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054693222045898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067400932312012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071191787719727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073385238647461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078201293945312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083303451538086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078201293945312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077009201049805},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:29:27\') as code","Time":0.020017862319946},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408248\')","Time":0.00088000297546387},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00071597099304199},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0005490779876709},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00065302848815918}]},"timeleft":false}'
2011.11.10 13:29:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:28 DEBUG: Data chunk = b''
2011.11.10 13:29:29 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:29 DEBUG: Recieving...
2011.11.10 13:29:29 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132929,E03117.8930,N5831.3210,28,27.5377969762419,106,2,1.1,14600,14470mV,0,0,0,0,0,169,0*3F!\r\n'
2011.11.10 13:29:29 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132929,E03117.8930,N5831.3210,28,27.5377969762419,106,2,1.1,14600,14470mV,0,0,0,0,0,169,0*3F!\r\n']
2011.11.10 13:29:29 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132929,E03117.8930,N5831.3210,28,27.5377969762419,106,2,1.1,14600,14470mV,0,0,0,0,0,169,0*3F!

2011.11.10 13:29:29 DEBUG: Raw match found.
2011.11.10 13:29:29 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 28.0, 'azimuth': 106.0, 'longitude': 31.298216666666665, 'odometer': 169.0, 'satellitescount': 2, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132929,E03117.8930,N5831.3210,28,27.5377969762419,106,2,1.1,14600,14470mV,0,0,0,0,0,169,0*3F!', 'time': '2011-11-10T13:29:29.000000', 'latitude': 58.522016666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 169.0, 'digital_input2': 0, 'speed': 51.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 51.0, 'uid': '657460032240926_888'}
2011.11.10 13:29:31 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.50509572029114 seconds\\n","1":"Average query length: 0.010746717453003 seconds\\n","2":"Queries per second: 93.051669439823\\n","3":"Longest query length: 0.33558106422424\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.33558106422424},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0037059783935547},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ohlc7568tu5m1s3onpg27rtbk4\')))","Time":0.00064706802368164},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026569366455078},{"SQL":"select * from obj_info(58372)","Time":0.00057005882263184},{"SQL":"select * from obj_info(58372)","Time":0.00029897689819336},{"SQL":"select * from obj_prop_total(58372)","Time":0.053294897079468},{"SQL":"select obj_is_deleted(58372) as code","Time":0.001446008682251},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00076985359191895},{"SQL":"select obj_is_deleted(104) as code","Time":0.00061511993408203},{"SQL":"select * from obj_info(104)","Time":0.00052118301391602},{"SQL":"select * from f_prop_total(104)","Time":0.017055034637451},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025010108947754},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020098686218262},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035949945449829},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011229515075684},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012650489807129},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00098204612731934},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059795379638672},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00085997581481934},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024349689483643},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033807754516602},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013937950134277},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.001845121383667},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.007875919342041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063419342041016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082802772521973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061178207397461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011250972747803},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059819221496582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057387351989746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062417984008789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063395500183105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076007843017578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006101131439209},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058913230895996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057888031005859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058698654174805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:29:29\') as code","Time":0.015532970428467},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408249\')","Time":0.00074315071105957},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00055909156799316},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00037813186645508},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043606758117676}]},"timeleft":false}'
2011.11.10 13:29:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:31 DEBUG: Data chunk = b''
2011.11.10 13:29:39 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:39 DEBUG: Recieving...
2011.11.10 13:29:39 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132939,E03814.0560,N5555.6960,150,31.317494600431964,156,8,1.1,14600,14470mV,0,0,0,0,0,65,0*32!\r\n'
2011.11.10 13:29:39 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132939,E03814.0560,N5555.6960,150,31.317494600431964,156,8,1.1,14600,14470mV,0,0,0,0,0,65,0*32!\r\n']
2011.11.10 13:29:39 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132939,E03814.0560,N5555.6960,150,31.317494600431964,156,8,1.1,14600,14470mV,0,0,0,0,0,65,0*32!

2011.11.10 13:29:39 DEBUG: Raw match found.
2011.11.10 13:29:39 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 150.0, 'azimuth': 156.0, 'longitude': 38.23426666666667, 'odometer': 65.0, 'satellitescount': 8, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132939,E03814.0560,N5555.6960,150,31.317494600431964,156,8,1.1,14600,14470mV,0,0,0,0,0,65,0*32!', 'time': '2011-11-10T13:29:39.000000', 'latitude': 55.928266666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 65.0, 'digital_input2': 0, 'speed': 58.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 58.0, 'uid': '457460032240926_888'}
2011.11.10 13:29:40 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:40 DEBUG: Recieving...
2011.11.10 13:29:40 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132940,E03117.9830,N5831.3150,27,24.29805615550756,97,1,1.1,14600,14470mV,0,0,0,0,0,88,0*00!\r\n'
2011.11.10 13:29:40 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132940,E03117.9830,N5831.3150,27,24.29805615550756,97,1,1.1,14600,14470mV,0,0,0,0,0,88,0*00!\r\n']
2011.11.10 13:29:40 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132940,E03117.9830,N5831.3150,27,24.29805615550756,97,1,1.1,14600,14470mV,0,0,0,0,0,88,0*00!

2011.11.10 13:29:40 DEBUG: Raw match found.
2011.11.10 13:29:40 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 27.0, 'azimuth': 97.0, 'longitude': 31.299716666666665, 'odometer': 88.0, 'satellitescount': 1, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132940,E03117.9830,N5831.3150,27,24.29805615550756,97,1,1.1,14600,14470mV,0,0,0,0,0,88,0*00!', 'time': '2011-11-10T13:29:40.000000', 'latitude': 58.52191666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 88.0, 'digital_input2': 0, 'speed': 45.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 45.0, 'uid': '657460032240926_888'}
2011.11.10 13:29:40 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.2008650302887 seconds\\n","1":"Average query length: 0.0042737240486957 seconds\\n","2":"Queries per second: 233.98796660847\\n","3":"Longest query length: 0.04309606552124\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.026351928710938},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050899982452393},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ac2enejnvr62s7usj6ml65odl7\')))","Time":0.00090599060058594},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.002769947052002},{"SQL":"select * from obj_info(38910)","Time":0.00071287155151367},{"SQL":"select * from obj_info(38910)","Time":0.00038909912109375},{"SQL":"select * from obj_prop_total(38910)","Time":0.04309606552124},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0019030570983887},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010011196136475},{"SQL":"select obj_is_deleted(104) as code","Time":0.00066113471984863},{"SQL":"select * from obj_info(104)","Time":0.00046014785766602},{"SQL":"select * from f_prop_total(104)","Time":0.01596212387085},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0031168460845947},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0029418468475342},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037353038787842},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011799335479736},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0019018650054932},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00079798698425293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011279582977295},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013060569763184},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045268535614014},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00079989433288574},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0023708343505859},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.003324031829834},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020370483398438},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084996223449707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084900856018066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010268688201904},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083303451538086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092291831970215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087594985961914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085902214050293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088906288146973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070905685424805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069308280944824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015120506286621},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093889236450195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081205368041992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093507766723633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069904327392578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069403648376465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069808959960938},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:29:39\') as code","Time":0.020448923110962},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408250\')","Time":0.00099611282348633},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00092911720275879},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00077700614929199},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00082898139953613}]},"timeleft":false}'
2011.11.10 13:29:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:40 DEBUG: Data chunk = b''
2011.11.10 13:29:41 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17810583114624 seconds\\n","1":"Average query length: 0.0037894857690689 seconds\\n","2":"Queries per second: 263.88804733411\\n","3":"Longest query length: 0.039673089981079\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.02280592918396},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0033988952636719},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'hood8rqa0hngoo6145ec4h0i90\')))","Time":0.00077486038208008},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025179386138916},{"SQL":"select * from obj_info(58372)","Time":0.00052285194396973},{"SQL":"select * from obj_info(58372)","Time":0.00027585029602051},{"SQL":"select * from obj_prop_total(58372)","Time":0.039673089981079},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014009475708008},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0006721019744873},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045895576477051},{"SQL":"select * from obj_info(104)","Time":0.00030207633972168},{"SQL":"select * from f_prop_total(104)","Time":0.014116048812866},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023438930511475},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020289421081543},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031558036804199},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011088848114014},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012412071228027},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00060510635375977},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010838508605957},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012900829315186},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044910907745361},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00080108642578125},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.002094030380249},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0037529468536377},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0022869110107422},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012140274047852},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010039806365967},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089716911315918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093412399291992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086808204650879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009310245513916},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073504447937012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070309638977051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066184997558594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077509880065918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082206726074219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082302093505859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095009803771973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083303451538086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087809562683105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080513954162598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092291831970215},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:29:40\') as code","Time":0.019671201705933},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408251\')","Time":0.00061607360839844},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00051212310791016},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0004580020904541},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00048494338989258}]},"timeleft":false}'
2011.11.10 13:29:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:41 DEBUG: Data chunk = b''
2011.11.10 13:29:44 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:44 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:44 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:44 DEBUG: Recieving...
2011.11.10 13:29:44 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132944,E03752.0190,N5603.6320,167,2.6997840172786174,310,2,1.1,14600,14470mV,0,0,0,0,0,25,0*3E!\r\n'
2011.11.10 13:29:44 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132944,E03752.0190,N5603.6320,167,2.6997840172786174,310,2,1.1,14600,14470mV,0,0,0,0,0,25,0*3E!\r\n']
2011.11.10 13:29:44 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132944,E03752.0190,N5603.6320,167,2.6997840172786174,310,2,1.1,14600,14470mV,0,0,0,0,0,25,0*3E!

2011.11.10 13:29:44 DEBUG: Raw match found.
2011.11.10 13:29:44 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 167.0, 'azimuth': 310.0, 'longitude': 37.86698333333333, 'odometer': 25.0, 'satellitescount': 2, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132944,E03752.0190,N5603.6320,167,2.6997840172786174,310,2,1.1,14600,14470mV,0,0,0,0,0,25,0*3E!', 'time': '2011-11-10T13:29:44.000000', 'latitude': 56.06053333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 25.0, 'digital_input2': 0, 'speed': 5.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 5.0, 'uid': '557460032240926_888'}
2011.11.10 13:29:45 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.25585174560547 seconds\\n","1":"Average query length: 0.0032386296912085 seconds\\n","2":"Queries per second: 308.77256597585\\n","3":"Longest query length: 0.043938875198364\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.021650075912476},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034241676330566},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'pat21j8pagtmhstm1gfmvcaea1\')))","Time":0.00063085556030273},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025839805603027},{"SQL":"select * from obj_info(58369)","Time":0.00060319900512695},{"SQL":"select * from obj_info(58369)","Time":0.00034403800964355},{"SQL":"select * from obj_prop_total(58369)","Time":0.043938875198364},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014169216156006},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00068211555480957},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044798851013184},{"SQL":"select * from obj_info(104)","Time":0.00028586387634277},{"SQL":"select * from f_prop_total(104)","Time":0.014357089996338},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025548934936523},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019369125366211},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032700061798096},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0014541149139404},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.001298189163208},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00062990188598633},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011618137359619},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013020038604736},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.00459885597229},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00076889991760254},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0022561550140381},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0032141208648682},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0021300315856934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009760856628418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094699859619141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093507766723633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090408325195312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087308883666992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011110305786133},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098609924316406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095701217651367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087499618530273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092887878417969},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076794624328613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079488754272461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076818466186523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007178783416748},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083398818969727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075316429138184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072097778320312},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:29:44\') as code","Time":0.01844310760498},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408252\')","Time":0.00075292587280273},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00058221817016602},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0004730224609375},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0005650520324707},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00068497657775879},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408247)","Time":0.00049400329589844},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00038599967956543},{"SQL":"select * from acc_list(58369)","Time":0.00092291831970215},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.002357006072998},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00098800659179688},{"SQL":"select z_has_point(1002846847, 56.060383333333, 37.8673, null) as state","Time":0.0030980110168457},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00033903121948242},{"SQL":"select z_has_point(171930, 56.060383333333, 37.8673, null) as state","Time":0.0022499561309814},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00030994415283203},{"SQL":"select z_has_point(1387421, 56.060383333333, 37.8673, null) as state","Time":0.0022461414337158},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00029993057250977},{"SQL":"select z_has_point(1387486, 56.060383333333, 37.8673, null) as state","Time":0.0024430751800537},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00031304359436035},{"SQL":"select z_has_point(1387485, 56.060383333333, 37.8673, null) as state","Time":0.0027050971984863},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00033092498779297},{"SQL":"select z_has_point(1387499, 56.060383333333, 37.8673, null) as state","Time":0.0021440982818604},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00041508674621582},{"SQL":"select z_has_point(1387483, 56.060383333333, 37.8673, null) as state","Time":0.0020759105682373},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00041413307189941},{"SQL":"select z_has_point(1387484, 56.060383333333, 37.8673, null) as state","Time":0.0021347999572754},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00038003921508789},{"SQL":"select z_has_point(1387619, 56.060383333333, 37.8673, null) as state","Time":0.0023479461669922},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00031185150146484},{"SQL":"select z_has_point(8710, 56.060383333333, 37.8673, null) as state","Time":0.0021848678588867},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00034189224243164},{"SQL":"select z_has_point(1002827265, 56.060383333333, 37.8673, null) as state","Time":0.0021719932556152},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00030994415283203},{"SQL":"select z_has_point(37627, 56.060383333333, 37.8673, null) as state","Time":0.0021541118621826},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00065898895263672},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021933078765869},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:29:25\') as code","Time":0.013667106628418}]},"timeleft":false}'
2011.11.10 13:29:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:45 DEBUG: Data chunk = b''
2011.11.10 13:29:51 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:51 DEBUG: Recieving...
2011.11.10 13:29:51 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,132951,E03118.0390,N5831.3170,27,26.457883369330453,86,1,1.1,14600,14470mV,0,0,0,0,0,54,0*3D!\r\n'
2011.11.10 13:29:51 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,132951,E03118.0390,N5831.3170,27,26.457883369330453,86,1,1.1,14600,14470mV,0,0,0,0,0,54,0*3D!\r\n']
2011.11.10 13:29:51 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,132951,E03118.0390,N5831.3170,27,26.457883369330453,86,1,1.1,14600,14470mV,0,0,0,0,0,54,0*3D!

2011.11.10 13:29:51 DEBUG: Raw match found.
2011.11.10 13:29:51 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 27.0, 'azimuth': 86.0, 'longitude': 31.30065, 'odometer': 54.0, 'satellitescount': 1, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,132951,E03118.0390,N5831.3170,27,26.457883369330453,86,1,1.1,14600,14470mV,0,0,0,0,0,54,0*3D!', 'time': '2011-11-10T13:29:51.000000', 'latitude': 58.52195, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 54.0, 'digital_input2': 0, 'speed': 49.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 49.0, 'uid': '657460032240926_888'}
2011.11.10 13:29:52 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18264365196228 seconds\\n","1":"Average query length: 0.0038860351481336 seconds\\n","2":"Queries per second: 257.33169204099\\n","3":"Longest query length: 0.04702615737915\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.025014162063599},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034849643707275},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'vjvpiemdhpvrrajr225u1k8gv7\')))","Time":0.00097179412841797},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0036990642547607},{"SQL":"select * from obj_info(58372)","Time":0.00055193901062012},{"SQL":"select * from obj_info(58372)","Time":0.00026607513427734},{"SQL":"select * from obj_prop_total(58372)","Time":0.04702615737915},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014278888702393},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00071287155151367},{"SQL":"select obj_is_deleted(104) as code","Time":0.00043702125549316},{"SQL":"select * from obj_info(104)","Time":0.00026297569274902},{"SQL":"select * from f_prop_total(104)","Time":0.014709949493408},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0031449794769287},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021438598632812},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035572052001953},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0019218921661377},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.001399040222168},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066590309143066},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00057888031005859},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006101131439209},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025169849395752},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00031685829162598},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011370182037354},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018429756164551},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013339519500732},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008549690246582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052118301391602},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050497055053711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050997734069824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0027620792388916},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079107284545898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068211555480957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054216384887695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050997734069824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052714347839355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051188468933105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049901008605957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069880485534668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054478645324707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050902366638184},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:29:51\') as code","Time":0.016901969909668},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408253\')","Time":0.00064516067504883},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00050187110900879},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0003662109375},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00045394897460938}]},"timeleft":false}'
2011.11.10 13:29:52 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:52 DEBUG: Data chunk = b''
2011.11.10 13:29:54 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:54 DEBUG: Recieving...
2011.11.10 13:29:54 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,132954,E03751.9840,N5603.6450,167,4.319654427645788,302,4,1.1,14600,14470mV,0,0,0,0,0,43,0*0D!\r\n'
2011.11.10 13:29:54 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,132954,E03751.9840,N5603.6450,167,4.319654427645788,302,4,1.1,14600,14470mV,0,0,0,0,0,43,0*0D!\r\n']
2011.11.10 13:29:54 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,132954,E03751.9840,N5603.6450,167,4.319654427645788,302,4,1.1,14600,14470mV,0,0,0,0,0,43,0*0D!

2011.11.10 13:29:54 DEBUG: Raw match found.
2011.11.10 13:29:54 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 167.0, 'azimuth': 302.0, 'longitude': 37.8664, 'odometer': 43.0, 'satellitescount': 4, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,132954,E03751.9840,N5603.6450,167,4.319654427645788,302,4,1.1,14600,14470mV,0,0,0,0,0,43,0*0D!', 'time': '2011-11-10T13:29:54.000000', 'latitude': 56.06075, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 43.0, 'digital_input2': 0, 'speed': 8.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 8.0, 'uid': '557460032240926_888'}
2011.11.10 13:29:54 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:29:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:29:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:29:54 DEBUG: Recieving...
2011.11.10 13:29:54 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,132954,E03814.0990,N5555.6430,151,35.09719222462203,156,9,1.1,14600,14470mV,0,0,0,0,0,108,0*3E!\r\n'
2011.11.10 13:29:54 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,132954,E03814.0990,N5555.6430,151,35.09719222462203,156,9,1.1,14600,14470mV,0,0,0,0,0,108,0*3E!\r\n']
2011.11.10 13:29:54 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,132954,E03814.0990,N5555.6430,151,35.09719222462203,156,9,1.1,14600,14470mV,0,0,0,0,0,108,0*3E!

2011.11.10 13:29:54 DEBUG: Raw match found.
2011.11.10 13:29:54 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 151.0, 'azimuth': 156.0, 'longitude': 38.23498333333333, 'odometer': 108.0, 'satellitescount': 9, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,132954,E03814.0990,N5555.6430,151,35.09719222462203,156,9,1.1,14600,14470mV,0,0,0,0,0,108,0*3E!', 'time': '2011-11-10T13:29:54.000000', 'latitude': 55.92738333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 108.0, 'digital_input2': 0, 'speed': 65.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 65.0, 'uid': '457460032240926_888'}
2011.11.10 13:29:55 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.1987509727478 seconds\\n","1":"Average query length: 0.0042287441010171 seconds\\n","2":"Queries per second: 236.47683002608\\n","3":"Longest query length: 0.052838087081909\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.031408071517944},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050861835479736},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'c145kott1k3lpm6r9ul6fqagc1\')))","Time":0.001129150390625},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026829242706299},{"SQL":"select * from obj_info(38910)","Time":0.00080299377441406},{"SQL":"select * from obj_info(38910)","Time":0.00038886070251465},{"SQL":"select * from obj_prop_total(38910)","Time":0.052838087081909},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0020771026611328},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00093293190002441},{"SQL":"select obj_is_deleted(104) as code","Time":0.00048208236694336},{"SQL":"select * from obj_info(104)","Time":0.00028896331787109},{"SQL":"select * from f_prop_total(104)","Time":0.022902011871338},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0035510063171387},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021300315856934},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034353971481323},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0016038417816162},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0021040439605713},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00095510482788086},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059199333190918},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00075697898864746},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025789737701416},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00041699409484863},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014650821685791},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.002112865447998},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012660026550293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055694580078125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053191184997559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051403045654297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005190372467041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005040168762207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049901008605957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004889965057373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047802925109863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046491622924805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005490779876709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055909156799316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004889965057373},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:29:54\') as code","Time":0.013291835784912},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408254\')","Time":0.00053596496582031},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0004420280456543},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00033998489379883},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040197372436523}]},"timeleft":false}'
2011.11.10 13:29:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:55 DEBUG: Data chunk = b''
2011.11.10 13:29:55 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.31902980804443 seconds\\n","1":"Average query length: 0.0040383520005625 seconds\\n","2":"Queries per second: 247.62576413862\\n","3":"Longest query length: 0.07074499130249\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.027467012405396},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0057129859924316},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ka05jurlt6mh5t71duc3svda43\')))","Time":0.00091385841369629},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.003986120223999},{"SQL":"select * from obj_info(58369)","Time":0.00080704689025879},{"SQL":"select * from obj_info(58369)","Time":0.00040078163146973},{"SQL":"select * from obj_prop_total(58369)","Time":0.07074499130249},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0024428367614746},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0010879039764404},{"SQL":"select obj_is_deleted(104) as code","Time":0.00070500373840332},{"SQL":"select * from obj_info(104)","Time":0.0003969669342041},{"SQL":"select * from f_prop_total(104)","Time":0.023967981338501},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038809776306152},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0033228397369385},{"SQL":"select * from t_options(\'1006667041\')","Time":0.050218820571899},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0016560554504395},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012221336364746},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064706802368164},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00094199180603027},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00084209442138672},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0036458969116211},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00031805038452148},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013628005981445},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.001762866973877},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010092258453369},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048589706420898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039792060852051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046396255493164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00037002563476562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0003669261932373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040197372436523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00038290023803711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00037384033203125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00035595893859863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00035381317138672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00036001205444336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00035691261291504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044608116149902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00036406517028809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00035405158996582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00036311149597168},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010190010070801},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:29:54\') as code","Time":0.018643140792847},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408255\')","Time":0.00059413909912109},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044512748718262},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035381317138672},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0004420280456543},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00054788589477539},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408252)","Time":0.0004880428314209},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00028705596923828},{"SQL":"select * from acc_list(58369)","Time":0.0008089542388916},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0021069049835205},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00075984001159668},{"SQL":"select z_has_point(1002846847, 56.060533333333, 37.866983333333, null) as state","Time":0.0034291744232178},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00031590461730957},{"SQL":"select z_has_point(171930, 56.060533333333, 37.866983333333, null) as state","Time":0.002777099609375},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0002741813659668},{"SQL":"select z_has_point(1387421, 56.060533333333, 37.866983333333, null) as state","Time":0.0023331642150879},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00033712387084961},{"SQL":"select z_has_point(1387486, 56.060533333333, 37.866983333333, null) as state","Time":0.0035250186920166},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00029492378234863},{"SQL":"select z_has_point(1387485, 56.060533333333, 37.866983333333, null) as state","Time":0.0040349960327148},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00030994415283203},{"SQL":"select z_has_point(1387499, 56.060533333333, 37.866983333333, null) as state","Time":0.0026321411132812},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00032711029052734},{"SQL":"select z_has_point(1387483, 56.060533333333, 37.866983333333, null) as state","Time":0.0023391246795654},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00032186508178711},{"SQL":"select z_has_point(1387484, 56.060533333333, 37.866983333333, null) as state","Time":0.0021750926971436},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00031495094299316},{"SQL":"select z_has_point(1387619, 56.060533333333, 37.866983333333, null) as state","Time":0.0024199485778809},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00027799606323242},{"SQL":"select z_has_point(8710, 56.060533333333, 37.866983333333, null) as state","Time":0.0022671222686768},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00026607513427734},{"SQL":"select z_has_point(1002827265, 56.060533333333, 37.866983333333, null) as state","Time":0.002608060836792},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00023889541625977},{"SQL":"select z_has_point(37627, 56.060533333333, 37.866983333333, null) as state","Time":0.0021870136260986},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00062704086303711},{"SQL":"select * from notif_get_by_object(58369)","Time":0.023658990859985},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:29:44\') as code","Time":0.016579151153564}]},"timeleft":false}'
2011.11.10 13:29:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:29:55 DEBUG: Data chunk = b''
2011.11.10 13:30:05 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:05 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:05 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:05 DEBUG: Recieving...
2011.11.10 13:30:05 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133005,E03118.0980,N5831.3290,26,29.697624190064793,69,2,1.1,14600,14470mV,0,0,0,0,0,61,0*3C!\r\n'
2011.11.10 13:30:05 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133005,E03118.0980,N5831.3290,26,29.697624190064793,69,2,1.1,14600,14470mV,0,0,0,0,0,61,0*3C!\r\n']
2011.11.10 13:30:05 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133005,E03118.0980,N5831.3290,26,29.697624190064793,69,2,1.1,14600,14470mV,0,0,0,0,0,61,0*3C!

2011.11.10 13:30:05 DEBUG: Raw match found.
2011.11.10 13:30:05 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 69.0, 'longitude': 31.301633333333335, 'odometer': 61.0, 'satellitescount': 2, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133005,E03118.0980,N5831.3290,26,29.697624190064793,69,2,1.1,14600,14470mV,0,0,0,0,0,61,0*3C!', 'time': '2011-11-10T13:30:05.000000', 'latitude': 58.52215, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 61.0, 'digital_input2': 0, 'speed': 55.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 55.0, 'uid': '657460032240926_888'}
2011.11.10 13:30:06 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:06 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:06 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:06 DEBUG: Recieving...
2011.11.10 13:30:06 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133006,E03814.1320,N5555.6000,152,33.47732181425486,156,12,1.1,14600,14470mV,0,0,0,0,0,86,0*3F!\r\n'
2011.11.10 13:30:06 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133006,E03814.1320,N5555.6000,152,33.47732181425486,156,12,1.1,14600,14470mV,0,0,0,0,0,86,0*3F!\r\n']
2011.11.10 13:30:06 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133006,E03814.1320,N5555.6000,152,33.47732181425486,156,12,1.1,14600,14470mV,0,0,0,0,0,86,0*3F!

2011.11.10 13:30:06 DEBUG: Raw match found.
2011.11.10 13:30:06 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 152.0, 'azimuth': 156.0, 'longitude': 38.235533333333336, 'odometer': 86.0, 'satellitescount': 12, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133006,E03814.1320,N5555.6000,152,33.47732181425486,156,12,1.1,14600,14470mV,0,0,0,0,0,86,0*3F!', 'time': '2011-11-10T13:30:06.000000', 'latitude': 55.92666666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 86.0, 'digital_input2': 0, 'speed': 62.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 62.0, 'uid': '457460032240926_888'}
2011.11.10 13:30:06 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.20335292816162 seconds\\n","1":"Average query length: 0.0043266580459919 seconds\\n","2":"Queries per second: 231.12526790195\\n","3":"Longest query length: 0.052412033081055\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.027256965637207},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050528049468994},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'mibh37ug8rbkc0i6q19hv4e803\')))","Time":0.00068497657775879},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0042729377746582},{"SQL":"select * from obj_info(58372)","Time":0.00089097023010254},{"SQL":"select * from obj_info(58372)","Time":0.00047993659973145},{"SQL":"select * from obj_prop_total(58372)","Time":0.052412033081055},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0015339851379395},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0007469654083252},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046110153198242},{"SQL":"select * from obj_info(104)","Time":0.00028705596923828},{"SQL":"select * from f_prop_total(104)","Time":0.018125057220459},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0044379234313965},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026731491088867},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038771867752075},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.001121997833252},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012581348419189},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00095891952514648},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0012259483337402},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013349056243896},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027730464935303},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00041007995605469},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013511180877686},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.00223708152771},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011751651763916},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005500316619873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0019309520721436},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095009803771973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076198577880859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000823974609375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082302093505859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001068115234375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090408325195312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070691108703613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006859302520752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067782402038574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064992904663086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007169246673584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073695182800293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074911117553711},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:30:05\') as code","Time":0.015744924545288},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408256\')","Time":0.00052905082702637},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044107437133789},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00036191940307617},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0004119873046875}]},"timeleft":false}'
2011.11.10 13:30:06 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:06 DEBUG: Data chunk = b''
2011.11.10 13:30:07 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21962594985962 seconds\\n","1":"Average query length: 0.0046728925502047 seconds\\n","2":"Queries per second: 214.00021277104\\n","3":"Longest query length: 0.063047885894775\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.027338981628418},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0038831233978271},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'0bgi1ch4fne5m4f2k6cjbehqt3\')))","Time":0.00094795227050781},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0037930011749268},{"SQL":"select * from obj_info(38910)","Time":0.00077605247497559},{"SQL":"select * from obj_info(38910)","Time":0.00040006637573242},{"SQL":"select * from obj_prop_total(38910)","Time":0.063047885894775},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0022690296173096},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.001115083694458},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047612190246582},{"SQL":"select * from obj_info(104)","Time":0.00029802322387695},{"SQL":"select * from f_prop_total(104)","Time":0.021105051040649},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0036389827728271},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002842903137207},{"SQL":"select * from t_options(\'1006667041\')","Time":0.049320220947266},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0015990734100342},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0020108222961426},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00094509124755859},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00071620941162109},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00083518028259277},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0031659603118896},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00041294097900391},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012750625610352},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018470287322998},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001039981842041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008699893951416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052094459533691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052905082702637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004880428314209},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050687789916992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049090385437012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010471343994141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062799453735352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058889389038086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058698654174805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062990188598633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053310394287109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051784515380859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052881240844727},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:30:06\') as code","Time":0.012115001678467},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408257\')","Time":0.00067687034606934},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0005638599395752},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00043487548828125},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0005190372467041}]},"timeleft":false}'
2011.11.10 13:30:07 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:07 DEBUG: Data chunk = b''
2011.11.10 13:30:14 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:14 DEBUG: Recieving...
2011.11.10 13:30:14 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133014,E03751.9360,N5603.6570,167,5.939524838012959,295,3,1.1,14600,14470mV,0,0,0,0,0,55,0*0D!\r\n'
2011.11.10 13:30:14 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133014,E03751.9360,N5603.6570,167,5.939524838012959,295,3,1.1,14600,14470mV,0,0,0,0,0,55,0*0D!\r\n']
2011.11.10 13:30:14 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133014,E03751.9360,N5603.6570,167,5.939524838012959,295,3,1.1,14600,14470mV,0,0,0,0,0,55,0*0D!

2011.11.10 13:30:14 DEBUG: Raw match found.
2011.11.10 13:30:14 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 167.0, 'azimuth': 295.0, 'longitude': 37.8656, 'odometer': 55.0, 'satellitescount': 3, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133014,E03751.9360,N5603.6570,167,5.939524838012959,295,3,1.1,14600,14470mV,0,0,0,0,0,55,0*0D!', 'time': '2011-11-10T13:30:14.000000', 'latitude': 56.06095, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 55.0, 'digital_input2': 0, 'speed': 11.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 11.0, 'uid': '557460032240926_888'}
2011.11.10 13:30:15 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.24987602233887 seconds\\n","1":"Average query length: 0.0031629876245426 seconds\\n","2":"Queries per second: 316.15678551528\\n","3":"Longest query length: 0.043295860290527\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.032695055007935},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034730434417725},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'bcof4gs55bkdjlb0jut42vu005\')))","Time":0.00063991546630859},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0023949146270752},{"SQL":"select * from obj_info(58369)","Time":0.00051379203796387},{"SQL":"select * from obj_info(58369)","Time":0.00030088424682617},{"SQL":"select * from obj_prop_total(58369)","Time":0.043295860290527},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014030933380127},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00067019462585449},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045299530029297},{"SQL":"select * from obj_info(104)","Time":0.00028181076049805},{"SQL":"select * from f_prop_total(104)","Time":0.01606297492981},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0029160976409912},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020039081573486},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032083034515381},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012099742889404},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012331008911133},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068497657775879},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00069403648376465},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065803527832031},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023150444030762},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033283233642578},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014050006866455},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017881393432617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001025915145874},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066781044006348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065493583679199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007328987121582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054407119750977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056791305541992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066685676574707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062799453735352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067305564880371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063991546630859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064706802368164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059390068054199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062704086303711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061893463134766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059390068054199},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:30:14\') as code","Time":0.014358997344971},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408258\')","Time":0.00054383277893066},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049781799316406},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00037312507629395},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044488906860352},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00070691108703613},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408255)","Time":0.0004279613494873},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00029897689819336},{"SQL":"select * from acc_list(58369)","Time":0.00072598457336426},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0018558502197266},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00077390670776367},{"SQL":"select z_has_point(1002846847, 56.06075, 37.8664, null) as state","Time":0.0035619735717773},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00027704238891602},{"SQL":"select z_has_point(171930, 56.06075, 37.8664, null) as state","Time":0.0022358894348145},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00027298927307129},{"SQL":"select z_has_point(1387421, 56.06075, 37.8664, null) as state","Time":0.0021672248840332},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00033187866210938},{"SQL":"select z_has_point(1387486, 56.06075, 37.8664, null) as state","Time":0.0026459693908691},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026488304138184},{"SQL":"select z_has_point(1387485, 56.06075, 37.8664, null) as state","Time":0.0021350383758545},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0002589225769043},{"SQL":"select z_has_point(1387499, 56.06075, 37.8664, null) as state","Time":0.0020749568939209},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00024986267089844},{"SQL":"select z_has_point(1387483, 56.06075, 37.8664, null) as state","Time":0.0023951530456543},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00027203559875488},{"SQL":"select z_has_point(1387484, 56.06075, 37.8664, null) as state","Time":0.0020840167999268},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00029516220092773},{"SQL":"select z_has_point(1387619, 56.06075, 37.8664, null) as state","Time":0.0022659301757812},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00026082992553711},{"SQL":"select z_has_point(8710, 56.06075, 37.8664, null) as state","Time":0.0030338764190674},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00030684471130371},{"SQL":"select z_has_point(1002827265, 56.06075, 37.8664, null) as state","Time":0.0021378993988037},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00030708312988281},{"SQL":"select z_has_point(37627, 56.06075, 37.8664, null) as state","Time":0.0021610260009766},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00092220306396484},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022000074386597},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:29:54\') as code","Time":0.012869119644165}]},"timeleft":false}'
2011.11.10 13:30:15 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:15 DEBUG: Data chunk = b''
2011.11.10 13:30:18 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:18 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:18 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:18 DEBUG: Recieving...
2011.11.10 13:30:18 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133018,E03118.3170,N5831.4100,26,31.317494600431964,55,1,1.1,14600,14470mV,0,0,0,0,0,259,0*0D!\r\n'
2011.11.10 13:30:18 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133018,E03118.3170,N5831.4100,26,31.317494600431964,55,1,1.1,14600,14470mV,0,0,0,0,0,259,0*0D!\r\n']
2011.11.10 13:30:18 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133018,E03118.3170,N5831.4100,26,31.317494600431964,55,1,1.1,14600,14470mV,0,0,0,0,0,259,0*0D!

2011.11.10 13:30:18 DEBUG: Raw match found.
2011.11.10 13:30:18 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 55.0, 'longitude': 31.305283333333332, 'odometer': 259.0, 'satellitescount': 1, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133018,E03118.3170,N5831.4100,26,31.317494600431964,55,1,1.1,14600,14470mV,0,0,0,0,0,259,0*0D!', 'time': '2011-11-10T13:30:18.000000', 'latitude': 58.5235, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 259.0, 'digital_input2': 0, 'speed': 58.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 58.0, 'uid': '657460032240926_888'}
2011.11.10 13:30:19 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:19 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:19 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:19 DEBUG: Recieving...
2011.11.10 13:30:19 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133019,E03814.1690,N5555.5470,151,34.01727861771058,159,8,1.1,14600,14470mV,0,0,0,0,0,105,0*31!\r\n'
2011.11.10 13:30:19 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133019,E03814.1690,N5555.5470,151,34.01727861771058,159,8,1.1,14600,14470mV,0,0,0,0,0,105,0*31!\r\n']
2011.11.10 13:30:19 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133019,E03814.1690,N5555.5470,151,34.01727861771058,159,8,1.1,14600,14470mV,0,0,0,0,0,105,0*31!

2011.11.10 13:30:19 DEBUG: Raw match found.
2011.11.10 13:30:19 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 151.0, 'azimuth': 159.0, 'longitude': 38.23615, 'odometer': 105.0, 'satellitescount': 8, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133019,E03814.1690,N5555.5470,151,34.01727861771058,159,8,1.1,14600,14470mV,0,0,0,0,0,105,0*31!', 'time': '2011-11-10T13:30:19.000000', 'latitude': 55.925783333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 105.0, 'digital_input2': 0, 'speed': 63.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 63.0, 'uid': '457460032240926_888'}
2011.11.10 13:30:19 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18396830558777 seconds\\n","1":"Average query length: 0.0039142192678249 seconds\\n","2":"Queries per second: 255.47878940254\\n","3":"Longest query length: 0.047731876373291\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.023123025894165},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.00347900390625},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ud6muek5k01g4qpo0jr1cb7he1\')))","Time":0.00064611434936523},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025310516357422},{"SQL":"select * from obj_info(58372)","Time":0.00069904327392578},{"SQL":"select * from obj_info(58372)","Time":0.00027608871459961},{"SQL":"select * from obj_prop_total(58372)","Time":0.047731876373291},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014510154724121},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00090909004211426},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045108795166016},{"SQL":"select * from obj_info(104)","Time":0.00026798248291016},{"SQL":"select * from f_prop_total(104)","Time":0.018097162246704},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026938915252686},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021181106567383},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037252902984619},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0016660690307617},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0019669532775879},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065016746520996},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00079798698425293},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068187713623047},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024509429931641},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040793418884277},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012259483337402},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019259452819824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010228157043457},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046181678771973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042605400085449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044798851013184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041985511779785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042891502380371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004119873046875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001349925994873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010108947753906},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057196617126465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054287910461426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005490779876709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054192543029785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054287910461426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057077407836914},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:30:18\') as code","Time":0.017669200897217},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408259\')","Time":0.00069904327392578},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044894218444824},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00033092498779297},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00039315223693848}]},"timeleft":false}'
2011.11.10 13:30:19 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:19 DEBUG: Data chunk = b''
2011.11.10 13:30:20 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17394638061523 seconds\\n","1":"Average query length: 0.0037009868216007 seconds\\n","2":"Queries per second: 270.19820610101\\n","3":"Longest query length: 0.042279958724976\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.022592067718506},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.005608081817627},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'s0cehqrrvscdult2saqdq048g4\')))","Time":0.00070595741271973},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025041103363037},{"SQL":"select * from obj_info(38910)","Time":0.00056099891662598},{"SQL":"select * from obj_info(38910)","Time":0.00028586387634277},{"SQL":"select * from obj_prop_total(38910)","Time":0.042279958724976},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014081001281738},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00069999694824219},{"SQL":"select obj_is_deleted(104) as code","Time":0.00043606758117676},{"SQL":"select * from obj_info(104)","Time":0.00026202201843262},{"SQL":"select * from f_prop_total(104)","Time":0.017513036727905},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0028889179229736},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020561218261719},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034796953201294},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0014200210571289},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013959407806396},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00062704086303711},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0005948543548584},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00084090232849121},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0028529167175293},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040292739868164},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014479160308838},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019099712371826},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098180770874023},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056791305541992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055694580078125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073695182800293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064802169799805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062990188598633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056695938110352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010261535644531},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062012672424316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006859302520752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011100769042969},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006260871887207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058794021606445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058412551879883},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:30:19\') as code","Time":0.013495922088623},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408260\')","Time":0.00058603286743164},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00065088272094727},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00041389465332031},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040912628173828}]},"timeleft":false}'
2011.11.10 13:30:20 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:20 DEBUG: Data chunk = b''
2011.11.10 13:30:28 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:28 DEBUG: Recieving...
2011.11.10 13:30:28 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133028,E03751.8370,N5603.6790,166,15.118790496760258,292,1,1.1,14600,14470mV,0,0,0,0,0,111,0*0C!\r\n'
2011.11.10 13:30:28 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133028,E03751.8370,N5603.6790,166,15.118790496760258,292,1,1.1,14600,14470mV,0,0,0,0,0,111,0*0C!\r\n']
2011.11.10 13:30:28 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133028,E03751.8370,N5603.6790,166,15.118790496760258,292,1,1.1,14600,14470mV,0,0,0,0,0,111,0*0C!

2011.11.10 13:30:28 DEBUG: Raw match found.
2011.11.10 13:30:28 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 166.0, 'azimuth': 292.0, 'longitude': 37.86395, 'odometer': 111.0, 'satellitescount': 1, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133028,E03751.8370,N5603.6790,166,15.118790496760258,292,1,1.1,14600,14470mV,0,0,0,0,0,111,0*0C!', 'time': '2011-11-10T13:30:28.000000', 'latitude': 56.06131666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 111.0, 'digital_input2': 0, 'speed': 28.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 28.0, 'uid': '557460032240926_888'}
2011.11.10 13:30:28 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:28 DEBUG: Recieving...
2011.11.10 13:30:28 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133028,E03118.5530,N5831.5060,26,35.09719222462203,52,6,1.1,14600,14470mV,0,0,0,0,0,290,0*3D!\r\n'
2011.11.10 13:30:28 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133028,E03118.5530,N5831.5060,26,35.09719222462203,52,6,1.1,14600,14470mV,0,0,0,0,0,290,0*3D!\r\n']
2011.11.10 13:30:28 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133028,E03118.5530,N5831.5060,26,35.09719222462203,52,6,1.1,14600,14470mV,0,0,0,0,0,290,0*3D!

2011.11.10 13:30:28 DEBUG: Raw match found.
2011.11.10 13:30:28 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 52.0, 'longitude': 31.309216666666668, 'odometer': 290.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133028,E03118.5530,N5831.5060,26,35.09719222462203,52,6,1.1,14600,14470mV,0,0,0,0,0,290,0*3D!', 'time': '2011-11-10T13:30:28.000000', 'latitude': 58.5251, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 290.0, 'digital_input2': 0, 'speed': 65.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 65.0, 'uid': '657460032240926_888'}
2011.11.10 13:30:29 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18183517456055 seconds\\n","1":"Average query length: 0.0038688335012882 seconds\\n","2":"Queries per second: 258.47584282627\\n","3":"Longest query length: 0.046029090881348\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.028253078460693},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0049209594726562},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'fqco47daqfdv9a8mugo428v6g3\')))","Time":0.00078105926513672},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0035049915313721},{"SQL":"select * from obj_info(58372)","Time":0.00065803527832031},{"SQL":"select * from obj_info(58372)","Time":0.00031208992004395},{"SQL":"select * from obj_prop_total(58372)","Time":0.046029090881348},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0013389587402344},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00081896781921387},{"SQL":"select obj_is_deleted(104) as code","Time":0.00042486190795898},{"SQL":"select * from obj_info(104)","Time":0.00024199485778809},{"SQL":"select * from f_prop_total(104)","Time":0.014704942703247},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025730133056641},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021171569824219},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032197952270508},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011169910430908},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0012750625610352},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006711483001709},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00095510482788086},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0011498928070068},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0050890445709229},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00042104721069336},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012781620025635},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018610954284668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010640621185303},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072503089904785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066184997558594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069093704223633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065898895263672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056815147399902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073504447937012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074505805969238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075888633728027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085687637329102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065994262695312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005948543548584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059890747070312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058889389038086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080108642578125},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:30:28\') as code","Time":0.014914989471436},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408262\')","Time":0.0004570484161377},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00040698051452637},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00047802925109863},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00042390823364258}]},"timeleft":false}'
2011.11.10 13:30:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:29 DEBUG: Data chunk = b''
2011.11.10 13:30:29 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.2685341835022 seconds\\n","1":"Average query length: 0.0033991668797746 seconds\\n","2":"Queries per second: 294.18973394631\\n","3":"Longest query length: 0.047553062438965\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.022263050079346},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034449100494385},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'k2hipgv8irgjk30fnt4g6v87a1\')))","Time":0.00075197219848633},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026488304138184},{"SQL":"select * from obj_info(58369)","Time":0.00050592422485352},{"SQL":"select * from obj_info(58369)","Time":0.00025486946105957},{"SQL":"select * from obj_prop_total(58369)","Time":0.047553062438965},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0016670227050781},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.001060962677002},{"SQL":"select obj_is_deleted(104) as code","Time":0.00073790550231934},{"SQL":"select * from obj_info(104)","Time":0.00039792060852051},{"SQL":"select * from f_prop_total(104)","Time":0.0238938331604},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0036129951477051},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020668506622314},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034917831420898},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0010578632354736},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011510848999023},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00090408325195312},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0013408660888672},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.001291036605835},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045120716094971},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0012259483337402},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021400451660156},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018219947814941},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00136399269104},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070619583129883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068497657775879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014088153839111},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058698654174805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052881240844727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005948543548584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056576728820801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009160041809082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006718635559082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066804885864258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076413154602051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055289268493652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055384635925293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005500316619873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:30:28\') as code","Time":0.01485013961792},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408261\')","Time":0.00052785873413086},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00047492980957031},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035500526428223},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043320655822754},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00052404403686523},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408258)","Time":0.0003960132598877},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00028014183044434},{"SQL":"select * from acc_list(58369)","Time":0.0007319450378418},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019199848175049},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0057029724121094},{"SQL":"select z_has_point(1002846847, 56.06095, 37.8656, null) as state","Time":0.0033221244812012},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00049901008605957},{"SQL":"select z_has_point(171930, 56.06095, 37.8656, null) as state","Time":0.0022881031036377},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00035309791564941},{"SQL":"select z_has_point(1387421, 56.06095, 37.8656, null) as state","Time":0.0021660327911377},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00031590461730957},{"SQL":"select z_has_point(1387486, 56.06095, 37.8656, null) as state","Time":0.0021748542785645},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00041294097900391},{"SQL":"select z_has_point(1387485, 56.06095, 37.8656, null) as state","Time":0.0020830631256104},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00033998489379883},{"SQL":"select z_has_point(1387499, 56.06095, 37.8656, null) as state","Time":0.0021650791168213},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00029587745666504},{"SQL":"select z_has_point(1387483, 56.06095, 37.8656, null) as state","Time":0.0021381378173828},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00030708312988281},{"SQL":"select z_has_point(1387484, 56.06095, 37.8656, null) as state","Time":0.0020871162414551},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00035619735717773},{"SQL":"select z_has_point(1387619, 56.06095, 37.8656, null) as state","Time":0.0022649765014648},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00031495094299316},{"SQL":"select z_has_point(8710, 56.06095, 37.8656, null) as state","Time":0.0022740364074707},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00035214424133301},{"SQL":"select z_has_point(1002827265, 56.06095, 37.8656, null) as state","Time":0.002147912979126},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00040698051452637},{"SQL":"select z_has_point(37627, 56.06095, 37.8656, null) as state","Time":0.0021450519561768},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00066399574279785},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021857023239136},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:30:14\') as code","Time":0.014552116394043}]},"timeleft":false}'
2011.11.10 13:30:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:29 DEBUG: Data chunk = b''
2011.11.10 13:30:34 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:34 DEBUG: Recieving...
2011.11.10 13:30:34 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133034,E03814.2080,N5555.4930,151,35.09719222462203,158,6,1.1,14600,14470mV,0,0,0,0,0,108,0*34!\r\n'
2011.11.10 13:30:34 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133034,E03814.2080,N5555.4930,151,35.09719222462203,158,6,1.1,14600,14470mV,0,0,0,0,0,108,0*34!\r\n']
2011.11.10 13:30:34 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133034,E03814.2080,N5555.4930,151,35.09719222462203,158,6,1.1,14600,14470mV,0,0,0,0,0,108,0*34!

2011.11.10 13:30:34 DEBUG: Raw match found.
2011.11.10 13:30:34 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 151.0, 'azimuth': 158.0, 'longitude': 38.2368, 'odometer': 108.0, 'satellitescount': 6, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133034,E03814.2080,N5555.4930,151,35.09719222462203,158,6,1.1,14600,14470mV,0,0,0,0,0,108,0*34!', 'time': '2011-11-10T13:30:34.000000', 'latitude': 55.924883333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 108.0, 'digital_input2': 0, 'speed': 65.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 65.0, 'uid': '457460032240926_888'}
2011.11.10 13:30:35 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.1749107837677 seconds\\n","1":"Average query length: 0.0037215060376106 seconds\\n","2":"Queries per second: 268.7084180151\\n","3":"Longest query length: 0.040133953094482\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.027942895889282},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0043091773986816},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'nn1vsd4acb5uud9a3a2u8b5v32\')))","Time":0.00053787231445312},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0027577877044678},{"SQL":"select * from obj_info(38910)","Time":0.00053095817565918},{"SQL":"select * from obj_info(38910)","Time":0.00027704238891602},{"SQL":"select * from obj_prop_total(38910)","Time":0.040133953094482},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014729499816895},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00073695182800293},{"SQL":"select obj_is_deleted(104) as code","Time":0.00058102607727051},{"SQL":"select * from obj_info(104)","Time":0.00035214424133301},{"SQL":"select * from f_prop_total(104)","Time":0.015879154205322},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024638175964355},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020580291748047},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031728982925415},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0012979507446289},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0015139579772949},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00060701370239258},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00095701217651367},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012059211730957},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044829845428467},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00054216384887695},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0019180774688721},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0032181739807129},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016870498657227},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084900856018066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007781982421875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073790550231934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071597099304199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072383880615234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010380744934082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075984001159668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072884559631348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064802169799805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005800724029541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060510635375977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048685073852539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062799453735352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051498413085938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048303604125977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:30:34\') as code","Time":0.012356996536255},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408263\')","Time":0.00053906440734863},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048494338989258},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00043010711669922},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044989585876465}]},"timeleft":false}'
2011.11.10 13:30:35 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:35 DEBUG: Data chunk = b''
2011.11.10 13:30:41 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:41 DEBUG: Recieving...
2011.11.10 13:30:41 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133041,E03118.7540,N5831.5860,24,36.7170626349892,52,5,1.1,14600,14470mV,0,0,0,0,0,245,0*0E!\r\n'
2011.11.10 13:30:41 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133041,E03118.7540,N5831.5860,24,36.7170626349892,52,5,1.1,14600,14470mV,0,0,0,0,0,245,0*0E!\r\n']
2011.11.10 13:30:41 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133041,E03118.7540,N5831.5860,24,36.7170626349892,52,5,1.1,14600,14470mV,0,0,0,0,0,245,0*0E!

2011.11.10 13:30:41 DEBUG: Raw match found.
2011.11.10 13:30:41 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 24.0, 'azimuth': 52.0, 'longitude': 31.312566666666665, 'odometer': 245.0, 'satellitescount': 5, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133041,E03118.7540,N5831.5860,24,36.7170626349892,52,5,1.1,14600,14470mV,0,0,0,0,0,245,0*0E!', 'time': '2011-11-10T13:30:41.000000', 'latitude': 58.52643333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 245.0, 'digital_input2': 0, 'speed': 68.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 68.0, 'uid': '657460032240926_888'}
2011.11.10 13:30:42 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19631624221802 seconds\\n","1":"Average query length: 0.0041769413237876 seconds\\n","2":"Queries per second: 239.40963554001\\n","3":"Longest query length: 0.047111988067627\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.029275894165039},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0040009021759033},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'5cprug256oob3jvv2ou632a6f5\')))","Time":0.00092697143554688},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025532245635986},{"SQL":"select * from obj_info(58372)","Time":0.00054097175598145},{"SQL":"select * from obj_info(58372)","Time":0.00026202201843262},{"SQL":"select * from obj_prop_total(58372)","Time":0.047111988067627},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0020291805267334},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0012030601501465},{"SQL":"select obj_is_deleted(104) as code","Time":0.00068092346191406},{"SQL":"select * from obj_info(104)","Time":0.00034809112548828},{"SQL":"select * from f_prop_total(104)","Time":0.017470836639404},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024631023406982},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022339820861816},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035041093826294},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0014951229095459},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0013070106506348},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065708160400391},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00061297416687012},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00077986717224121},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.00295090675354},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00037384033203125},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001460075378418},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0032730102539062},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0043110847473145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069093704223633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066184997558594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006859302520752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072693824768066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066304206848145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063204765319824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068402290344238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069713592529297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083684921264648},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067615509033203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016040802001953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007011890411377},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073814392089844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052309036254883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049781799316406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048398971557617},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:30:41\') as code","Time":0.018032073974609},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408264\')","Time":0.00066089630126953},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.000640869140625},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0006868839263916},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00078010559082031}]},"timeleft":false}'
2011.11.10 13:30:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:42 DEBUG: Data chunk = b''
2011.11.10 13:30:43 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:43 DEBUG: Recieving...
2011.11.10 13:30:43 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133043,E03751.6720,N5603.7170,168,32.937365010799134,293,2,1.1,14600,14470mV,0,0,0,0,0,185,0*0D!\r\n'
2011.11.10 13:30:43 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133043,E03751.6720,N5603.7170,168,32.937365010799134,293,2,1.1,14600,14470mV,0,0,0,0,0,185,0*0D!\r\n']
2011.11.10 13:30:43 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133043,E03751.6720,N5603.7170,168,32.937365010799134,293,2,1.1,14600,14470mV,0,0,0,0,0,185,0*0D!

2011.11.10 13:30:43 DEBUG: Raw match found.
2011.11.10 13:30:43 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 168.0, 'azimuth': 293.0, 'longitude': 37.8612, 'odometer': 185.0, 'satellitescount': 2, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133043,E03751.6720,N5603.7170,168,32.937365010799134,293,2,1.1,14600,14470mV,0,0,0,0,0,185,0*0D!', 'time': '2011-11-10T13:30:43.000000', 'latitude': 56.06195, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 185.0, 'digital_input2': 0, 'speed': 61.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 61.0, 'uid': '557460032240926_888'}
2011.11.10 13:30:44 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:44 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:44 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:44 DEBUG: Recieving...
2011.11.10 13:30:44 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133044,E03814.2540,N5555.4280,150,36.177105831533474,158,5,1.1,14600,14470mV,0,0,0,0,0,131,0*09!\r\n'
2011.11.10 13:30:44 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133044,E03814.2540,N5555.4280,150,36.177105831533474,158,5,1.1,14600,14470mV,0,0,0,0,0,131,0*09!\r\n']
2011.11.10 13:30:44 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133044,E03814.2540,N5555.4280,150,36.177105831533474,158,5,1.1,14600,14470mV,0,0,0,0,0,131,0*09!

2011.11.10 13:30:44 DEBUG: Raw match found.
2011.11.10 13:30:44 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 150.0, 'azimuth': 158.0, 'longitude': 38.237566666666666, 'odometer': 131.0, 'satellitescount': 5, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133044,E03814.2540,N5555.4280,150,36.177105831533474,158,5,1.1,14600,14470mV,0,0,0,0,0,131,0*09!', 'time': '2011-11-10T13:30:44.000000', 'latitude': 55.9238, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 131.0, 'digital_input2': 0, 'speed': 67.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 67.0, 'uid': '457460032240926_888'}
2011.11.10 13:30:44 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.30287575721741 seconds\\n","1":"Average query length: 0.0038338703445241 seconds\\n","2":"Queries per second: 260.83302515128\\n","3":"Longest query length: 0.05217981338501\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.028264999389648},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0043709278106689},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'fffb60m928aaesgvjm44l4pml7\')))","Time":0.00093603134155273},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0030109882354736},{"SQL":"select * from obj_info(58369)","Time":0.00073790550231934},{"SQL":"select * from obj_info(58369)","Time":0.0003509521484375},{"SQL":"select * from obj_prop_total(58369)","Time":0.05217981338501},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0020918846130371},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0010058879852295},{"SQL":"select obj_is_deleted(104) as code","Time":0.00066304206848145},{"SQL":"select * from obj_info(104)","Time":0.00031495094299316},{"SQL":"select * from f_prop_total(104)","Time":0.018173933029175},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0029959678649902},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0028579235076904},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035514116287231},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0014979839324951},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0017809867858887},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00089502334594727},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067806243896484},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00067901611328125},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024459362030029},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00038790702819824},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0017387866973877},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017540454864502},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010390281677246},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062680244445801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088810920715332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095105171203613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098800659179688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097489356994629},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066208839416504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068402290344238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061416625976562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079488754272461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064992904663086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049877166748047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058794021606445},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:30:43\') as code","Time":0.018244028091431},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408265\')","Time":0.00062012672424316},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00050497055053711},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00037908554077148},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044989585876465},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00054383277893066},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408261)","Time":0.00037980079650879},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00026202201843262},{"SQL":"select * from acc_list(58369)","Time":0.00070309638977051},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.001945972442627},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.001068115234375},{"SQL":"select z_has_point(1002846847, 56.061316666667, 37.86395, null) as state","Time":0.0032498836517334},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(171930, 56.061316666667, 37.86395, null) as state","Time":0.0022079944610596},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00027298927307129},{"SQL":"select z_has_point(1387421, 56.061316666667, 37.86395, null) as state","Time":0.0024900436401367},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00027179718017578},{"SQL":"select z_has_point(1387486, 56.061316666667, 37.86395, null) as state","Time":0.0027780532836914},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.0003209114074707},{"SQL":"select z_has_point(1387485, 56.061316666667, 37.86395, null) as state","Time":0.0028629302978516},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00037002563476562},{"SQL":"select z_has_point(1387499, 56.061316666667, 37.86395, null) as state","Time":0.0021929740905762},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00033807754516602},{"SQL":"select z_has_point(1387483, 56.061316666667, 37.86395, null) as state","Time":0.0032811164855957},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00024199485778809},{"SQL":"select z_has_point(1387484, 56.061316666667, 37.86395, null) as state","Time":0.0023860931396484},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00032281875610352},{"SQL":"select z_has_point(1387619, 56.061316666667, 37.86395, null) as state","Time":0.0023441314697266},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0002589225769043},{"SQL":"select z_has_point(8710, 56.061316666667, 37.86395, null) as state","Time":0.0043261051177979},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00054717063903809},{"SQL":"select z_has_point(1002827265, 56.061316666667, 37.86395, null) as state","Time":0.0045711994171143},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00034403800964355},{"SQL":"select z_has_point(37627, 56.061316666667, 37.86395, null) as state","Time":0.0028548240661621},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0006248950958252},{"SQL":"select * from notif_get_by_object(58369)","Time":0.029074192047119},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:30:28\') as code","Time":0.03081488609314}]},"timeleft":false}'
2011.11.10 13:30:44 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:44 DEBUG: Data chunk = b''
2011.11.10 13:30:45 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.51190567016602 seconds\\n","1":"Average query length: 0.010891610003532 seconds\\n","2":"Queries per second: 91.813790585202\\n","3":"Longest query length: 0.33073687553406\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.33073687553406},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034489631652832},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'i3prlodse6g9intfp2129dkss6\')))","Time":0.00063705444335938},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0035200119018555},{"SQL":"select * from obj_info(38910)","Time":0.0008091926574707},{"SQL":"select * from obj_info(38910)","Time":0.00041103363037109},{"SQL":"select * from obj_prop_total(38910)","Time":0.059999227523804},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014231204986572},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00095009803771973},{"SQL":"select obj_is_deleted(104) as code","Time":0.00076603889465332},{"SQL":"select * from obj_info(104)","Time":0.00042891502380371},{"SQL":"select * from f_prop_total(104)","Time":0.024646997451782},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025131702423096},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022289752960205},{"SQL":"select * from t_options(\'1006667041\')","Time":0.039220094680786},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011332035064697},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.002011775970459},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063800811767578},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00072503089904785},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00087904930114746},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0037069320678711},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00041389465332031},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015459060668945},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017678737640381},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011088848114014},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065898895263672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062298774719238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054812431335449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054001808166504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061488151550293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098800659179688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079989433288574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006721019744873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081586837768555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060892105102539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070786476135254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051999092102051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073504447937012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075602531433105},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:30:44\') as code","Time":0.013139009475708},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408266\')","Time":0.00049185752868652},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00040793418884277},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00037884712219238},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00047588348388672}]},"timeleft":false}'
2011.11.10 13:30:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:45 DEBUG: Data chunk = b''
2011.11.10 13:30:55 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:55 DEBUG: Recieving...
2011.11.10 13:30:55 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133055,E03751.2660,N5603.7800,170,38.33693304535637,286,1,1.1,14600,14470mV,0,0,0,0,0,436,0*3B!\r\n'
2011.11.10 13:30:55 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133055,E03751.2660,N5603.7800,170,38.33693304535637,286,1,1.1,14600,14470mV,0,0,0,0,0,436,0*3B!\r\n']
2011.11.10 13:30:55 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133055,E03751.2660,N5603.7800,170,38.33693304535637,286,1,1.1,14600,14470mV,0,0,0,0,0,436,0*3B!

2011.11.10 13:30:55 DEBUG: Raw match found.
2011.11.10 13:30:55 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 170.0, 'azimuth': 286.0, 'longitude': 37.85443333333333, 'odometer': 436.0, 'satellitescount': 1, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133055,E03751.2660,N5603.7800,170,38.33693304535637,286,1,1.1,14600,14470mV,0,0,0,0,0,436,0*3B!', 'time': '2011-11-10T13:30:55.000000', 'latitude': 56.063, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 436.0, 'digital_input2': 0, 'speed': 71.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 71.0, 'uid': '557460032240926_888'}
2011.11.10 13:30:57 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.66547560691833 seconds\\n","1":"Average query length: 0.0084237418597258 seconds\\n","2":"Queries per second: 118.71208978768\\n","3":"Longest query length: 0.36409711837769\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.36409711837769},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0056259632110596},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'30nicb9gsa55s7i7ksdl6g3dn4\')))","Time":0.00095605850219727},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0037028789520264},{"SQL":"select * from obj_info(58369)","Time":0.00065302848815918},{"SQL":"select * from obj_info(58369)","Time":0.00038599967956543},{"SQL":"select * from obj_prop_total(58369)","Time":0.062083005905151},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0021779537200928},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00097990036010742},{"SQL":"select obj_is_deleted(104) as code","Time":0.00070309638977051},{"SQL":"select * from obj_info(104)","Time":0.00039196014404297},{"SQL":"select * from f_prop_total(104)","Time":0.022483825683594},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0042469501495361},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0033559799194336},{"SQL":"select * from t_options(\'1006667041\')","Time":0.04446005821228},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012989044189453},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0017979145050049},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067806243896484},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011630058288574},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00093388557434082},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0037441253662109},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016491413116455},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0021209716796875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017170906066895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055789947509766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057506561279297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051689147949219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014088153839111},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090503692626953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095701217651367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072598457336426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069189071655273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067901611328125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011730194091797},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068402290344238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071191787719727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005340576171875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062012672424316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:30:55\') as code","Time":0.022869825363159},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408267\')","Time":0.00064492225646973},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00060391426086426},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00046300888061523},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00046586990356445},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0006558895111084},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408265)","Time":0.00050687789916992},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00033092498779297},{"SQL":"select * from acc_list(58369)","Time":0.0010318756103516},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0026681423187256},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0010509490966797},{"SQL":"select z_has_point(1002846847, 56.06195, 37.8612, null) as state","Time":0.0042169094085693},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00035691261291504},{"SQL":"select z_has_point(171930, 56.06195, 37.8612, null) as state","Time":0.0025639533996582},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00036907196044922},{"SQL":"select z_has_point(1387421, 56.06195, 37.8612, null) as state","Time":0.0035800933837891},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00037980079650879},{"SQL":"select z_has_point(1387486, 56.06195, 37.8612, null) as state","Time":0.0027830600738525},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00027108192443848},{"SQL":"select z_has_point(1387485, 56.06195, 37.8612, null) as state","Time":0.0022158622741699},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00027799606323242},{"SQL":"select z_has_point(1387499, 56.06195, 37.8612, null) as state","Time":0.0024700164794922},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.0002601146697998},{"SQL":"select z_has_point(1387483, 56.06195, 37.8612, null) as state","Time":0.00347900390625},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00034308433532715},{"SQL":"select z_has_point(1387484, 56.06195, 37.8612, null) as state","Time":0.002877950668335},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00032997131347656},{"SQL":"select z_has_point(1387619, 56.06195, 37.8612, null) as state","Time":0.0035970211029053},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00032281875610352},{"SQL":"select z_has_point(8710, 56.06195, 37.8612, null) as state","Time":0.0024101734161377},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00034999847412109},{"SQL":"select z_has_point(1002827265, 56.06195, 37.8612, null) as state","Time":0.0034208297729492},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00033807754516602},{"SQL":"select z_has_point(37627, 56.06195, 37.8612, null) as state","Time":0.0035440921783447},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00077199935913086},{"SQL":"select * from notif_get_by_object(58369)","Time":0.028779029846191},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:30:43\') as code","Time":0.019296884536743}]},"timeleft":false}'
2011.11.10 13:30:57 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:57 DEBUG: Data chunk = b''
2011.11.10 13:30:57 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:57 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:57 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:57 DEBUG: Recieving...
2011.11.10 13:30:57 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133057,E03118.9180,N5831.6510,20,35.09719222462203,53,6,1.1,14600,14470mV,0,0,0,0,0,199,0*3A!\r\n'
2011.11.10 13:30:57 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133057,E03118.9180,N5831.6510,20,35.09719222462203,53,6,1.1,14600,14470mV,0,0,0,0,0,199,0*3A!\r\n']
2011.11.10 13:30:57 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133057,E03118.9180,N5831.6510,20,35.09719222462203,53,6,1.1,14600,14470mV,0,0,0,0,0,199,0*3A!

2011.11.10 13:30:57 DEBUG: Raw match found.
2011.11.10 13:30:57 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 20.0, 'azimuth': 53.0, 'longitude': 31.3153, 'odometer': 199.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133057,E03118.9180,N5831.6510,20,35.09719222462203,53,6,1.1,14600,14470mV,0,0,0,0,0,199,0*3A!', 'time': '2011-11-10T13:30:57.000000', 'latitude': 58.52751666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 199.0, 'digital_input2': 0, 'speed': 65.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 65.0, 'uid': '657460032240926_888'}
2011.11.10 13:30:58 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:30:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:30:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:30:58 DEBUG: Recieving...
2011.11.10 13:30:58 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133058,E03814.3040,N5555.3630,151,36.177105831533474,157,6,1.1,14600,14470mV,0,0,0,0,0,131,0*05!\r\n'
2011.11.10 13:30:58 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133058,E03814.3040,N5555.3630,151,36.177105831533474,157,6,1.1,14600,14470mV,0,0,0,0,0,131,0*05!\r\n']
2011.11.10 13:30:58 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133058,E03814.3040,N5555.3630,151,36.177105831533474,157,6,1.1,14600,14470mV,0,0,0,0,0,131,0*05!

2011.11.10 13:30:58 DEBUG: Raw match found.
2011.11.10 13:30:58 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 151.0, 'azimuth': 157.0, 'longitude': 38.2384, 'odometer': 131.0, 'satellitescount': 6, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133058,E03814.3040,N5555.3630,151,36.177105831533474,157,6,1.1,14600,14470mV,0,0,0,0,0,131,0*05!', 'time': '2011-11-10T13:30:58.000000', 'latitude': 55.922716666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 131.0, 'digital_input2': 0, 'speed': 67.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 67.0, 'uid': '457460032240926_888'}
2011.11.10 13:30:58 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21190309524536 seconds\\n","1":"Average query length: 0.0045085764945822 seconds\\n","2":"Queries per second: 221.79949729181\\n","3":"Longest query length: 0.055819988250732\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.020578861236572},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036680698394775},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'o4bssvq98grbj02btgj23jset4\')))","Time":0.00091910362243652},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025279521942139},{"SQL":"select * from obj_info(58372)","Time":0.00060892105102539},{"SQL":"select * from obj_info(58372)","Time":0.00029516220092773},{"SQL":"select * from obj_prop_total(58372)","Time":0.055819988250732},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0022430419921875},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0012478828430176},{"SQL":"select obj_is_deleted(104) as code","Time":0.00081896781921387},{"SQL":"select * from obj_info(104)","Time":0.00044918060302734},{"SQL":"select * from f_prop_total(104)","Time":0.023138999938965},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038681030273438},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032620429992676},{"SQL":"select * from t_options(\'1006667041\')","Time":0.052634000778198},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.001201868057251},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0016701221466064},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00062203407287598},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059103965759277},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068902969360352},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024409294128418},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00044012069702148},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013539791107178},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0016958713531494},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010890960693359},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061392784118652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054788589477539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056314468383789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012750625610352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059008598327637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063490867614746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063014030456543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041794776916504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004270076751709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047492980957031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046300888061523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045394897460938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046777725219727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013430118560791},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063800811767578},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:30:57\') as code","Time":0.014931917190552},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408268\')","Time":0.00077199935913086},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00060296058654785},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0005500316619873},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00049495697021484}]},"timeleft":false}'
2011.11.10 13:30:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:30:58 DEBUG: Data chunk = b''
2011.11.10 13:31:00 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.51165080070496 seconds\\n","1":"Average query length: 0.010886187249042 seconds\\n","2":"Queries per second: 91.859525940823\\n","3":"Longest query length: 0.32681703567505\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.32681703567505},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0035600662231445},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'297nm3c9o9aej2ib1me3qb0qg1\')))","Time":0.0010190010070801},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0040519237518311},{"SQL":"select * from obj_info(38910)","Time":0.00080990791320801},{"SQL":"select * from obj_info(38910)","Time":0.00037407875061035},{"SQL":"select * from obj_prop_total(38910)","Time":0.055878877639771},{"SQL":"select obj_is_deleted(38910) as code","Time":0.001507043838501},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00076389312744141},{"SQL":"select obj_is_deleted(104) as code","Time":0.00051689147949219},{"SQL":"select * from obj_info(104)","Time":0.00033688545227051},{"SQL":"select * from f_prop_total(104)","Time":0.01600193977356},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0029358863830566},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021228790283203},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038772821426392},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0015501976013184},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0019409656524658},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0008080005645752},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00060510635375977},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00069189071655273},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026381015777588},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040102005004883},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018749237060547},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020830631256104},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0094740390777588},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075697898864746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068211555480957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063490867614746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051689147949219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055789947509766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095796585083008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054311752319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058698654174805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063300132751465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089192390441895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0019071102142334},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055122375488281},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005488395690918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061416625976562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084090232849121},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:30:58\') as code","Time":0.019123077392578},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408269\')","Time":0.00086116790771484},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00063300132751465},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00049304962158203},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00060701370239258}]},"timeleft":false}'
2011.11.10 13:31:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:00 DEBUG: Data chunk = b''
2011.11.10 13:31:08 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:08 DEBUG: Recieving...
2011.11.10 13:31:08 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133108,E03750.7570,N5603.8580,168,37.796976241900644,285,7,1.1,14600,14470mV,0,0,0,0,0,546,0*09!\r\n'
2011.11.10 13:31:08 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133108,E03750.7570,N5603.8580,168,37.796976241900644,285,7,1.1,14600,14470mV,0,0,0,0,0,546,0*09!\r\n']
2011.11.10 13:31:08 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133108,E03750.7570,N5603.8580,168,37.796976241900644,285,7,1.1,14600,14470mV,0,0,0,0,0,546,0*09!

2011.11.10 13:31:08 DEBUG: Raw match found.
2011.11.10 13:31:08 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 168.0, 'azimuth': 285.0, 'longitude': 37.84595, 'odometer': 546.0, 'satellitescount': 7, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133108,E03750.7570,N5603.8580,168,37.796976241900644,285,7,1.1,14600,14470mV,0,0,0,0,0,546,0*09!', 'time': '2011-11-10T13:31:08.000000', 'latitude': 56.0643, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 546.0, 'digital_input2': 0, 'speed': 70.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 70.0, 'uid': '557460032240926_888'}
2011.11.10 13:31:09 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27013230323792 seconds\\n","1":"Average query length: 0.0034193962435179 seconds\\n","2":"Queries per second: 292.44928893388\\n","3":"Longest query length: 0.051676034927368\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.025506019592285},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036370754241943},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'i84q21f8pk0478ducffg362sm5\')))","Time":0.0006411075592041},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0027298927307129},{"SQL":"select * from obj_info(58369)","Time":0.00085282325744629},{"SQL":"select * from obj_info(58369)","Time":0.00031304359436035},{"SQL":"select * from obj_prop_total(58369)","Time":0.051676034927368},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015327930450439},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00099420547485352},{"SQL":"select obj_is_deleted(104) as code","Time":0.00064587593078613},{"SQL":"select * from obj_info(104)","Time":0.00034594535827637},{"SQL":"select * from f_prop_total(104)","Time":0.016258955001831},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025579929351807},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0023179054260254},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035760879516602},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012149810791016},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0013809204101562},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00072121620178223},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006558895111084},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00070619583129883},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025110244750977},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00041699409484863},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012378692626953},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018970966339111},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012691020965576},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071310997009277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.002788782119751},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069713592529297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060892105102539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052785873413086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054693222045898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070810317993164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006558895111084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066399574279785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047802925109863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004279613494873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052189826965332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040888786315918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039005279541016},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:31:08\') as code","Time":0.015291929244995},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408270\')","Time":0.00072288513183594},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00082182884216309},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00048303604125977},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00058197975158691},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00072884559631348},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408267)","Time":0.00049901008605957},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00031685829162598},{"SQL":"select * from acc_list(58369)","Time":0.0010559558868408},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0020849704742432},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00095009803771973},{"SQL":"select z_has_point(1002846847, 56.063, 37.854433333333, null) as state","Time":0.0053329467773438},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00028300285339355},{"SQL":"select z_has_point(171930, 56.063, 37.854433333333, null) as state","Time":0.0034248828887939},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00035190582275391},{"SQL":"select z_has_point(1387421, 56.063, 37.854433333333, null) as state","Time":0.0023140907287598},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.0003209114074707},{"SQL":"select z_has_point(1387486, 56.063, 37.854433333333, null) as state","Time":0.0022079944610596},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.0002589225769043},{"SQL":"select z_has_point(1387485, 56.063, 37.854433333333, null) as state","Time":0.0034360885620117},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00032591819763184},{"SQL":"select z_has_point(1387499, 56.063, 37.854433333333, null) as state","Time":0.002208948135376},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00024890899658203},{"SQL":"select z_has_point(1387483, 56.063, 37.854433333333, null) as state","Time":0.0022518634796143},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00027918815612793},{"SQL":"select z_has_point(1387484, 56.063, 37.854433333333, null) as state","Time":0.0022079944610596},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00031900405883789},{"SQL":"select z_has_point(1387619, 56.063, 37.854433333333, null) as state","Time":0.0057590007781982},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0002748966217041},{"SQL":"select z_has_point(8710, 56.063, 37.854433333333, null) as state","Time":0.0025861263275146},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00032496452331543},{"SQL":"select z_has_point(1002827265, 56.063, 37.854433333333, null) as state","Time":0.002187967300415},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00032997131347656},{"SQL":"select z_has_point(37627, 56.063, 37.854433333333, null) as state","Time":0.0023140907287598},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00070381164550781},{"SQL":"select * from notif_get_by_object(58369)","Time":0.02211594581604},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:30:55\') as code","Time":0.014520168304443}]},"timeleft":false}'
2011.11.10 13:31:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:09 DEBUG: Data chunk = b''
2011.11.10 13:31:10 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:10 DEBUG: Recieving...
2011.11.10 13:31:10 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133110,E03119.0450,N5831.7000,21,37.25701943844492,54,9,1.1,14600,14470mV,0,0,0,0,0,152,0*3C!\r\n'
2011.11.10 13:31:10 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133110,E03119.0450,N5831.7000,21,37.25701943844492,54,9,1.1,14600,14470mV,0,0,0,0,0,152,0*3C!\r\n']
2011.11.10 13:31:10 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133110,E03119.0450,N5831.7000,21,37.25701943844492,54,9,1.1,14600,14470mV,0,0,0,0,0,152,0*3C!

2011.11.10 13:31:10 DEBUG: Raw match found.
2011.11.10 13:31:10 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 21.0, 'azimuth': 54.0, 'longitude': 31.317416666666666, 'odometer': 152.0, 'satellitescount': 9, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133110,E03119.0450,N5831.7000,21,37.25701943844492,54,9,1.1,14600,14470mV,0,0,0,0,0,152,0*3C!', 'time': '2011-11-10T13:31:10.000000', 'latitude': 58.528333333333336, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 152.0, 'digital_input2': 0, 'speed': 69.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 69.0, 'uid': '657460032240926_888'}
2011.11.10 13:31:11 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:11 DEBUG: Recieving...
2011.11.10 13:31:11 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133111,E03814.3590,N5555.2950,152,38.33693304535637,156,12,1.1,14600,14470mV,0,0,0,0,0,139,0*0F!\r\n'
2011.11.10 13:31:11 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133111,E03814.3590,N5555.2950,152,38.33693304535637,156,12,1.1,14600,14470mV,0,0,0,0,0,139,0*0F!\r\n']
2011.11.10 13:31:11 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133111,E03814.3590,N5555.2950,152,38.33693304535637,156,12,1.1,14600,14470mV,0,0,0,0,0,139,0*0F!

2011.11.10 13:31:11 DEBUG: Raw match found.
2011.11.10 13:31:11 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 152.0, 'azimuth': 156.0, 'longitude': 38.23931666666667, 'odometer': 139.0, 'satellitescount': 12, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133111,E03814.3590,N5555.2950,152,38.33693304535637,156,12,1.1,14600,14470mV,0,0,0,0,0,139,0*0F!', 'time': '2011-11-10T13:31:11.000000', 'latitude': 55.92158333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 139.0, 'digital_input2': 0, 'speed': 71.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 71.0, 'uid': '457460032240926_888'}
2011.11.10 13:31:11 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19376444816589 seconds\\n","1":"Average query length: 0.0041226478333169 seconds\\n","2":"Queries per second: 242.56255698548\\n","3":"Longest query length: 0.047754049301147\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.026134967803955},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0038390159606934},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'b6r5o8qjji6896a46u45sj0o94\')))","Time":0.00092387199401855},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0027780532836914},{"SQL":"select * from obj_info(58372)","Time":0.00048089027404785},{"SQL":"select * from obj_info(58372)","Time":0.00033402442932129},{"SQL":"select * from obj_prop_total(58372)","Time":0.047754049301147},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0017640590667725},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00080704689025879},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044894218444824},{"SQL":"select * from obj_info(104)","Time":0.00028681755065918},{"SQL":"select * from f_prop_total(104)","Time":0.015387058258057},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0028159618377686},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0023090839385986},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031674861907959},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012969970703125},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0014979839324951},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00061297416687012},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010299682617188},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012760162353516},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0047609806060791},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0010750293731689},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001863956451416},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0035948753356934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0024049282073975},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079894065856934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076413154602051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084304809570312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076508522033691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084304809570312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078082084655762},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083589553833008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067901611328125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063300132751465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067615509033203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062012672424316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062394142150879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077509880065918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013420581817627},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075888633728027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076007843017578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081586837768555},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:31:10\') as code","Time":0.02013111114502},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408271\')","Time":0.0011978149414062},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00081491470336914},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00054407119750977},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00060892105102539}]},"timeleft":false}'
2011.11.10 13:31:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:11 DEBUG: Data chunk = b''
2011.11.10 13:31:12 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17190909385681 seconds\\n","1":"Average query length: 0.0036576402948258 seconds\\n","2":"Queries per second: 273.40031260445\\n","3":"Longest query length: 0.039770841598511\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.025696992874146},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0044610500335693},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'mb797iq2nm4ct2f0v9fekoon27\')))","Time":0.0007479190826416},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026190280914307},{"SQL":"select * from obj_info(38910)","Time":0.00066900253295898},{"SQL":"select * from obj_info(38910)","Time":0.0005030632019043},{"SQL":"select * from obj_prop_total(38910)","Time":0.039770841598511},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015020370483398},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00067281723022461},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045990943908691},{"SQL":"select * from obj_info(104)","Time":0.00028395652770996},{"SQL":"select * from f_prop_total(104)","Time":0.014224052429199},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024170875549316},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019819736480713},{"SQL":"select * from t_options(\'1006667041\')","Time":0.033708095550537},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011799335479736},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0012800693511963},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065517425537109},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065898895263672},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0045709609985352},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025758743286133},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00037479400634766},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012178421020508},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020971298217773},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011520385742188},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005640983581543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058889389038086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055813789367676},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052905082702637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055313110351562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098800659179688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058794021606445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062298774719238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057196617126465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055313110351562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077009201049805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061893463134766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059413909912109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006709098815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:31:11\') as code","Time":0.012979030609131},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408272\')","Time":0.00076389312744141},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00067806243896484},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00079011917114258},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00063395500183105}]},"timeleft":false}'
2011.11.10 13:31:12 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:12 DEBUG: Data chunk = b''
2011.11.10 13:31:22 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:22 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:22 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:22 DEBUG: Recieving...
2011.11.10 13:31:22 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133122,E03119.2290,N5831.7710,20,39.416846652267814,53,7,1.1,14600,14470mV,0,0,0,0,0,223,0*0E!\r\n'
2011.11.10 13:31:22 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133122,E03119.2290,N5831.7710,20,39.416846652267814,53,7,1.1,14600,14470mV,0,0,0,0,0,223,0*0E!\r\n']
2011.11.10 13:31:22 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133122,E03119.2290,N5831.7710,20,39.416846652267814,53,7,1.1,14600,14470mV,0,0,0,0,0,223,0*0E!

2011.11.10 13:31:22 DEBUG: Raw match found.
2011.11.10 13:31:22 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 20.0, 'azimuth': 53.0, 'longitude': 31.320483333333332, 'odometer': 223.0, 'satellitescount': 7, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133122,E03119.2290,N5831.7710,20,39.416846652267814,53,7,1.1,14600,14470mV,0,0,0,0,0,223,0*0E!', 'time': '2011-11-10T13:31:22.000000', 'latitude': 58.529516666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 223.0, 'digital_input2': 0, 'speed': 73.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 73.0, 'uid': '657460032240926_888'}
2011.11.10 13:31:23 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18966841697693 seconds\\n","1":"Average query length: 0.0040354982335517 seconds\\n","2":"Queries per second: 247.80087665158\\n","3":"Longest query length: 0.049746036529541\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.02888298034668},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050179958343506},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'7hr85p049sn4uugla2j9fjf7r5\')))","Time":0.00088715553283691},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0028409957885742},{"SQL":"select * from obj_info(58372)","Time":0.00057291984558105},{"SQL":"select * from obj_info(58372)","Time":0.00029397010803223},{"SQL":"select * from obj_prop_total(58372)","Time":0.049746036529541},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014259815216064},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0006859302520752},{"SQL":"select obj_is_deleted(104) as code","Time":0.0006721019744873},{"SQL":"select * from obj_info(104)","Time":0.00034117698669434},{"SQL":"select * from f_prop_total(104)","Time":0.017698049545288},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0027539730072021},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021309852600098},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036804914474487},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011379718780518},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0021519660949707},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00082588195800781},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00055098533630371},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065898895263672},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0028271675109863},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00038504600524902},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013949871063232},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019638538360596},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010230541229248},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043201446533203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042510032653809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042200088500977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041580200195312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041818618774414},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045299530029297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004889965057373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004270076751709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044703483581543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004730224609375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046706199645996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004570484161377},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004580020904541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046110153198242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045299530029297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072503089904785},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:31:22\') as code","Time":0.01616907119751},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408273\')","Time":0.00056791305541992},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044894218444824},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00038599967956543},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041508674621582}]},"timeleft":false}'
2011.11.10 13:31:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:23 DEBUG: Data chunk = b''
2011.11.10 13:31:24 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:24 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:24 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:24 DEBUG: Recieving...
2011.11.10 13:31:24 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133124,E03814.3840,N5555.2650,148,39.416846652267814,155,4,1.1,14600,14470mV,0,0,0,0,0,61,0*38!\r\n'
2011.11.10 13:31:24 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133124,E03814.3840,N5555.2650,148,39.416846652267814,155,4,1.1,14600,14470mV,0,0,0,0,0,61,0*38!\r\n']
2011.11.10 13:31:24 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133124,E03814.3840,N5555.2650,148,39.416846652267814,155,4,1.1,14600,14470mV,0,0,0,0,0,61,0*38!

2011.11.10 13:31:24 DEBUG: Raw match found.
2011.11.10 13:31:24 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 148.0, 'azimuth': 155.0, 'longitude': 38.239733333333334, 'odometer': 61.0, 'satellitescount': 4, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133124,E03814.3840,N5555.2650,148,39.416846652267814,155,4,1.1,14600,14470mV,0,0,0,0,0,61,0*38!', 'time': '2011-11-10T13:31:24.000000', 'latitude': 55.921083333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 61.0, 'digital_input2': 0, 'speed': 73.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 73.0, 'uid': '457460032240926_888'}
2011.11.10 13:31:26 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.50205707550049 seconds\\n","1":"Average query length: 0.010682065436181 seconds\\n","2":"Queries per second: 93.614854353256\\n","3":"Longest query length: 0.34368085861206\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.34368085861206},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036971569061279},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'30gdgrop8ejjquh6li7msn8rk5\')))","Time":0.00063300132751465},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0037598609924316},{"SQL":"select * from obj_info(38910)","Time":0.00069594383239746},{"SQL":"select * from obj_info(38910)","Time":0.00029897689819336},{"SQL":"select * from obj_prop_total(38910)","Time":0.04008412361145},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014519691467285},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010561943054199},{"SQL":"select obj_is_deleted(104) as code","Time":0.00065207481384277},{"SQL":"select * from obj_info(104)","Time":0.00033807754516602},{"SQL":"select * from f_prop_total(104)","Time":0.016488075256348},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025761127471924},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.00217604637146},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037709951400757},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0012021064758301},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.001460075378418},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.012583017349243},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00057506561279297},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00060701370239258},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027070045471191},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00032782554626465},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011551380157471},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020239353179932},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010108947753906},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044083595275879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041794776916504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041413307189941},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041794776916504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047802925109863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042009353637695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00038814544677734},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041699409484863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042915344238281},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042104721069336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004270076751709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049304962158203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00038790702819824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013010501861572},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075292587280273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:31:24\') as code","Time":0.01264214515686},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408274\')","Time":0.00059604644775391},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049495697021484},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00032496452331543},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00037813186645508}]},"timeleft":false}'
2011.11.10 13:31:26 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:26 DEBUG: Data chunk = b''
2011.11.10 13:31:28 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:28 DEBUG: Recieving...
2011.11.10 13:31:28 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133128,E03750.5770,N5603.8860,169,34.557235421166304,286,10,1.1,14600,14470mV,0,0,0,0,0,194,0*3E!\r\n'
2011.11.10 13:31:28 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133128,E03750.5770,N5603.8860,169,34.557235421166304,286,10,1.1,14600,14470mV,0,0,0,0,0,194,0*3E!\r\n']
2011.11.10 13:31:28 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133128,E03750.5770,N5603.8860,169,34.557235421166304,286,10,1.1,14600,14470mV,0,0,0,0,0,194,0*3E!

2011.11.10 13:31:28 DEBUG: Raw match found.
2011.11.10 13:31:28 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 169.0, 'azimuth': 286.0, 'longitude': 37.84295, 'odometer': 194.0, 'satellitescount': 10, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133128,E03750.5770,N5603.8860,169,34.557235421166304,286,10,1.1,14600,14470mV,0,0,0,0,0,194,0*3E!', 'time': '2011-11-10T13:31:28.000000', 'latitude': 56.064766666666664, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 194.0, 'digital_input2': 0, 'speed': 64.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 64.0, 'uid': '557460032240926_888'}
2011.11.10 13:31:30 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.80175852775574 seconds\\n","1":"Average query length: 0.01014884212349 seconds\\n","2":"Queries per second: 98.53340783432\\n","3":"Longest query length: 0.47328901290894\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.47328901290894},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0039310455322266},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'vju8eok5rpv4n8obfqusomoma2\')))","Time":0.00063705444335938},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026299953460693},{"SQL":"select * from obj_info(58369)","Time":0.0006718635559082},{"SQL":"select * from obj_info(58369)","Time":0.00046896934509277},{"SQL":"select * from obj_prop_total(58369)","Time":0.04787802696228},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014550685882568},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00071310997009277},{"SQL":"select obj_is_deleted(104) as code","Time":0.00050115585327148},{"SQL":"select * from obj_info(104)","Time":0.00031089782714844},{"SQL":"select * from f_prop_total(104)","Time":0.016398906707764},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024769306182861},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020670890808105},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035181999206543},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011959075927734},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0013711452484131},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00082087516784668},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011510848999023},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013480186462402},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045058727264404},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0007331371307373},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.081218957901001},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033838748931885},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013056039810181},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082993507385254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079894065856934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063610076904297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056195259094238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078511238098145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082492828369141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074505805969238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087594985961914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087189674377441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069499015808105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066995620727539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073885917663574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084185600280762},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007021427154541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071406364440918},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:31:28\') as code","Time":0.016072034835815},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408275\')","Time":0.00060296058654785},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048208236694336},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00039196014404297},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00047111511230469},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00057196617126465},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408270)","Time":0.0004119873046875},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00039196014404297},{"SQL":"select * from acc_list(58369)","Time":0.00077486038208008},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0020508766174316},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00084090232849121},{"SQL":"select z_has_point(1002846847, 56.0643, 37.84595, null) as state","Time":0.0033481121063232},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00027704238891602},{"SQL":"select z_has_point(171930, 56.0643, 37.84595, null) as state","Time":0.0027368068695068},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00043702125549316},{"SQL":"select z_has_point(1387421, 56.0643, 37.84595, null) as state","Time":0.0023801326751709},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00028491020202637},{"SQL":"select z_has_point(1387486, 56.0643, 37.84595, null) as state","Time":0.0022327899932861},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00034618377685547},{"SQL":"select z_has_point(1387485, 56.0643, 37.84595, null) as state","Time":0.0022029876708984},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00041389465332031},{"SQL":"select z_has_point(1387499, 56.0643, 37.84595, null) as state","Time":0.0021622180938721},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00028896331787109},{"SQL":"select z_has_point(1387483, 56.0643, 37.84595, null) as state","Time":0.0021188259124756},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00041413307189941},{"SQL":"select z_has_point(1387484, 56.0643, 37.84595, null) as state","Time":0.0024919509887695},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00028395652770996},{"SQL":"select z_has_point(1387619, 56.0643, 37.84595, null) as state","Time":0.0022439956665039},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00038981437683105},{"SQL":"select z_has_point(8710, 56.0643, 37.84595, null) as state","Time":0.0024740695953369},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00030899047851562},{"SQL":"select z_has_point(1002827265, 56.0643, 37.84595, null) as state","Time":0.0021381378173828},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00025105476379395},{"SQL":"select z_has_point(37627, 56.0643, 37.84595, null) as state","Time":0.0022189617156982},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00061607360839844},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022444009780884},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:31:08\') as code","Time":0.013283967971802}]},"timeleft":false}'
2011.11.10 13:31:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:30 DEBUG: Data chunk = b''
2011.11.10 13:31:37 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:37 DEBUG: Recieving...
2011.11.10 13:31:37 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133137,E03814.4010,N5555.2450,145,39.416846652267814,155,12,1.1,14600,14470mV,0,0,0,0,0,41,0*0A!\r\n'
2011.11.10 13:31:37 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133137,E03814.4010,N5555.2450,145,39.416846652267814,155,12,1.1,14600,14470mV,0,0,0,0,0,41,0*0A!\r\n']
2011.11.10 13:31:37 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133137,E03814.4010,N5555.2450,145,39.416846652267814,155,12,1.1,14600,14470mV,0,0,0,0,0,41,0*0A!

2011.11.10 13:31:37 DEBUG: Raw match found.
2011.11.10 13:31:37 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 145.0, 'azimuth': 155.0, 'longitude': 38.24001666666667, 'odometer': 41.0, 'satellitescount': 12, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133137,E03814.4010,N5555.2450,145,39.416846652267814,155,12,1.1,14600,14470mV,0,0,0,0,0,41,0*0A!', 'time': '2011-11-10T13:31:37.000000', 'latitude': 55.92075, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 41.0, 'digital_input2': 0, 'speed': 73.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 73.0, 'uid': '457460032240926_888'}
2011.11.10 13:31:38 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:38 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:38 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:38 DEBUG: Recieving...
2011.11.10 13:31:38 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133138,E03750.3630,N5603.9190,175,31.857451403887687,285,10,1.1,14600,14470mV,0,0,0,0,0,230,0*3C!\r\n'
2011.11.10 13:31:38 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133138,E03750.3630,N5603.9190,175,31.857451403887687,285,10,1.1,14600,14470mV,0,0,0,0,0,230,0*3C!\r\n']
2011.11.10 13:31:38 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133138,E03750.3630,N5603.9190,175,31.857451403887687,285,10,1.1,14600,14470mV,0,0,0,0,0,230,0*3C!

2011.11.10 13:31:38 DEBUG: Raw match found.
2011.11.10 13:31:38 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 175.0, 'azimuth': 285.0, 'longitude': 37.83938333333333, 'odometer': 230.0, 'satellitescount': 10, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133138,E03750.3630,N5603.9190,175,31.857451403887687,285,10,1.1,14600,14470mV,0,0,0,0,0,230,0*3C!', 'time': '2011-11-10T13:31:38.000000', 'latitude': 56.06531666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 230.0, 'digital_input2': 0, 'speed': 59.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 59.0, 'uid': '557460032240926_888'}
2011.11.10 13:31:38 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21028208732605 seconds\\n","1":"Average query length: 0.004474086964384 seconds\\n","2":"Queries per second: 223.50928981946\\n","3":"Longest query length: 0.049544095993042\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.024887084960938},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0039858818054199},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'uj289f9mv8ghrgvb3qu8jqam23\')))","Time":0.0010020732879639},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0027358531951904},{"SQL":"select * from obj_info(38910)","Time":0.00058102607727051},{"SQL":"select * from obj_info(38910)","Time":0.00028419494628906},{"SQL":"select * from obj_prop_total(38910)","Time":0.044906854629517},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014400482177734},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00086784362792969},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045394897460938},{"SQL":"select * from obj_info(104)","Time":0.00026512145996094},{"SQL":"select * from f_prop_total(104)","Time":0.015681982040405},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0032079219818115},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022988319396973},{"SQL":"select * from t_options(\'1006667041\')","Time":0.049544095993042},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0015618801116943},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0017011165618896},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010278224945068},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0005950927734375},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068497657775879},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002432107925415},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00041103363037109},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014278888702393},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018348693847656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.019512176513672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066900253295898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052618980407715},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051999092102051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051093101501465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054788589477539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052380561828613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005340576171875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051689147949219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051403045654297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056910514831543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098299980163574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052309036254883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063610076904297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064992904663086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057101249694824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064301490783691},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:31:37\') as code","Time":0.015085220336914},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408276\')","Time":0.00058293342590332},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044512748718262},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00042295455932617},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041604042053223}]},"timeleft":false}'
2011.11.10 13:31:38 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:38 DEBUG: Data chunk = b''
2011.11.10 13:31:39 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.28997921943665 seconds\\n","1":"Average query length: 0.0036706230308436 seconds\\n","2":"Queries per second: 272.43331488883\\n","3":"Longest query length: 0.046849966049194\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.02890682220459},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036110877990723},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'foh715j3s5kuvaibfgv615e4q5\')))","Time":0.00076913833618164},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0033650398254395},{"SQL":"select * from obj_info(58369)","Time":0.00086307525634766},{"SQL":"select * from obj_info(58369)","Time":0.0004420280456543},{"SQL":"select * from obj_prop_total(58369)","Time":0.046849966049194},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014781951904297},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00085997581481934},{"SQL":"select obj_is_deleted(104) as code","Time":0.00071096420288086},{"SQL":"select * from obj_info(104)","Time":0.0004420280456543},{"SQL":"select * from f_prop_total(104)","Time":0.020134925842285},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0033271312713623},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0031230449676514},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037443161010742},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011458396911621},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0013210773468018},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00075411796569824},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00087189674377441},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00073003768920898},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024209022521973},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00055909156799316},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012600421905518},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0031850337982178},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014958381652832},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068092346191406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000823974609375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066709518432617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072216987609863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080204010009766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089383125305176},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087594985961914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065207481384277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071001052856445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052905082702637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052404403686523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065708160400391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060796737670898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054597854614258},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:31:38\') as code","Time":0.019443988800049},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408277\')","Time":0.00074195861816406},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00068497657775879},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00052118301391602},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00064301490783691},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00077319145202637},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408275)","Time":0.00052809715270996},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00036883354187012},{"SQL":"select * from acc_list(58369)","Time":0.0010290145874023},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0023179054260254},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00095295906066895},{"SQL":"select z_has_point(1002846847, 56.064766666667, 37.84295, null) as state","Time":0.0040318965911865},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00028395652770996},{"SQL":"select z_has_point(171930, 56.064766666667, 37.84295, null) as state","Time":0.0023889541625977},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00032687187194824},{"SQL":"select z_has_point(1387421, 56.064766666667, 37.84295, null) as state","Time":0.0031139850616455},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00026202201843262},{"SQL":"select z_has_point(1387486, 56.064766666667, 37.84295, null) as state","Time":0.0030031204223633},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00038409233093262},{"SQL":"select z_has_point(1387485, 56.064766666667, 37.84295, null) as state","Time":0.0025880336761475},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00035715103149414},{"SQL":"select z_has_point(1387499, 56.064766666667, 37.84295, null) as state","Time":0.0024960041046143},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00028419494628906},{"SQL":"select z_has_point(1387483, 56.064766666667, 37.84295, null) as state","Time":0.0029909610748291},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00036215782165527},{"SQL":"select z_has_point(1387484, 56.064766666667, 37.84295, null) as state","Time":0.0022311210632324},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00032401084899902},{"SQL":"select z_has_point(1387619, 56.064766666667, 37.84295, null) as state","Time":0.0023419857025146},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0002591609954834},{"SQL":"select z_has_point(8710, 56.064766666667, 37.84295, null) as state","Time":0.0023970603942871},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00027084350585938},{"SQL":"select z_has_point(1002827265, 56.064766666667, 37.84295, null) as state","Time":0.0025620460510254},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00039386749267578},{"SQL":"select z_has_point(37627, 56.064766666667, 37.84295, null) as state","Time":0.0034778118133545},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00070714950561523},{"SQL":"select * from notif_get_by_object(58369)","Time":0.032798051834106},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:31:28\') as code","Time":0.013783931732178}]},"timeleft":false}'
2011.11.10 13:31:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:39 DEBUG: Data chunk = b''
2011.11.10 13:31:42 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:42 DEBUG: Recieving...
2011.11.10 13:31:42 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133142,E03119.4430,N5831.8540,19,38.33693304535637,54,11,1.1,14600,14470mV,0,0,0,0,0,258,0*01!\r\n'
2011.11.10 13:31:42 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133142,E03119.4430,N5831.8540,19,38.33693304535637,54,11,1.1,14600,14470mV,0,0,0,0,0,258,0*01!\r\n']
2011.11.10 13:31:42 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133142,E03119.4430,N5831.8540,19,38.33693304535637,54,11,1.1,14600,14470mV,0,0,0,0,0,258,0*01!

2011.11.10 13:31:42 DEBUG: Raw match found.
2011.11.10 13:31:42 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 19.0, 'azimuth': 54.0, 'longitude': 31.32405, 'odometer': 258.0, 'satellitescount': 11, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133142,E03119.4430,N5831.8540,19,38.33693304535637,54,11,1.1,14600,14470mV,0,0,0,0,0,258,0*01!', 'time': '2011-11-10T13:31:42.000000', 'latitude': 58.5309, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 258.0, 'digital_input2': 0, 'speed': 71.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 71.0, 'uid': '657460032240926_888'}
2011.11.10 13:31:43 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19149613380432 seconds\\n","1":"Average query length: 0.0040743858256239 seconds\\n","2":"Queries per second: 245.43576450492\\n","3":"Longest query length: 0.047981023788452\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.023216962814331},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0049967765808105},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'m17kc35i3ee6hcb5kr066goje2\')))","Time":0.0013549327850342},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026950836181641},{"SQL":"select * from obj_info(58372)","Time":0.00075912475585938},{"SQL":"select * from obj_info(58372)","Time":0.00041604042053223},{"SQL":"select * from obj_prop_total(58372)","Time":0.047981023788452},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014162063598633},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0010199546813965},{"SQL":"select obj_is_deleted(104) as code","Time":0.00054597854614258},{"SQL":"select * from obj_info(104)","Time":0.00027608871459961},{"SQL":"select * from f_prop_total(104)","Time":0.017737150192261},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0030310153961182},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0031449794769287},{"SQL":"select * from t_options(\'1006667041\')","Time":0.033402919769287},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011239051818848},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0013389587402344},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067996978759766},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00055718421936035},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068783760070801},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023438930511475},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00032711029052734},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0027039051055908},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0024340152740479},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0019209384918213},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058412551879883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060319900512695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064611434936523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074315071105957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065302848815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070095062255859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065302848815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079989433288574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065279006958008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083184242248535},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009300708770752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001039981842041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060081481933594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048685073852539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061607360839844},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:31:42\') as code","Time":0.021456003189087},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408278\')","Time":0.00067305564880371},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00057697296142578},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00045299530029297},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00051617622375488}]},"timeleft":false}'
2011.11.10 13:31:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:43 DEBUG: Data chunk = b''
2011.11.10 13:31:55 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:55 DEBUG: Recieving...
2011.11.10 13:31:55 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133155,E03814.4250,N5555.2150,142,39.95680345572354,156,12,1.1,14600,14470mV,0,0,0,0,0,62,0*3C!\r\n'
2011.11.10 13:31:55 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133155,E03814.4250,N5555.2150,142,39.95680345572354,156,12,1.1,14600,14470mV,0,0,0,0,0,62,0*3C!\r\n']
2011.11.10 13:31:55 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133155,E03814.4250,N5555.2150,142,39.95680345572354,156,12,1.1,14600,14470mV,0,0,0,0,0,62,0*3C!

2011.11.10 13:31:55 DEBUG: Raw match found.
2011.11.10 13:31:55 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 142.0, 'azimuth': 156.0, 'longitude': 38.24041666666667, 'odometer': 62.0, 'satellitescount': 12, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133155,E03814.4250,N5555.2150,142,39.95680345572354,156,12,1.1,14600,14470mV,0,0,0,0,0,62,0*3C!', 'time': '2011-11-10T13:31:55.000000', 'latitude': 55.92025, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 62.0, 'digital_input2': 0, 'speed': 74.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 74.0, 'uid': '457460032240926_888'}
2011.11.10 13:31:56 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.1946656703949 seconds\\n","1":"Average query length: 0.0041418227743595 seconds\\n","2":"Queries per second: 241.43959181224\\n","3":"Longest query length: 0.045652151107788\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.026646852493286},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050201416015625},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1heff4gsbclvh6d5j50a158h26\')))","Time":0.00094199180603027},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025079250335693},{"SQL":"select * from obj_info(38910)","Time":0.00052809715270996},{"SQL":"select * from obj_info(38910)","Time":0.00026392936706543},{"SQL":"select * from obj_prop_total(38910)","Time":0.045652151107788},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0017788410186768},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00078892707824707},{"SQL":"select obj_is_deleted(104) as code","Time":0.00048303604125977},{"SQL":"select * from obj_info(104)","Time":0.00029611587524414},{"SQL":"select * from f_prop_total(104)","Time":0.020788908004761},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0040359497070312},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026519298553467},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038116931915283},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0012588500976562},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0027182102203369},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00095605850219727},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00083398818969727},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0011179447174072},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0035178661346436},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00046300888061523},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012421607971191},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017631053924561},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095391273498535},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071811676025391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007479190826416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060415267944336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080704689025879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064206123352051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004580020904541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048589706420898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052404403686523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042390823364258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009160041809082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054788589477539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054597854614258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005500316619873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053215026855469},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:31:55\') as code","Time":0.01698899269104},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408279\')","Time":0.00055193901062012},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048995018005371},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00049996376037598},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00052785873413086}]},"timeleft":false}'
2011.11.10 13:31:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:56 DEBUG: Data chunk = b''
2011.11.10 13:31:57 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:57 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:57 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:57 DEBUG: Recieving...
2011.11.10 13:31:57 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133157,E03750.2910,N5603.9290,175,24.838012958963283,284,4,1.1,14600,14470mV,0,0,0,0,0,76,0*38!\r\n'
2011.11.10 13:31:57 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133157,E03750.2910,N5603.9290,175,24.838012958963283,284,4,1.1,14600,14470mV,0,0,0,0,0,76,0*38!\r\n']
2011.11.10 13:31:57 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133157,E03750.2910,N5603.9290,175,24.838012958963283,284,4,1.1,14600,14470mV,0,0,0,0,0,76,0*38!

2011.11.10 13:31:57 DEBUG: Raw match found.
2011.11.10 13:31:57 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 175.0, 'azimuth': 284.0, 'longitude': 37.83818333333333, 'odometer': 76.0, 'satellitescount': 4, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133157,E03750.2910,N5603.9290,175,24.838012958963283,284,4,1.1,14600,14470mV,0,0,0,0,0,76,0*38!', 'time': '2011-11-10T13:31:57.000000', 'latitude': 56.06548333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 76.0, 'digital_input2': 0, 'speed': 46.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 46.0, 'uid': '557460032240926_888'}
2011.11.10 13:31:57 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:31:57 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:31:57 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:31:57 DEBUG: Recieving...
2011.11.10 13:31:57 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133157,E03119.5480,N5831.8940,20,35.09719222462203,54,11,1.1,14600,14470mV,0,0,0,0,0,126,0*01!\r\n'
2011.11.10 13:31:57 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133157,E03119.5480,N5831.8940,20,35.09719222462203,54,11,1.1,14600,14470mV,0,0,0,0,0,126,0*01!\r\n']
2011.11.10 13:31:57 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133157,E03119.5480,N5831.8940,20,35.09719222462203,54,11,1.1,14600,14470mV,0,0,0,0,0,126,0*01!

2011.11.10 13:31:57 DEBUG: Raw match found.
2011.11.10 13:31:57 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 20.0, 'azimuth': 54.0, 'longitude': 31.3258, 'odometer': 126.0, 'satellitescount': 11, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133157,E03119.5480,N5831.8940,20,35.09719222462203,54,11,1.1,14600,14470mV,0,0,0,0,0,126,0*01!', 'time': '2011-11-10T13:31:57.000000', 'latitude': 58.53156666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 126.0, 'digital_input2': 0, 'speed': 65.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 65.0, 'uid': '657460032240926_888'}
2011.11.10 13:31:58 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.33768677711487 seconds\\n","1":"Average query length: 0.004274516166011 seconds\\n","2":"Queries per second: 233.94460593027\\n","3":"Longest query length: 0.054757833480835\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.027251005172729},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052049160003662},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'3r8ar2h8db9l40dneagmsk4t14\')))","Time":0.0011839866638184},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025391578674316},{"SQL":"select * from obj_info(58369)","Time":0.0005800724029541},{"SQL":"select * from obj_info(58369)","Time":0.00028705596923828},{"SQL":"select * from obj_prop_total(58369)","Time":0.051249027252197},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0023128986358643},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0011539459228516},{"SQL":"select obj_is_deleted(104) as code","Time":0.00076484680175781},{"SQL":"select * from obj_info(104)","Time":0.00045585632324219},{"SQL":"select * from f_prop_total(104)","Time":0.025384902954102},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0043809413909912},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0034208297729492},{"SQL":"select * from t_options(\'1006667041\')","Time":0.054757833480835},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0017549991607666},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0019600391387939},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00094318389892578},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00079894065856934},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00089383125305176},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0036368370056152},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00054788589477539},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015850067138672},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0028769969940186},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014040470123291},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071501731872559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062704086303711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048494338989258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056791305541992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017101764678955},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071811676025391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066304206848145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074195861816406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010089874267578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010249614715576},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011470317840576},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012121200561523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081586837768555},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:31:57\') as code","Time":0.023351192474365},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408280\')","Time":0.00078487396240234},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00072598457336426},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00039410591125488},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00066208839416504},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00056004524230957},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408277)","Time":0.00036907196044922},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00036001205444336},{"SQL":"select * from acc_list(58369)","Time":0.00075483322143555},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019168853759766},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0011100769042969},{"SQL":"select z_has_point(1002846847, 56.065316666667, 37.839383333333, null) as state","Time":0.004403829574585},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00034308433532715},{"SQL":"select z_has_point(171930, 56.065316666667, 37.839383333333, null) as state","Time":0.0035340785980225},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00043082237243652},{"SQL":"select z_has_point(1387421, 56.065316666667, 37.839383333333, null) as state","Time":0.0039968490600586},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00034594535827637},{"SQL":"select z_has_point(1387486, 56.065316666667, 37.839383333333, null) as state","Time":0.0029511451721191},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00028109550476074},{"SQL":"select z_has_point(1387485, 56.065316666667, 37.839383333333, null) as state","Time":0.0033102035522461},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00036811828613281},{"SQL":"select z_has_point(1387499, 56.065316666667, 37.839383333333, null) as state","Time":0.0035398006439209},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00040912628173828},{"SQL":"select z_has_point(1387483, 56.065316666667, 37.839383333333, null) as state","Time":0.0033469200134277},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00036501884460449},{"SQL":"select z_has_point(1387484, 56.065316666667, 37.839383333333, null) as state","Time":0.0037310123443604},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00040793418884277},{"SQL":"select z_has_point(1387619, 56.065316666667, 37.839383333333, null) as state","Time":0.0030548572540283},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00026583671569824},{"SQL":"select z_has_point(8710, 56.065316666667, 37.839383333333, null) as state","Time":0.0022730827331543},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.0003049373626709},{"SQL":"select z_has_point(1002827265, 56.065316666667, 37.839383333333, null) as state","Time":0.003483772277832},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00041508674621582},{"SQL":"select z_has_point(37627, 56.065316666667, 37.839383333333, null) as state","Time":0.0029969215393066},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0010271072387695},{"SQL":"select * from notif_get_by_object(58369)","Time":0.03043794631958},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:31:38\') as code","Time":0.019718885421753}]},"timeleft":false}'
2011.11.10 13:31:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:58 DEBUG: Data chunk = b''
2011.11.10 13:31:58 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.23482322692871 seconds\\n","1":"Average query length: 0.0049962388708236 seconds\\n","2":"Queries per second: 200.15055842099\\n","3":"Longest query length: 0.066745042800903\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.028731822967529},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0051949024200439},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'43bhn9p54iq5itl7allq4dtd16\')))","Time":0.00081586837768555},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0037961006164551},{"SQL":"select * from obj_info(58372)","Time":0.0012059211730957},{"SQL":"select * from obj_info(58372)","Time":0.00044083595275879},{"SQL":"select * from obj_prop_total(58372)","Time":0.066745042800903},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0023438930511475},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00089287757873535},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046610832214355},{"SQL":"select * from obj_info(104)","Time":0.00041604042053223},{"SQL":"select * from f_prop_total(104)","Time":0.017844915390015},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038950443267822},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022170543670654},{"SQL":"select * from t_options(\'1006667041\')","Time":0.05129599571228},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0016870498657227},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0022199153900146},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00095009803771973},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064992904663086},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00094795227050781},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0036799907684326},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00042891502380371},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012929439544678},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0028069019317627},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001129150390625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067710876464844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016839504241943},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005500316619873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051307678222656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066208839416504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066113471984863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066494941711426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095200538635254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067996978759766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064921379089355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062918663024902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064301490783691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000579833984375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056910514831543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083279609680176},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092005729675293},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:31:57\') as code","Time":0.016963958740234},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408281\')","Time":0.00069093704223633},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0010688304901123},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00071287155151367},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00088286399841309}]},"timeleft":false}'
2011.11.10 13:31:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:31:58 DEBUG: Data chunk = b''
2011.11.10 13:32:15 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:32:15 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:32:15 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:32:15 DEBUG: Recieving...
2011.11.10 13:32:15 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133215,E03814.4670,N5555.1640,138,41.036717062634985,155,5,1.1,14600,14470mV,0,0,0,0,0,105,0*08!\r\n'
2011.11.10 13:32:15 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133215,E03814.4670,N5555.1640,138,41.036717062634985,155,5,1.1,14600,14470mV,0,0,0,0,0,105,0*08!\r\n']
2011.11.10 13:32:15 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133215,E03814.4670,N5555.1640,138,41.036717062634985,155,5,1.1,14600,14470mV,0,0,0,0,0,105,0*08!

2011.11.10 13:32:15 DEBUG: Raw match found.
2011.11.10 13:32:15 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 138.0, 'azimuth': 155.0, 'longitude': 38.24111666666667, 'odometer': 105.0, 'satellitescount': 5, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133215,E03814.4670,N5555.1640,138,41.036717062634985,155,5,1.1,14600,14470mV,0,0,0,0,0,105,0*08!', 'time': '2011-11-10T13:32:15.000000', 'latitude': 55.9194, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 105.0, 'digital_input2': 0, 'speed': 76.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 76.0, 'uid': '457460032240926_888'}
2011.11.10 13:32:16 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:32:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:32:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:32:16 DEBUG: Recieving...
2011.11.10 13:32:16 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133216,E03750.2650,N5603.9510,175,16.198704103671705,326,7,1.1,14600,14470mV,0,0,0,0,0,50,0*37!\r\n'
2011.11.10 13:32:16 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133216,E03750.2650,N5603.9510,175,16.198704103671705,326,7,1.1,14600,14470mV,0,0,0,0,0,50,0*37!\r\n']
2011.11.10 13:32:16 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133216,E03750.2650,N5603.9510,175,16.198704103671705,326,7,1.1,14600,14470mV,0,0,0,0,0,50,0*37!

2011.11.10 13:32:16 DEBUG: Raw match found.
2011.11.10 13:32:16 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 175.0, 'azimuth': 326.0, 'longitude': 37.83775, 'odometer': 50.0, 'satellitescount': 7, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133216,E03750.2650,N5603.9510,175,16.198704103671705,326,7,1.1,14600,14470mV,0,0,0,0,0,50,0*37!', 'time': '2011-11-10T13:32:16.000000', 'latitude': 56.06585, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 50.0, 'digital_input2': 0, 'speed': 30.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 30.0, 'uid': '557460032240926_888'}
2011.11.10 13:32:16 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:32:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:32:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:32:16 DEBUG: Recieving...
2011.11.10 13:32:16 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133216,E03119.6510,N5831.9250,22,31.857451403887687,60,12,1.1,14600,14470mV,0,0,0,0,0,115,0*33!\r\n'
2011.11.10 13:32:16 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133216,E03119.6510,N5831.9250,22,31.857451403887687,60,12,1.1,14600,14470mV,0,0,0,0,0,115,0*33!\r\n']
2011.11.10 13:32:16 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133216,E03119.6510,N5831.9250,22,31.857451403887687,60,12,1.1,14600,14470mV,0,0,0,0,0,115,0*33!

2011.11.10 13:32:16 DEBUG: Raw match found.
2011.11.10 13:32:16 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 22.0, 'azimuth': 60.0, 'longitude': 31.327516666666668, 'odometer': 115.0, 'satellitescount': 12, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133216,E03119.6510,N5831.9250,22,31.857451403887687,60,12,1.1,14600,14470mV,0,0,0,0,0,115,0*33!', 'time': '2011-11-10T13:32:16.000000', 'latitude': 58.53208333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 115.0, 'digital_input2': 0, 'speed': 59.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 59.0, 'uid': '657460032240926_888'}
2011.11.10 13:32:16 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19247460365295 seconds\\n","1":"Average query length: 0.0040952043330416 seconds\\n","2":"Queries per second: 244.18805966082\\n","3":"Longest query length: 0.048290014266968\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.028077125549316},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0058448314666748},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ugu8bqbs1bsmq41l30n3go6up6\')))","Time":0.0011498928070068},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0028131008148193},{"SQL":"select * from obj_info(38910)","Time":0.0006098747253418},{"SQL":"select * from obj_info(38910)","Time":0.00029182434082031},{"SQL":"select * from obj_prop_total(38910)","Time":0.048290014266968},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014259815216064},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00095605850219727},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044798851013184},{"SQL":"select * from obj_info(104)","Time":0.0002739429473877},{"SQL":"select * from f_prop_total(104)","Time":0.014454126358032},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037679672241211},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0027151107788086},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036450862884521},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0016639232635498},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0022401809692383},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00083804130554199},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006110668182373},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00067615509033203},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024118423461914},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00037097930908203},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011839866638184},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017831325531006},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0061519145965576},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072598457336426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060009956359863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059008598327637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059294700622559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072312355041504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060009956359863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058078765869141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006260871887207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059390068054199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058889389038086},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:32:15\') as code","Time":0.014373779296875},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408282\')","Time":0.0007929801940918},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0005500316619873},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00041604042053223},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044989585876465}]},"timeleft":false}'
2011.11.10 13:32:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:32:16 DEBUG: Data chunk = b''
2011.11.10 13:32:17 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.23645353317261 seconds\\n","1":"Average query length: 0.0050309262377151 seconds\\n","2":"Queries per second: 198.7705549136\\n","3":"Longest query length: 0.069299936294556\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.031713962554932},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0054481029510498},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'tvo8744o70ejg08frde820ocg5\')))","Time":0.00095701217651367},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0038409233093262},{"SQL":"select * from obj_info(58372)","Time":0.000885009765625},{"SQL":"select * from obj_info(58372)","Time":0.0004119873046875},{"SQL":"select * from obj_prop_total(58372)","Time":0.069299936294556},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0022058486938477},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0010669231414795},{"SQL":"select obj_is_deleted(104) as code","Time":0.00060391426086426},{"SQL":"select * from obj_info(104)","Time":0.00040721893310547},{"SQL":"select * from f_prop_total(104)","Time":0.019284963607788},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024750232696533},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021438598632812},{"SQL":"select * from t_options(\'1006667041\')","Time":0.040153026580811},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011899471282959},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0013458728790283},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00057101249694824},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068211555480957},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00070810317993164},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0034389495849609},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00043916702270508},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001723051071167},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017631053924561},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015308856964111},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057411193847656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059318542480469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058507919311523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069284439086914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064778327941895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0061240196228027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064396858215332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060009956359863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059413909912109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005640983581543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062012672424316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044584274291992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052690505981445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049209594726562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046706199645996},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:32:16\') as code","Time":0.024443864822388},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408284\')","Time":0.0007481575012207},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00070810317993164},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00050711631774902},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044703483581543}]},"timeleft":false}'
2011.11.10 13:32:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:32:17 DEBUG: Data chunk = b''
2011.11.10 13:32:17 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.34028387069702 seconds\\n","1":"Average query length: 0.0043073907683167 seconds\\n","2":"Queries per second: 232.1591083297\\n","3":"Longest query length: 0.062716960906982\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.02648401260376},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0040440559387207},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'qag0mdb4a9dntti63664v871c2\')))","Time":0.00077700614929199},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026431083679199},{"SQL":"select * from obj_info(58369)","Time":0.00055408477783203},{"SQL":"select * from obj_info(58369)","Time":0.00029516220092773},{"SQL":"select * from obj_prop_total(58369)","Time":0.057456016540527},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0022950172424316},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0011141300201416},{"SQL":"select obj_is_deleted(104) as code","Time":0.00073099136352539},{"SQL":"select * from obj_info(104)","Time":0.00039386749267578},{"SQL":"select * from f_prop_total(104)","Time":0.018768787384033},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.004021167755127},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032260417938232},{"SQL":"select * from t_options(\'1006667041\')","Time":0.062716960906982},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0018210411071777},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0020170211791992},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00094199180603027},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00080204010009766},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013630390167236},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0039210319519043},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00050115585327148},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016679763793945},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0028998851776123},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016491413116455},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013179779052734},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077009201049805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057792663574219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010690689086914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070786476135254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005650520324707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052905082702637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073504447937012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00037217140197754},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087714195251465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011820793151855},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052905082702637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051498413085938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053691864013672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:32:16\') as code","Time":0.017971038818359},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408283\')","Time":0.0005040168762207},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00047087669372559},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0004880428314209},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00073504447937012},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00075387954711914},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408280)","Time":0.00047016143798828},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00026202201843262},{"SQL":"select * from acc_list(58369)","Time":0.00070405006408691},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019500255584717},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00099492073059082},{"SQL":"select z_has_point(1002846847, 56.065483333333, 37.838183333333, null) as state","Time":0.0032329559326172},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00025391578674316},{"SQL":"select z_has_point(171930, 56.065483333333, 37.838183333333, null) as state","Time":0.0023210048675537},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00026607513427734},{"SQL":"select z_has_point(1387421, 56.065483333333, 37.838183333333, null) as state","Time":0.0026099681854248},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00036501884460449},{"SQL":"select z_has_point(1387486, 56.065483333333, 37.838183333333, null) as state","Time":0.0035200119018555},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00044584274291992},{"SQL":"select z_has_point(1387485, 56.065483333333, 37.838183333333, null) as state","Time":0.0035028457641602},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00036501884460449},{"SQL":"select z_has_point(1387499, 56.065483333333, 37.838183333333, null) as state","Time":0.0027658939361572},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00031185150146484},{"SQL":"select z_has_point(1387483, 56.065483333333, 37.838183333333, null) as state","Time":0.0025720596313477},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00035405158996582},{"SQL":"select z_has_point(1387484, 56.065483333333, 37.838183333333, null) as state","Time":0.0035731792449951},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00032591819763184},{"SQL":"select z_has_point(1387619, 56.065483333333, 37.838183333333, null) as state","Time":0.0029220581054688},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00038695335388184},{"SQL":"select z_has_point(8710, 56.065483333333, 37.838183333333, null) as state","Time":0.0037379264831543},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00027894973754883},{"SQL":"select z_has_point(1002827265, 56.065483333333, 37.838183333333, null) as state","Time":0.0037319660186768},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00042915344238281},{"SQL":"select z_has_point(37627, 56.065483333333, 37.838183333333, null) as state","Time":0.0026340484619141},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00098180770874023},{"SQL":"select * from notif_get_by_object(58369)","Time":0.034625053405762},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:31:57\') as code","Time":0.023405075073242}]},"timeleft":false}'
2011.11.10 13:32:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:32:17 DEBUG: Data chunk = b''
2011.11.10 13:32:27 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:32:27 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:32:27 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:32:27 DEBUG: Recieving...
2011.11.10 13:32:27 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133227,E03814.5190,N5555.1020,135,41.036717062634985,155,4,1.1,14600,14470mV,0,0,0,0,0,126,0*0C!\r\n'
2011.11.10 13:32:27 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133227,E03814.5190,N5555.1020,135,41.036717062634985,155,4,1.1,14600,14470mV,0,0,0,0,0,126,0*0C!\r\n']
2011.11.10 13:32:27 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133227,E03814.5190,N5555.1020,135,41.036717062634985,155,4,1.1,14600,14470mV,0,0,0,0,0,126,0*0C!

2011.11.10 13:32:27 DEBUG: Raw match found.
2011.11.10 13:32:27 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 135.0, 'azimuth': 155.0, 'longitude': 38.24198333333333, 'odometer': 126.0, 'satellitescount': 4, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133227,E03814.5190,N5555.1020,135,41.036717062634985,155,4,1.1,14600,14470mV,0,0,0,0,0,126,0*0C!', 'time': '2011-11-10T13:32:27.000000', 'latitude': 55.918366666666664, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 126.0, 'digital_input2': 0, 'speed': 76.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 76.0, 'uid': '457460032240926_888'}
2011.11.10 13:32:28 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.24137210845947 seconds\\n","1":"Average query length: 0.0051355767757335 seconds\\n","2":"Queries per second: 194.72009545747\\n","3":"Longest query length: 0.049535036087036\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.03026008605957},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0049648284912109},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1qi5ph412hg1os80vkp7bjqii3\')))","Time":0.0006558895111084},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025680065155029},{"SQL":"select * from obj_info(38910)","Time":0.00055813789367676},{"SQL":"select * from obj_info(38910)","Time":0.00030398368835449},{"SQL":"select * from obj_prop_total(38910)","Time":0.049535036087036},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015718936920166},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010731220245361},{"SQL":"select obj_is_deleted(104) as code","Time":0.00057792663574219},{"SQL":"select * from obj_info(104)","Time":0.00029897689819336},{"SQL":"select * from f_prop_total(104)","Time":0.017035961151123},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0031640529632568},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0024909973144531},{"SQL":"select * from t_options(\'1006667041\')","Time":0.047623157501221},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0017199516296387},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0014500617980957},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.000946044921875},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081396102905273},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012290477752686},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0028688907623291},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00035500526428223},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0064628124237061},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0034768581390381},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.033375024795532},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067591667175293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066399574279785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006251335144043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063395500183105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059890747070312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058889389038086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063991546630859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066399574279785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074481964111328},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014078617095947},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063800811767578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065088272094727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071287155151367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:32:27\') as code","Time":0.012347936630249},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408285\')","Time":0.00059103965759277},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00065708160400391},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00036716461181641},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040888786315918}]},"timeleft":false}'
2011.11.10 13:32:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:32:28 DEBUG: Data chunk = b''
2011.11.10 13:32:30 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:32:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:32:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:32:30 DEBUG: Recieving...
2011.11.10 13:32:30 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133230,E03750.2630,N5604.0850,176,28.617710583153347,360,12,1.1,14600,14470mV,0,0,0,0,0,249,0*3C!\r\n'
2011.11.10 13:32:30 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133230,E03750.2630,N5604.0850,176,28.617710583153347,360,12,1.1,14600,14470mV,0,0,0,0,0,249,0*3C!\r\n']
2011.11.10 13:32:30 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133230,E03750.2630,N5604.0850,176,28.617710583153347,360,12,1.1,14600,14470mV,0,0,0,0,0,249,0*3C!

2011.11.10 13:32:30 DEBUG: Raw match found.
2011.11.10 13:32:30 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 176.0, 'azimuth': 360.0, 'longitude': 37.837716666666665, 'odometer': 249.0, 'satellitescount': 12, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133230,E03750.2630,N5604.0850,176,28.617710583153347,360,12,1.1,14600,14470mV,0,0,0,0,0,249,0*3C!', 'time': '2011-11-10T13:32:30.000000', 'latitude': 56.068083333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 249.0, 'digital_input2': 0, 'speed': 53.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 53.0, 'uid': '557460032240926_888'}
2011.11.10 13:32:31 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27377939224243 seconds\\n","1":"Average query length: 0.0034655619271194 seconds\\n","2":"Queries per second: 288.5534932083\\n","3":"Longest query length: 0.04974102973938\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.028118133544922},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0056388378143311},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'86p3p72lua6a7rpp0e4f5or7o6\')))","Time":0.0008540153503418},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0037591457366943},{"SQL":"select * from obj_info(58369)","Time":0.00074505805969238},{"SQL":"select * from obj_info(58369)","Time":0.0003509521484375},{"SQL":"select * from obj_prop_total(58369)","Time":0.04974102973938},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014140605926514},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00074291229248047},{"SQL":"select obj_is_deleted(104) as code","Time":0.00069904327392578},{"SQL":"select * from obj_info(104)","Time":0.00046110153198242},{"SQL":"select * from f_prop_total(104)","Time":0.015594005584717},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026500225067139},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026569366455078},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037826061248779},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0016801357269287},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0014350414276123},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00072813034057617},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065898895263672},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00066685676574707},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0030879974365234},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00036406517028809},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.00152587890625},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019888877868652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0018730163574219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010199546813965},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078892707824707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006258487701416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068092346191406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065302848815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095009803771973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059986114501953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071597099304199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005948543548584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063300132751465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087404251098633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075984001159668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047111511230469},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:32:30\') as code","Time":0.0156569480896},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408286\')","Time":0.00055813789367676},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043797492980957},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00033402442932129},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041794776916504},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00053000450134277},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408283)","Time":0.00044083595275879},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00028610229492188},{"SQL":"select * from acc_list(58369)","Time":0.00075697898864746},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0021078586578369},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00073790550231934},{"SQL":"select z_has_point(1002846847, 56.06585, 37.83775, null) as state","Time":0.0042800903320312},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00028109550476074},{"SQL":"select z_has_point(171930, 56.06585, 37.83775, null) as state","Time":0.0025269985198975},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00027298927307129},{"SQL":"select z_has_point(1387421, 56.06585, 37.83775, null) as state","Time":0.0023179054260254},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00028800964355469},{"SQL":"select z_has_point(1387486, 56.06585, 37.83775, null) as state","Time":0.002187967300415},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00033783912658691},{"SQL":"select z_has_point(1387485, 56.06585, 37.83775, null) as state","Time":0.0023648738861084},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0003349781036377},{"SQL":"select z_has_point(1387499, 56.06585, 37.83775, null) as state","Time":0.0037000179290771},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00027012825012207},{"SQL":"select z_has_point(1387483, 56.06585, 37.83775, null) as state","Time":0.00229811668396},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00033688545227051},{"SQL":"select z_has_point(1387484, 56.06585, 37.83775, null) as state","Time":0.0024318695068359},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00032997131347656},{"SQL":"select z_has_point(1387619, 56.06585, 37.83775, null) as state","Time":0.0024871826171875},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00026583671569824},{"SQL":"select z_has_point(8710, 56.06585, 37.83775, null) as state","Time":0.0025808811187744},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00025701522827148},{"SQL":"select z_has_point(1002827265, 56.06585, 37.83775, null) as state","Time":0.002669095993042},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00027799606323242},{"SQL":"select z_has_point(37627, 56.06585, 37.83775, null) as state","Time":0.0023090839385986},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00069499015808105},{"SQL":"select * from notif_get_by_object(58369)","Time":0.024049997329712},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:32:16\') as code","Time":0.0141921043396}]},"timeleft":false}'
2011.11.10 13:32:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:32:31 DEBUG: Data chunk = b''
2011.11.10 13:32:33 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:32:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:32:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:32:33 DEBUG: Recieving...
2011.11.10 13:32:33 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133233,E03119.7160,N5831.9400,22,26.997840172786177,66,6,1.1,14600,14470mV,0,0,0,0,0,69,0*3E!\r\n'
2011.11.10 13:32:33 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133233,E03119.7160,N5831.9400,22,26.997840172786177,66,6,1.1,14600,14470mV,0,0,0,0,0,69,0*3E!\r\n']
2011.11.10 13:32:33 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133233,E03119.7160,N5831.9400,22,26.997840172786177,66,6,1.1,14600,14470mV,0,0,0,0,0,69,0*3E!

2011.11.10 13:32:33 DEBUG: Raw match found.
2011.11.10 13:32:33 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 22.0, 'azimuth': 66.0, 'longitude': 31.3286, 'odometer': 69.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133233,E03119.7160,N5831.9400,22,26.997840172786177,66,6,1.1,14600,14470mV,0,0,0,0,0,69,0*3E!', 'time': '2011-11-10T13:32:33.000000', 'latitude': 58.532333333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 69.0, 'digital_input2': 0, 'speed': 50.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 50.0, 'uid': '657460032240926_888'}
2011.11.10 13:32:34 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17475175857544 seconds\\n","1":"Average query length: 0.0037181225228817 seconds\\n","2":"Queries per second: 268.95294435455\\n","3":"Longest query length: 0.046067953109741\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.020637989044189},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034749507904053},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'15dnsdvktmg7qqahqn7rvklpf3\')))","Time":0.00070810317993164},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0028040409088135},{"SQL":"select * from obj_info(58372)","Time":0.00066399574279785},{"SQL":"select * from obj_info(58372)","Time":0.00029706954956055},{"SQL":"select * from obj_prop_total(58372)","Time":0.046067953109741},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0015969276428223},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00082898139953613},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045895576477051},{"SQL":"select * from obj_info(104)","Time":0.00033998489379883},{"SQL":"select * from f_prop_total(104)","Time":0.017550945281982},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025081634521484},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021250247955322},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036229133605957},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0015659332275391},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0018908977508545},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064492225646973},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00055694580078125},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.001007080078125},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023791790008545},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00031590461730957},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011911392211914},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018081665039062},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011968612670898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050997734069824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052785873413086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093984603881836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050902366638184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005190372467041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050711631774902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048303604125977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048494338989258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051188468933105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048017501831055},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051999092102051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050187110900879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060415267944336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064396858215332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0003972053527832},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:32:33\') as code","Time":0.014656066894531},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408287\')","Time":0.00058603286743164},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0004570484161377},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035619735717773},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040411949157715}]},"timeleft":false}'
2011.11.10 13:32:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:32:34 DEBUG: Data chunk = b''
2011.11.10 13:32:37 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:32:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:32:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:32:37 DEBUG: Recieving...
2011.11.10 13:32:37 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133237,E03814.5720,N5555.0530,135,41.036717062634985,148,9,1.1,14600,14470mV,0,0,0,0,0,106,0*06!\r\n'
2011.11.10 13:32:37 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133237,E03814.5720,N5555.0530,135,41.036717062634985,148,9,1.1,14600,14470mV,0,0,0,0,0,106,0*06!\r\n']
2011.11.10 13:32:37 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133237,E03814.5720,N5555.0530,135,41.036717062634985,148,9,1.1,14600,14470mV,0,0,0,0,0,106,0*06!

2011.11.10 13:32:37 DEBUG: Raw match found.
2011.11.10 13:32:37 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 135.0, 'azimuth': 148.0, 'longitude': 38.242866666666664, 'odometer': 106.0, 'satellitescount': 9, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133237,E03814.5720,N5555.0530,135,41.036717062634985,148,9,1.1,14600,14470mV,0,0,0,0,0,106,0*06!', 'time': '2011-11-10T13:32:37.000000', 'latitude': 55.91755, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 106.0, 'digital_input2': 0, 'speed': 76.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 76.0, 'uid': '457460032240926_888'}
2011.11.10 13:32:38 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.2030234336853 seconds\\n","1":"Average query length: 0.0043196475252192 seconds\\n","2":"Queries per second: 231.50036991716\\n","3":"Longest query length: 0.04781699180603\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.030411005020142},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0054259300231934},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'n61onhpjf5h4pocrt6cnff2gm1\')))","Time":0.0011250972747803},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025568008422852},{"SQL":"select * from obj_info(38910)","Time":0.00075793266296387},{"SQL":"select * from obj_info(38910)","Time":0.00029993057250977},{"SQL":"select * from obj_prop_total(38910)","Time":0.04781699180603},{"SQL":"select obj_is_deleted(38910) as code","Time":0.001615047454834},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00080394744873047},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005638599395752},{"SQL":"select * from obj_info(104)","Time":0.00029301643371582},{"SQL":"select * from f_prop_total(104)","Time":0.018514156341553},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0030090808868408},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002183198928833},{"SQL":"select * from t_options(\'1006667041\')","Time":0.044877052307129},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0012650489807129},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.001884937286377},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00089597702026367},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00057077407836914},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00071620941162109},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0037310123443604},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0004580020904541},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015048980712891},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0027258396148682},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012431144714355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076198577880859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006258487701416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057888031005859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072193145751953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000640869140625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063800811767578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068402290344238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063395500183105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067901611328125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069499015808105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008399486541748},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074195861816406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060009956359863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051212310791016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:32:37\') as code","Time":0.014493942260742},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408288\')","Time":0.00079011917114258},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00061297416687012},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00032997131347656},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00038599967956543}]},"timeleft":false}'
2011.11.10 13:32:38 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:32:38 DEBUG: Data chunk = b''
2011.11.10 13:32:45 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:32:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:32:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:32:45 DEBUG: Recieving...
2011.11.10 13:32:45 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133245,E03750.2580,N5604.3530,175,37.25701943844492,359,10,1.1,14600,14470mV,0,0,0,0,0,497,0*09!\r\n'
2011.11.10 13:32:45 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133245,E03750.2580,N5604.3530,175,37.25701943844492,359,10,1.1,14600,14470mV,0,0,0,0,0,497,0*09!\r\n']
2011.11.10 13:32:45 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133245,E03750.2580,N5604.3530,175,37.25701943844492,359,10,1.1,14600,14470mV,0,0,0,0,0,497,0*09!

2011.11.10 13:32:45 DEBUG: Raw match found.
2011.11.10 13:32:45 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 175.0, 'azimuth': 359.0, 'longitude': 37.837633333333336, 'odometer': 497.0, 'satellitescount': 10, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133245,E03750.2580,N5604.3530,175,37.25701943844492,359,10,1.1,14600,14470mV,0,0,0,0,0,497,0*09!', 'time': '2011-11-10T13:32:45.000000', 'latitude': 56.07255, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 497.0, 'digital_input2': 0, 'speed': 69.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 69.0, 'uid': '557460032240926_888'}
2011.11.10 13:32:46 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.29220771789551 seconds\\n","1":"Average query length: 0.003698831872095 seconds\\n","2":"Queries per second: 270.35562431055\\n","3":"Longest query length: 0.050105094909668\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.030494928359985},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034611225128174},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'f2vtedoiqcp2eimlddlqmlfah1\')))","Time":0.00098919868469238},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0028491020202637},{"SQL":"select * from obj_info(58369)","Time":0.00074911117553711},{"SQL":"select * from obj_info(58369)","Time":0.00035595893859863},{"SQL":"select * from obj_prop_total(58369)","Time":0.050105094909668},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0016899108886719},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00074195861816406},{"SQL":"select obj_is_deleted(104) as code","Time":0.00080204010009766},{"SQL":"select * from obj_info(104)","Time":0.00045013427734375},{"SQL":"select * from f_prop_total(104)","Time":0.01883602142334},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037949085235596},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002683162689209},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036343097686768},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0016021728515625},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012130737304688},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00082993507385254},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00086498260498047},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00067877769470215},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023870468139648},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034713745117188},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016829967498779},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.002108097076416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.011558055877686},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058388710021973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050115585327148},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078892707824707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075101852416992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064301490783691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059318542480469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058984756469727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077009201049805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005180835723877},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062203407287598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051617622375488},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063991546630859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089287757873535},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097084045410156},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:32:45\') as code","Time":0.015136003494263},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408289\')","Time":0.00050711631774902},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00041508674621582},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0003211498260498},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0004119873046875},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00051403045654297},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408286)","Time":0.00057005882263184},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00032877922058105},{"SQL":"select * from acc_list(58369)","Time":0.0010130405426025},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0026390552520752},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00084304809570312},{"SQL":"select z_has_point(1002846847, 56.068083333333, 37.837716666667, null) as state","Time":0.0033798217773438},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00026607513427734},{"SQL":"select z_has_point(171930, 56.068083333333, 37.837716666667, null) as state","Time":0.0023021697998047},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00027585029602051},{"SQL":"select z_has_point(1387421, 56.068083333333, 37.837716666667, null) as state","Time":0.0021860599517822},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(1387486, 56.068083333333, 37.837716666667, null) as state","Time":0.0033969879150391},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00027203559875488},{"SQL":"select z_has_point(1387485, 56.068083333333, 37.837716666667, null) as state","Time":0.0021989345550537},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00026297569274902},{"SQL":"select z_has_point(1387499, 56.068083333333, 37.837716666667, null) as state","Time":0.0022459030151367},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.0002739429473877},{"SQL":"select z_has_point(1387483, 56.068083333333, 37.837716666667, null) as state","Time":0.0035800933837891},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00043606758117676},{"SQL":"select z_has_point(1387484, 56.068083333333, 37.837716666667, null) as state","Time":0.0022449493408203},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00031399726867676},{"SQL":"select z_has_point(1387619, 56.068083333333, 37.837716666667, null) as state","Time":0.0035219192504883},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00034499168395996},{"SQL":"select z_has_point(8710, 56.068083333333, 37.837716666667, null) as state","Time":0.0029840469360352},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00026488304138184},{"SQL":"select z_has_point(1002827265, 56.068083333333, 37.837716666667, null) as state","Time":0.0022928714752197},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00027799606323242},{"SQL":"select z_has_point(37627, 56.068083333333, 37.837716666667, null) as state","Time":0.0029950141906738},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0006248950958252},{"SQL":"select * from notif_get_by_object(58369)","Time":0.028055906295776},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:32:30\') as code","Time":0.015522956848145}]},"timeleft":false}'
2011.11.10 13:32:46 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:32:46 DEBUG: Data chunk = b''
2011.11.10 13:32:52 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:32:52 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:32:52 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:32:52 DEBUG: Recieving...
2011.11.10 13:32:52 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133252,E03119.8150,N5831.9570,22,24.29805615550756,72,4,1.1,14600,14470mV,0,0,0,0,0,101,0*3E!\r\n'
2011.11.10 13:32:52 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133252,E03119.8150,N5831.9570,22,24.29805615550756,72,4,1.1,14600,14470mV,0,0,0,0,0,101,0*3E!\r\n']
2011.11.10 13:32:52 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133252,E03119.8150,N5831.9570,22,24.29805615550756,72,4,1.1,14600,14470mV,0,0,0,0,0,101,0*3E!

2011.11.10 13:32:52 DEBUG: Raw match found.
2011.11.10 13:32:52 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 22.0, 'azimuth': 72.0, 'longitude': 31.33025, 'odometer': 101.0, 'satellitescount': 4, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133252,E03119.8150,N5831.9570,22,24.29805615550756,72,4,1.1,14600,14470mV,0,0,0,0,0,101,0*3E!', 'time': '2011-11-10T13:32:52.000000', 'latitude': 58.53261666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 101.0, 'digital_input2': 0, 'speed': 45.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 45.0, 'uid': '657460032240926_888'}
2011.11.10 13:32:53 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.20069479942322 seconds\\n","1":"Average query length: 0.0042701021153876 seconds\\n","2":"Queries per second: 234.18643699326\\n","3":"Longest query length: 0.048197984695435\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.036782026290894},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0058448314666748},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'u6h9r8oke716dgtf5m4b1qf3n3\')))","Time":0.00092196464538574},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0037319660186768},{"SQL":"select * from obj_info(58372)","Time":0.00090813636779785},{"SQL":"select * from obj_info(58372)","Time":0.00037384033203125},{"SQL":"select * from obj_prop_total(58372)","Time":0.048197984695435},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0022099018096924},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00099396705627441},{"SQL":"select obj_is_deleted(104) as code","Time":0.00065803527832031},{"SQL":"select * from obj_info(104)","Time":0.00034379959106445},{"SQL":"select * from f_prop_total(104)","Time":0.018423080444336},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0028481483459473},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021231174468994},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036279916763306},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0015079975128174},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0019619464874268},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064992904663086},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00069808959960938},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00072789192199707},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002532958984375},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00042891502380371},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012950897216797},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.001971960067749},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010240077972412},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051116943359375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045680999755859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048613548278809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047612190246582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046205520629883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048184394836426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047492980957031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046706199645996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068497657775879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012722015380859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072813034057617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054788589477539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054812431335449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053691864013672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065302848815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005490779876709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005338191986084},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:32:52\') as code","Time":0.015620946884155},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408290\')","Time":0.00057005882263184},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043296813964844},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034999847412109},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041103363037109}]},"timeleft":false}'
2011.11.10 13:32:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:32:53 DEBUG: Data chunk = b''
2011.11.10 13:32:56 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:32:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:32:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:32:56 DEBUG: Recieving...
2011.11.10 13:32:56 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133256,E03814.6450,N5554.9970,139,42.11663066954643,144,5,1.1,14600,14470mV,0,0,0,0,0,129,0*3B!\r\n'
2011.11.10 13:32:56 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133256,E03814.6450,N5554.9970,139,42.11663066954643,144,5,1.1,14600,14470mV,0,0,0,0,0,129,0*3B!\r\n']
2011.11.10 13:32:56 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133256,E03814.6450,N5554.9970,139,42.11663066954643,144,5,1.1,14600,14470mV,0,0,0,0,0,129,0*3B!

2011.11.10 13:32:56 DEBUG: Raw match found.
2011.11.10 13:32:56 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 139.0, 'azimuth': 144.0, 'longitude': 38.244083333333336, 'odometer': 129.0, 'satellitescount': 5, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133256,E03814.6450,N5554.9970,139,42.11663066954643,144,5,1.1,14600,14470mV,0,0,0,0,0,129,0*3B!', 'time': '2011-11-10T13:32:56.000000', 'latitude': 55.91661666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 129.0, 'digital_input2': 0, 'speed': 78.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 78.0, 'uid': '457460032240926_888'}
2011.11.10 13:32:57 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.2131679058075 seconds\\n","1":"Average query length: 0.0045354873576063 seconds\\n","2":"Queries per second: 220.48347204032\\n","3":"Longest query length: 0.049359083175659\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.027144908905029},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0041720867156982},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1evl2eg1im6b4cpcpusdbmtq85\')))","Time":0.00066304206848145},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0035741329193115},{"SQL":"select * from obj_info(38910)","Time":0.00060606002807617},{"SQL":"select * from obj_info(38910)","Time":0.00027799606323242},{"SQL":"select * from obj_prop_total(38910)","Time":0.043109893798828},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014419555664062},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010769367218018},{"SQL":"select obj_is_deleted(104) as code","Time":0.00084590911865234},{"SQL":"select * from obj_info(104)","Time":0.00060319900512695},{"SQL":"select * from f_prop_total(104)","Time":0.023673057556152},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0035181045532227},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032718181610107},{"SQL":"select * from t_options(\'1006667041\')","Time":0.049359083175659},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0014290809631348},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0020568370819092},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00088405609130859},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067305564880371},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00075006484985352},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027139186859131},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00039100646972656},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0074667930603027},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020010471343994},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012331008911133},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046706199645996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043606758117676},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042414665222168},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042486190795898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045013427734375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045108795166016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012748241424561},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007472038269043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055384635925293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053286552429199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053811073303223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054597854614258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074887275695801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064992904663086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060915946960449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:32:56\') as code","Time":0.017828941345215},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408291\')","Time":0.00068402290344238},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00067782402038574},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00049400329589844},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00054788589477539}]},"timeleft":false}'
2011.11.10 13:32:57 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:32:57 DEBUG: Data chunk = b''
2011.11.10 13:33:04 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:33:04 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:33:04 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:33:04 DEBUG: Recieving...
2011.11.10 13:33:04 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133304,E03750.2550,N5604.6140,177,42.656587473002155,360,11,1.1,14600,14470mV,0,0,0,0,0,484,0*3B!\r\n'
2011.11.10 13:33:04 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133304,E03750.2550,N5604.6140,177,42.656587473002155,360,11,1.1,14600,14470mV,0,0,0,0,0,484,0*3B!\r\n']
2011.11.10 13:33:04 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133304,E03750.2550,N5604.6140,177,42.656587473002155,360,11,1.1,14600,14470mV,0,0,0,0,0,484,0*3B!

2011.11.10 13:33:04 DEBUG: Raw match found.
2011.11.10 13:33:04 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 177.0, 'azimuth': 360.0, 'longitude': 37.837583333333335, 'odometer': 484.0, 'satellitescount': 11, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133304,E03750.2550,N5604.6140,177,42.656587473002155,360,11,1.1,14600,14470mV,0,0,0,0,0,484,0*3B!', 'time': '2011-11-10T13:33:04.000000', 'latitude': 56.0769, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 484.0, 'digital_input2': 0, 'speed': 79.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 79.0, 'uid': '557460032240926_888'}
2011.11.10 13:33:05 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.25396037101746 seconds\\n","1":"Average query length: 0.0032146882407273 seconds\\n","2":"Queries per second: 311.07215540558\\n","3":"Longest query length: 0.04328989982605\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.021907091140747},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034041404724121},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'cfrn123ds56jpeq3f70h4udle0\')))","Time":0.00063395500183105},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.002824068069458},{"SQL":"select * from obj_info(58369)","Time":0.00065803527832031},{"SQL":"select * from obj_info(58369)","Time":0.00045895576477051},{"SQL":"select * from obj_prop_total(58369)","Time":0.04328989982605},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0013930797576904},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00070595741271973},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045108795166016},{"SQL":"select * from obj_info(104)","Time":0.00028109550476074},{"SQL":"select * from f_prop_total(104)","Time":0.014254093170166},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025148391723633},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0019478797912598},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031267166137695},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011038780212402},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012450218200684},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068116188049316},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011899471282959},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012869834899902},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0046958923339844},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00079488754272461},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0027909278869629},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.003183126449585},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016381740570068},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091099739074707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087094306945801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090408325195312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091409683227539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086808204650879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087094306945801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091981887817383},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085711479187012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084900856018066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064182281494141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010459423065186},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014641284942627},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087404251098633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087714195251465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067782402038574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065302848815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065898895263672},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:33:04\') as code","Time":0.020308971405029},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408292\')","Time":0.00053811073303223},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00060296058654785},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00050115585327148},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00053000450134277},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0005948543548584},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408289)","Time":0.0004420280456543},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00043082237243652},{"SQL":"select * from acc_list(58369)","Time":0.00075292587280273},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0018880367279053},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00098299980163574},{"SQL":"select z_has_point(1002846847, 56.07255, 37.837633333333, null) as state","Time":0.003281831741333},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00034403800964355},{"SQL":"select z_has_point(171930, 56.07255, 37.837633333333, null) as state","Time":0.0022120475769043},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00041604042053223},{"SQL":"select z_has_point(1387421, 56.07255, 37.837633333333, null) as state","Time":0.0022220611572266},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00033402442932129},{"SQL":"select z_has_point(1387486, 56.07255, 37.837633333333, null) as state","Time":0.0022258758544922},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00040984153747559},{"SQL":"select z_has_point(1387485, 56.07255, 37.837633333333, null) as state","Time":0.0021069049835205},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00039315223693848},{"SQL":"select z_has_point(1387499, 56.07255, 37.837633333333, null) as state","Time":0.0021569728851318},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00041413307189941},{"SQL":"select z_has_point(1387483, 56.07255, 37.837633333333, null) as state","Time":0.0021770000457764},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00041508674621582},{"SQL":"select z_has_point(1387484, 56.07255, 37.837633333333, null) as state","Time":0.0021381378173828},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00032401084899902},{"SQL":"select z_has_point(1387619, 56.07255, 37.837633333333, null) as state","Time":0.002349853515625},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00041484832763672},{"SQL":"select z_has_point(8710, 56.07255, 37.837633333333, null) as state","Time":0.0022029876708984},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.0004119873046875},{"SQL":"select z_has_point(1002827265, 56.07255, 37.837633333333, null) as state","Time":0.002108097076416},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00035309791564941},{"SQL":"select z_has_point(37627, 56.07255, 37.837633333333, null) as state","Time":0.0023000240325928},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00067305564880371},{"SQL":"select * from notif_get_by_object(58369)","Time":0.02177095413208},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:32:45\') as code","Time":0.012772083282471}]},"timeleft":false}'
2011.11.10 13:33:05 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:33:05 DEBUG: Data chunk = b''
2011.11.10 13:33:11 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:33:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:33:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:33:11 DEBUG: Recieving...
2011.11.10 13:33:11 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133311,E03814.7380,N5554.9250,141,39.95680345572354,144,7,1.1,14600,14470mV,0,0,0,0,0,164,0*3B!\r\n'
2011.11.10 13:33:11 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133311,E03814.7380,N5554.9250,141,39.95680345572354,144,7,1.1,14600,14470mV,0,0,0,0,0,164,0*3B!\r\n']
2011.11.10 13:33:11 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133311,E03814.7380,N5554.9250,141,39.95680345572354,144,7,1.1,14600,14470mV,0,0,0,0,0,164,0*3B!

2011.11.10 13:33:11 DEBUG: Raw match found.
2011.11.10 13:33:11 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 141.0, 'azimuth': 144.0, 'longitude': 38.24563333333333, 'odometer': 164.0, 'satellitescount': 7, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133311,E03814.7380,N5554.9250,141,39.95680345572354,144,7,1.1,14600,14470mV,0,0,0,0,0,164,0*3B!', 'time': '2011-11-10T13:33:11.000000', 'latitude': 55.915416666666665, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 164.0, 'digital_input2': 0, 'speed': 74.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 74.0, 'uid': '457460032240926_888'}
2011.11.10 13:33:11 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:33:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:33:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:33:11 DEBUG: Recieving...
2011.11.10 13:33:11 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133311,E03119.8570,N5831.9630,22,16.73866090712743,75,2,1.1,14600,14470mV,0,0,0,0,0,43,0*0F!\r\n'
2011.11.10 13:33:11 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133311,E03119.8570,N5831.9630,22,16.73866090712743,75,2,1.1,14600,14470mV,0,0,0,0,0,43,0*0F!\r\n']
2011.11.10 13:33:11 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133311,E03119.8570,N5831.9630,22,16.73866090712743,75,2,1.1,14600,14470mV,0,0,0,0,0,43,0*0F!

2011.11.10 13:33:11 DEBUG: Raw match found.
2011.11.10 13:33:11 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 22.0, 'azimuth': 75.0, 'longitude': 31.33095, 'odometer': 43.0, 'satellitescount': 2, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133311,E03119.8570,N5831.9630,22,16.73866090712743,75,2,1.1,14600,14470mV,0,0,0,0,0,43,0*0F!', 'time': '2011-11-10T13:33:11.000000', 'latitude': 58.532716666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 43.0, 'digital_input2': 0, 'speed': 31.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 31.0, 'uid': '657460032240926_888'}
2011.11.10 13:33:12 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21347117424011 seconds\\n","1":"Average query length: 0.0045419398774492 seconds\\n","2":"Queries per second: 220.17024156683\\n","3":"Longest query length: 0.067051887512207\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.027824878692627},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.005728006362915},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'kgehru1lc01tqpaf46heu371o6\')))","Time":0.00093388557434082},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025560855865479},{"SQL":"select * from obj_info(58372)","Time":0.00073814392089844},{"SQL":"select * from obj_info(58372)","Time":0.00040507316589355},{"SQL":"select * from obj_prop_total(58372)","Time":0.067051887512207},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0020840167999268},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0010051727294922},{"SQL":"select obj_is_deleted(104) as code","Time":0.00069189071655273},{"SQL":"select * from obj_info(104)","Time":0.00037097930908203},{"SQL":"select * from f_prop_total(104)","Time":0.021317958831787},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025098323822021},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021400451660156},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036957025527954},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0015878677368164},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0019900798797607},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00084185600280762},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063705444335938},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065898895263672},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025289058685303},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00041103363037109},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012171268463135},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017609596252441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010221004486084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046682357788086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042200088500977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041484832763672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041413307189941},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004119873046875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041890144348145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045394897460938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051498413085938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072193145751953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011298656463623},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058388710021973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046706199645996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044798851013184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001284122467041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073409080505371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009009838104248},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:33:11\') as code","Time":0.016429901123047},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408293\')","Time":0.00053095817565918},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00046110153198242},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00033998489379883},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00039982795715332}]},"timeleft":false}'
2011.11.10 13:33:12 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:33:12 DEBUG: Data chunk = b''
2011.11.10 13:33:12 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.2050986289978 seconds\\n","1":"Average query length: 0.0043638006169745 seconds\\n","2":"Queries per second: 229.15804083948\\n","3":"Longest query length: 0.052114963531494\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.031235933303833},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0057079792022705},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'68ue04dg8328jkeel3aupim3m4\')))","Time":0.00097107887268066},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0043220520019531},{"SQL":"select * from obj_info(38910)","Time":0.00076508522033691},{"SQL":"select * from obj_info(38910)","Time":0.00075602531433105},{"SQL":"select * from obj_prop_total(38910)","Time":0.052114963531494},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014948844909668},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00070786476135254},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046992301940918},{"SQL":"select * from obj_info(104)","Time":0.00028681755065918},{"SQL":"select * from f_prop_total(104)","Time":0.018769979476929},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.00347900390625},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0030269622802734},{"SQL":"select * from t_options(\'1006667041\')","Time":0.041140079498291},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0016779899597168},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0022521018981934},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081491470336914},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00087809562683105},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00069308280944824},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024399757385254},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00031709671020508},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012161731719971},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018429756164551},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015618801116943},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041604042053223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039196014404297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050091743469238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052905082702637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004580020904541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089097023010254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050497055053711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040197372436523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089502334594727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006561279296875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047779083251953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053286552429199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004889965057373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055885314941406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070095062255859},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:33:11\') as code","Time":0.013601064682007},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408294\')","Time":0.00076794624328613},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0010349750518799},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00057601928710938},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00060915946960449}]},"timeleft":false}'
2011.11.10 13:33:12 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:33:12 DEBUG: Data chunk = b''
2011.11.10 13:33:22 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:33:22 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:33:22 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:33:22 DEBUG: Recieving...
2011.11.10 13:33:22 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133322,E03750.2540,N5604.7020,172,45.35637149028078,360,5,1.1,14600,14470mV,0,0,0,0,0,164,0*35!\r\n'
2011.11.10 13:33:22 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133322,E03750.2540,N5604.7020,172,45.35637149028078,360,5,1.1,14600,14470mV,0,0,0,0,0,164,0*35!\r\n']
2011.11.10 13:33:22 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133322,E03750.2540,N5604.7020,172,45.35637149028078,360,5,1.1,14600,14470mV,0,0,0,0,0,164,0*35!

2011.11.10 13:33:22 DEBUG: Raw match found.
2011.11.10 13:33:22 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 172.0, 'azimuth': 360.0, 'longitude': 37.83756666666667, 'odometer': 164.0, 'satellitescount': 5, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133322,E03750.2540,N5604.7020,172,45.35637149028078,360,5,1.1,14600,14470mV,0,0,0,0,0,164,0*35!', 'time': '2011-11-10T13:33:22.000000', 'latitude': 56.07836666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 164.0, 'digital_input2': 0, 'speed': 84.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 84.0, 'uid': '557460032240926_888'}
2011.11.10 13:33:23 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:33:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:33:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:33:23 DEBUG: Recieving...
2011.11.10 13:33:23 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133323,E03814.8150,N5554.8670,141,43.7365010799136,143,1,1.1,14600,14470mV,0,0,0,0,0,134,0*03!\r\n'
2011.11.10 13:33:23 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133323,E03814.8150,N5554.8670,141,43.7365010799136,143,1,1.1,14600,14470mV,0,0,0,0,0,134,0*03!\r\n']
2011.11.10 13:33:23 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133323,E03814.8150,N5554.8670,141,43.7365010799136,143,1,1.1,14600,14470mV,0,0,0,0,0,134,0*03!

2011.11.10 13:33:23 DEBUG: Raw match found.
2011.11.10 13:33:23 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 141.0, 'azimuth': 143.0, 'longitude': 38.246916666666664, 'odometer': 134.0, 'satellitescount': 1, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133323,E03814.8150,N5554.8670,141,43.7365010799136,143,1,1.1,14600,14470mV,0,0,0,0,0,134,0*03!', 'time': '2011-11-10T13:33:23.000000', 'latitude': 55.91445, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 134.0, 'digital_input2': 0, 'speed': 81.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 81.0, 'uid': '457460032240926_888'}
2011.11.10 13:33:23 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27068138122559 seconds\\n","1":"Average query length: 0.0034263465977922 seconds\\n","2":"Queries per second: 291.85605468062\\n","3":"Longest query length: 0.044448852539062\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.023010969161987},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036242008209229},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'qjtkm96mgnbdn7de2o7nl5q6v1\')))","Time":0.0088739395141602},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0030028820037842},{"SQL":"select * from obj_info(58369)","Time":0.00061202049255371},{"SQL":"select * from obj_info(58369)","Time":0.00029301643371582},{"SQL":"select * from obj_prop_total(58369)","Time":0.044448852539062},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0013790130615234},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00065493583679199},{"SQL":"select obj_is_deleted(104) as code","Time":0.00040006637573242},{"SQL":"select * from obj_info(104)","Time":0.0002439022064209},{"SQL":"select * from f_prop_total(104)","Time":0.014806985855103},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025269985198975},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022149085998535},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031339168548584},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0013217926025391},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0014359951019287},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00074291229248047},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.001215934753418},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0012500286102295},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0044519901275635},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00090193748474121},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0022208690643311},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0033829212188721},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017111301422119},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015590190887451},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094795227050781},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097894668579102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090909004211426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097393989562988},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090503692626953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087499618530273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070095062255859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070309638977051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069594383239746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066304206848145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090503692626953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058221817016602},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:33:22\') as code","Time":0.017281055450439},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408295\')","Time":0.00070810317993164},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00057196617126465},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00048995018005371},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00059008598327637},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00079679489135742},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408292)","Time":0.00050616264343262},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00037598609924316},{"SQL":"select * from acc_list(58369)","Time":0.00095295906066895},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0027370452880859},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00095987319946289},{"SQL":"select z_has_point(1002846847, 56.0769, 37.837583333333, null) as state","Time":0.0040590763092041},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00037002563476562},{"SQL":"select z_has_point(171930, 56.0769, 37.837583333333, null) as state","Time":0.0028588771820068},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00037002563476562},{"SQL":"select z_has_point(1387421, 56.0769, 37.837583333333, null) as state","Time":0.0029528141021729},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00047898292541504},{"SQL":"select z_has_point(1387486, 56.0769, 37.837583333333, null) as state","Time":0.0027709007263184},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00036287307739258},{"SQL":"select z_has_point(1387485, 56.0769, 37.837583333333, null) as state","Time":0.002673864364624},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00036883354187012},{"SQL":"select z_has_point(1387499, 56.0769, 37.837583333333, null) as state","Time":0.0026061534881592},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00035905838012695},{"SQL":"select z_has_point(1387483, 56.0769, 37.837583333333, null) as state","Time":0.0028040409088135},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00043296813964844},{"SQL":"select z_has_point(1387484, 56.0769, 37.837583333333, null) as state","Time":0.0027379989624023},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00037002563476562},{"SQL":"select z_has_point(1387619, 56.0769, 37.837583333333, null) as state","Time":0.0029618740081787},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0003669261932373},{"SQL":"select z_has_point(8710, 56.0769, 37.837583333333, null) as state","Time":0.0028088092803955},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00036311149597168},{"SQL":"select z_has_point(1002827265, 56.0769, 37.837583333333, null) as state","Time":0.0022590160369873},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00030517578125},{"SQL":"select z_has_point(37627, 56.0769, 37.837583333333, null) as state","Time":0.0021929740905762},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00088596343994141},{"SQL":"select * from notif_get_by_object(58369)","Time":0.0226891040802},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:33:04\') as code","Time":0.013290166854858}]},"timeleft":false}'
2011.11.10 13:33:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:33:23 DEBUG: Data chunk = b''
2011.11.10 13:33:24 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18497395515442 seconds\\n","1":"Average query length: 0.0039356160671153 seconds\\n","2":"Queries per second: 254.08982556903\\n","3":"Longest query length: 0.037640810012817\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.023341178894043},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034430027008057},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'0m1rghtarpebrrasfamir7tse3\')))","Time":0.00074601173400879},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026330947875977},{"SQL":"select * from obj_info(38910)","Time":0.00061988830566406},{"SQL":"select * from obj_info(38910)","Time":0.00034785270690918},{"SQL":"select * from obj_prop_total(38910)","Time":0.037640810012817},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014758110046387},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00070095062255859},{"SQL":"select obj_is_deleted(104) as code","Time":0.00060486793518066},{"SQL":"select * from obj_info(104)","Time":0.00034117698669434},{"SQL":"select * from f_prop_total(104)","Time":0.01435399055481},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024259090423584},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020449161529541},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031140804290771},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011720657348633},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013360977172852},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067305564880371},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010979175567627},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013091564178467},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0045549869537354},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00072693824768066},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0058560371398926},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.003385066986084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016639232635498},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009918212890625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092601776123047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010311603546143},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092220306396484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093793869018555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087404251098633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089716911315918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089097023010254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090503692626953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087881088256836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089502334594727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010080337524414},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088095664978027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010459423065186},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010139942169189},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083708763122559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079703330993652},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:33:23\') as code","Time":0.022195100784302},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408296\')","Time":0.00093698501586914},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00086116790771484},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00077199935913086},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0008399486541748}]},"timeleft":false}'
2011.11.10 13:33:24 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:33:24 DEBUG: Data chunk = b''
2011.11.10 13:33:30 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:33:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:33:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:33:30 DEBUG: Recieving...
2011.11.10 13:33:30 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133330,E03120.0860,N5831.9720,21,16.198704103671705,86,11,1.1,14600,14470mV,0,0,0,0,0,222,0*38!\r\n'
2011.11.10 13:33:30 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133330,E03120.0860,N5831.9720,21,16.198704103671705,86,11,1.1,14600,14470mV,0,0,0,0,0,222,0*38!\r\n']
2011.11.10 13:33:30 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133330,E03120.0860,N5831.9720,21,16.198704103671705,86,11,1.1,14600,14470mV,0,0,0,0,0,222,0*38!

2011.11.10 13:33:30 DEBUG: Raw match found.
2011.11.10 13:33:30 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 21.0, 'azimuth': 86.0, 'longitude': 31.334766666666667, 'odometer': 222.0, 'satellitescount': 11, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133330,E03120.0860,N5831.9720,21,16.198704103671705,86,11,1.1,14600,14470mV,0,0,0,0,0,222,0*38!', 'time': '2011-11-10T13:33:30.000000', 'latitude': 58.53286666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 222.0, 'digital_input2': 0, 'speed': 30.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 30.0, 'uid': '657460032240926_888'}
2011.11.10 13:33:31 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19565486907959 seconds\\n","1":"Average query length: 0.0041628695548849 seconds\\n","2":"Queries per second: 240.21891313567\\n","3":"Longest query length: 0.044261932373047\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.026417970657349},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0051858425140381},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'2vqj2ln6f7c3rthph6tg3j4nt4\')))","Time":0.00090909004211426},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.003741979598999},{"SQL":"select * from obj_info(58372)","Time":0.00072503089904785},{"SQL":"select * from obj_info(58372)","Time":0.00036191940307617},{"SQL":"select * from obj_prop_total(58372)","Time":0.044261932373047},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0020051002502441},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00098204612731934},{"SQL":"select obj_is_deleted(104) as code","Time":0.00065183639526367},{"SQL":"select * from obj_info(104)","Time":0.00036191940307617},{"SQL":"select * from f_prop_total(104)","Time":0.019031047821045},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0028450489044189},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022480487823486},{"SQL":"select * from t_options(\'1006667041\')","Time":0.041605949401855},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0014028549194336},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.002025842666626},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00098395347595215},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00078797340393066},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00089812278747559},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027670860290527},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00092101097106934},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0036978721618652},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017108917236328},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0018939971923828},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057506561279297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054311752319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007481575012207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056910514831543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062394142150879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054311752319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054001808166504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054311752319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056219100952148},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055289268493652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054216384887695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054001808166504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054216384887695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055909156799316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080204010009766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005490779876709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:33:30\') as code","Time":0.014926195144653},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408297\')","Time":0.00052905082702637},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0007178783416748},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0005500316619873},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00063300132751465}]},"timeleft":false}'
2011.11.10 13:33:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:33:31 DEBUG: Data chunk = b''
2011.11.10 13:33:37 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:33:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:33:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:33:37 DEBUG: Recieving...
2011.11.10 13:33:37 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133337,E03750.2490,N5604.7790,172,46.436285097192226,358,1,1.1,14600,14470mV,0,0,0,0,0,143,0*09!\r\n'
2011.11.10 13:33:37 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133337,E03750.2490,N5604.7790,172,46.436285097192226,358,1,1.1,14600,14470mV,0,0,0,0,0,143,0*09!\r\n']
2011.11.10 13:33:37 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133337,E03750.2490,N5604.7790,172,46.436285097192226,358,1,1.1,14600,14470mV,0,0,0,0,0,143,0*09!

2011.11.10 13:33:37 DEBUG: Raw match found.
2011.11.10 13:33:37 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 172.0, 'azimuth': 358.0, 'longitude': 37.83748333333333, 'odometer': 143.0, 'satellitescount': 1, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133337,E03750.2490,N5604.7790,172,46.436285097192226,358,1,1.1,14600,14470mV,0,0,0,0,0,143,0*09!', 'time': '2011-11-10T13:33:37.000000', 'latitude': 56.07965, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 143.0, 'digital_input2': 0, 'speed': 86.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 86.0, 'uid': '557460032240926_888'}
2011.11.10 13:33:38 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.28025913238525 seconds\\n","1":"Average query length: 0.0035475839542437 seconds\\n","2":"Queries per second: 281.88198303349\\n","3":"Longest query length: 0.045034885406494\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.020071029663086},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0035719871520996},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'hmt95ubjtfmnpfd03sv7de0vt1\')))","Time":0.00069499015808105},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0035769939422607},{"SQL":"select * from obj_info(58369)","Time":0.0005800724029541},{"SQL":"select * from obj_info(58369)","Time":0.00028204917907715},{"SQL":"select * from obj_prop_total(58369)","Time":0.045034885406494},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014219284057617},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00076508522033691},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044488906860352},{"SQL":"select * from obj_info(104)","Time":0.00026512145996094},{"SQL":"select * from f_prop_total(104)","Time":0.017590045928955},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024170875549316},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020580291748047},{"SQL":"select * from t_options(\'1006667041\')","Time":0.041563987731934},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012040138244629},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012829303741455},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070714950561523},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066995620727539},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0007169246673584},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023679733276367},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034093856811523},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013308525085449},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.001798152923584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.010061025619507},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064992904663086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061988830566406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058388710021973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069189071655273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005800724029541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080680847167969},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055313110351562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054311752319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061607360839844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055980682373047},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:33:37\') as code","Time":0.015105009078979},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408298\')","Time":0.0005490779876709},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0006258487701416},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00045084953308105},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00059914588928223},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00056815147399902},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408295)","Time":0.00039911270141602},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0002748966217041},{"SQL":"select * from acc_list(58369)","Time":0.00069808959960938},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0018649101257324},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00099992752075195},{"SQL":"select z_has_point(1002846847, 56.078366666667, 37.837566666667, null) as state","Time":0.003695011138916},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00027084350585938},{"SQL":"select z_has_point(171930, 56.078366666667, 37.837566666667, null) as state","Time":0.0027849674224854},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00031614303588867},{"SQL":"select z_has_point(1387421, 56.078366666667, 37.837566666667, null) as state","Time":0.0035820007324219},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00031709671020508},{"SQL":"select z_has_point(1387486, 56.078366666667, 37.837566666667, null) as state","Time":0.0034568309783936},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00030398368835449},{"SQL":"select z_has_point(1387485, 56.078366666667, 37.837566666667, null) as state","Time":0.0031089782714844},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0002741813659668},{"SQL":"select z_has_point(1387499, 56.078366666667, 37.837566666667, null) as state","Time":0.0029690265655518},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00030112266540527},{"SQL":"select z_has_point(1387483, 56.078366666667, 37.837566666667, null) as state","Time":0.0033988952636719},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00033378601074219},{"SQL":"select z_has_point(1387484, 56.078366666667, 37.837566666667, null) as state","Time":0.0021498203277588},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00030088424682617},{"SQL":"select z_has_point(1387619, 56.078366666667, 37.837566666667, null) as state","Time":0.0022408962249756},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00025701522827148},{"SQL":"select z_has_point(8710, 56.078366666667, 37.837566666667, null) as state","Time":0.0022058486938477},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00027990341186523},{"SQL":"select z_has_point(1002827265, 56.078366666667, 37.837566666667, null) as state","Time":0.002202033996582},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00031900405883789},{"SQL":"select z_has_point(37627, 56.078366666667, 37.837566666667, null) as state","Time":0.0029098987579346},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00071597099304199},{"SQL":"select * from notif_get_by_object(58369)","Time":0.032987117767334},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:33:22\') as code","Time":0.015235185623169}]},"timeleft":false}'
2011.11.10 13:33:38 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:33:38 DEBUG: Data chunk = b''
2011.11.10 13:33:41 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:33:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:33:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:33:41 DEBUG: Recieving...
2011.11.10 13:33:41 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133341,E03120.1090,N5831.9720,21,21.59827213822894,88,8,1.1,14600,14470mV,0,0,0,0,0,22,0*07!\r\n'
2011.11.10 13:33:41 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133341,E03120.1090,N5831.9720,21,21.59827213822894,88,8,1.1,14600,14470mV,0,0,0,0,0,22,0*07!\r\n']
2011.11.10 13:33:41 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133341,E03120.1090,N5831.9720,21,21.59827213822894,88,8,1.1,14600,14470mV,0,0,0,0,0,22,0*07!

2011.11.10 13:33:41 DEBUG: Raw match found.
2011.11.10 13:33:41 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 21.0, 'azimuth': 88.0, 'longitude': 31.33515, 'odometer': 22.0, 'satellitescount': 8, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133341,E03120.1090,N5831.9720,21,21.59827213822894,88,8,1.1,14600,14470mV,0,0,0,0,0,22,0*07!', 'time': '2011-11-10T13:33:41.000000', 'latitude': 58.53286666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 22.0, 'digital_input2': 0, 'speed': 40.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 40.0, 'uid': '657460032240926_888'}
2011.11.10 13:33:42 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19270205497742 seconds\\n","1":"Average query length: 0.0041000437229238 seconds\\n","2":"Queries per second: 243.89983804536\\n","3":"Longest query length: 0.049439907073975\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.025514125823975},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0049741268157959},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'5jsv35i4i6l90a3htslpajtl07\')))","Time":0.00066184997558594},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025219917297363},{"SQL":"select * from obj_info(58372)","Time":0.0005791187286377},{"SQL":"select * from obj_info(58372)","Time":0.00029802322387695},{"SQL":"select * from obj_prop_total(58372)","Time":0.049439907073975},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014190673828125},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00085115432739258},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046205520629883},{"SQL":"select * from obj_info(104)","Time":0.00029301643371582},{"SQL":"select * from f_prop_total(104)","Time":0.01688289642334},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.003364086151123},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020949840545654},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036643981933594},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0015969276428223},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0017218589782715},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00082898139953613},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070810317993164},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006709098815918},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002540111541748},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034403800964355},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001460075378418},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017859935760498},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0087988376617432},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056695938110352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053215026855469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057291984558105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058698654174805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005490779876709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060796737670898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065708160400391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005340576171875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054001808166504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056600570678711},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:33:41\') as code","Time":0.014910936355591},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408299\')","Time":0.00052595138549805},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043392181396484},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034809112548828},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040388107299805}]},"timeleft":false}'
2011.11.10 13:33:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:33:42 DEBUG: Data chunk = b''
2011.11.10 13:33:43 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:33:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:33:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:33:43 DEBUG: Recieving...
2011.11.10 13:33:43 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133343,E03814.9020,N5554.7980,140,43.7365010799136,145,9,1.1,14600,14470mV,0,0,0,0,0,157,0*07!\r\n'
2011.11.10 13:33:43 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133343,E03814.9020,N5554.7980,140,43.7365010799136,145,9,1.1,14600,14470mV,0,0,0,0,0,157,0*07!\r\n']
2011.11.10 13:33:43 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133343,E03814.9020,N5554.7980,140,43.7365010799136,145,9,1.1,14600,14470mV,0,0,0,0,0,157,0*07!

2011.11.10 13:33:43 DEBUG: Raw match found.
2011.11.10 13:33:43 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 140.0, 'azimuth': 145.0, 'longitude': 38.24836666666667, 'odometer': 157.0, 'satellitescount': 9, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133343,E03814.9020,N5554.7980,140,43.7365010799136,145,9,1.1,14600,14470mV,0,0,0,0,0,157,0*07!', 'time': '2011-11-10T13:33:43.000000', 'latitude': 55.9133, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 157.0, 'digital_input2': 0, 'speed': 81.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 81.0, 'uid': '457460032240926_888'}
2011.11.10 13:33:44 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18058466911316 seconds\\n","1":"Average query length: 0.0038422270024076 seconds\\n","2":"Queries per second: 260.26572593795\\n","3":"Longest query length: 0.043067932128906\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.026180028915405},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050029754638672},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'o1t92hbc7ncve3v2u634v7r0n4\')))","Time":0.00063514709472656},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0028011798858643},{"SQL":"select * from obj_info(38910)","Time":0.00054383277893066},{"SQL":"select * from obj_info(38910)","Time":0.00027990341186523},{"SQL":"select * from obj_prop_total(38910)","Time":0.043067932128906},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0013790130615234},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00070595741271973},{"SQL":"select obj_is_deleted(104) as code","Time":0.00043511390686035},{"SQL":"select * from obj_info(104)","Time":0.00025582313537598},{"SQL":"select * from f_prop_total(104)","Time":0.016582012176514},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023901462554932},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0030829906463623},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038193941116333},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0015811920166016},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0023767948150635},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081586837768555},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065493583679199},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068902969360352},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024490356445312},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040793418884277},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014429092407227},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017330646514893},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009758472442627},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051689147949219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005180835723877},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052022933959961},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089311599731445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053286552429199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055408477783203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054287910461426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053000450134277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005180835723877},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055909156799316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063395500183105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039196014404297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057387351989746},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:33:43\') as code","Time":0.014700889587402},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408300\')","Time":0.00056910514831543},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043010711669922},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034093856811523},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00039887428283691}]},"timeleft":false}'
2011.11.10 13:33:44 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:33:44 DEBUG: Data chunk = b''
2011.11.10 13:33:53 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:33:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:33:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:33:53 DEBUG: Recieving...
2011.11.10 13:33:53 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133353,E03750.2520,N5604.9260,175,40.49676025917926,1,5,1.1,14600,14470mV,0,0,0,0,0,272,0*3D!\r\n'
2011.11.10 13:33:53 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133353,E03750.2520,N5604.9260,175,40.49676025917926,1,5,1.1,14600,14470mV,0,0,0,0,0,272,0*3D!\r\n']
2011.11.10 13:33:53 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133353,E03750.2520,N5604.9260,175,40.49676025917926,1,5,1.1,14600,14470mV,0,0,0,0,0,272,0*3D!

2011.11.10 13:33:53 DEBUG: Raw match found.
2011.11.10 13:33:53 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 175.0, 'azimuth': 1.0, 'longitude': 37.83753333333333, 'odometer': 272.0, 'satellitescount': 5, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133353,E03750.2520,N5604.9260,175,40.49676025917926,1,5,1.1,14600,14470mV,0,0,0,0,0,272,0*3D!', 'time': '2011-11-10T13:33:53.000000', 'latitude': 56.0821, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 272.0, 'digital_input2': 0, 'speed': 75.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 75.0, 'uid': '557460032240926_888'}
2011.11.10 13:33:54 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:33:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:33:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:33:54 DEBUG: Recieving...
2011.11.10 13:33:54 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133354,E03120.1760,N5831.9700,23,25.377969762419006,94,7,1.1,14600,14470mV,0,0,0,0,0,65,0*3E!\r\n'
2011.11.10 13:33:54 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133354,E03120.1760,N5831.9700,23,25.377969762419006,94,7,1.1,14600,14470mV,0,0,0,0,0,65,0*3E!\r\n']
2011.11.10 13:33:54 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133354,E03120.1760,N5831.9700,23,25.377969762419006,94,7,1.1,14600,14470mV,0,0,0,0,0,65,0*3E!

2011.11.10 13:33:54 DEBUG: Raw match found.
2011.11.10 13:33:54 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 23.0, 'azimuth': 94.0, 'longitude': 31.336266666666667, 'odometer': 65.0, 'satellitescount': 7, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133354,E03120.1760,N5831.9700,23,25.377969762419006,94,7,1.1,14600,14470mV,0,0,0,0,0,65,0*3E!', 'time': '2011-11-10T13:33:54.000000', 'latitude': 58.532833333333336, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 65.0, 'digital_input2': 0, 'speed': 47.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 47.0, 'uid': '657460032240926_888'}
2011.11.10 13:33:54 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.2844340801239 seconds\\n","1":"Average query length: 0.0036004313939734 seconds\\n","2":"Queries per second: 277.74449519406\\n","3":"Longest query length: 0.052725791931152\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.027655839920044},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0056219100952148},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'95sfg7cq38vj0qdlpvcp3qjud0\')))","Time":0.00085115432739258},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0024938583374023},{"SQL":"select * from obj_info(58369)","Time":0.00052714347839355},{"SQL":"select * from obj_info(58369)","Time":0.0002589225769043},{"SQL":"select * from obj_prop_total(58369)","Time":0.052725791931152},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014708042144775},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00073409080505371},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046396255493164},{"SQL":"select * from obj_info(104)","Time":0.00028705596923828},{"SQL":"select * from f_prop_total(104)","Time":0.015515089035034},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024881362915039},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022151470184326},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037822008132935},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011670589447021},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0018479824066162},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00074481964111328},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067901611328125},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00063490867614746},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026659965515137},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034189224243164},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012621879577637},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018370151519775},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098800659179688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005948543548584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054812431335449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052404403686523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092697143554688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061392784118652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053882598876953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054192543029785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054693222045898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068211555480957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084304809570312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054597854614258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054788589477539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054192543029785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065302848815918},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:33:53\') as code","Time":0.015928983688354},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408301\')","Time":0.00049996376037598},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00047492980957031},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00038599967956543},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00083780288696289},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00084710121154785},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408298)","Time":0.00057005882263184},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00036096572875977},{"SQL":"select * from acc_list(58369)","Time":0.00090289115905762},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0025510787963867},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00130295753479},{"SQL":"select z_has_point(1002846847, 56.07965, 37.837483333333, null) as state","Time":0.0050778388977051},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00032997131347656},{"SQL":"select z_has_point(171930, 56.07965, 37.837483333333, null) as state","Time":0.0028629302978516},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00034594535827637},{"SQL":"select z_has_point(1387421, 56.07965, 37.837483333333, null) as state","Time":0.0029840469360352},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00032401084899902},{"SQL":"select z_has_point(1387486, 56.07965, 37.837483333333, null) as state","Time":0.0023748874664307},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00031805038452148},{"SQL":"select z_has_point(1387485, 56.07965, 37.837483333333, null) as state","Time":0.0032761096954346},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00032210350036621},{"SQL":"select z_has_point(1387499, 56.07965, 37.837483333333, null) as state","Time":0.0031149387359619},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.0003058910369873},{"SQL":"select z_has_point(1387483, 56.07965, 37.837483333333, null) as state","Time":0.0037918090820312},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00035405158996582},{"SQL":"select z_has_point(1387484, 56.07965, 37.837483333333, null) as state","Time":0.0023818016052246},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00055098533630371},{"SQL":"select z_has_point(1387619, 56.07965, 37.837483333333, null) as state","Time":0.0026218891143799},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00032591819763184},{"SQL":"select z_has_point(8710, 56.07965, 37.837483333333, null) as state","Time":0.0032739639282227},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00031900405883789},{"SQL":"select z_has_point(1002827265, 56.07965, 37.837483333333, null) as state","Time":0.0023400783538818},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00037598609924316},{"SQL":"select z_has_point(37627, 56.07965, 37.837483333333, null) as state","Time":0.0038449764251709},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00094890594482422},{"SQL":"select * from notif_get_by_object(58369)","Time":0.027491807937622},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:33:37\') as code","Time":0.015753984451294}]},"timeleft":false}'
2011.11.10 13:33:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:33:54 DEBUG: Data chunk = b''
2011.11.10 13:33:55 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19400596618652 seconds\\n","1":"Average query length: 0.0041277865146069 seconds\\n","2":"Queries per second: 242.26059086664\\n","3":"Longest query length: 0.047423839569092\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.027660846710205},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0046560764312744},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'8uklfa3dn6se3oehcgpppb1qb6\')))","Time":0.00066709518432617},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0028178691864014},{"SQL":"select * from obj_info(58372)","Time":0.00055289268493652},{"SQL":"select * from obj_info(58372)","Time":0.00036501884460449},{"SQL":"select * from obj_prop_total(58372)","Time":0.047423839569092},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014278888702393},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00074601173400879},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046181678771973},{"SQL":"select * from obj_info(104)","Time":0.00028395652770996},{"SQL":"select * from f_prop_total(104)","Time":0.01665997505188},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0036759376525879},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020630359649658},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035823106765747},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011260509490967},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0013120174407959},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006401538848877},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070786476135254},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00070595741271973},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0031180381774902},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014190673828125},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019049644470215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0098841190338135},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055789947509766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052285194396973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070309638977051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052905082702637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006251335144043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051593780517578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051212310791016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057578086853027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054597854614258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056695938110352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075507164001465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051999092102051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005190372467041},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:33:54\') as code","Time":0.015043020248413},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408302\')","Time":0.00056195259094238},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00045514106750488},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00087213516235352},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00077414512634277}]},"timeleft":false}'
2011.11.10 13:33:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:33:55 DEBUG: Data chunk = b''
2011.11.10 13:34:01 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:01 DEBUG: Recieving...
2011.11.10 13:34:01 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133401,E03814.9120,N5554.7880,139,41.036717062634985,150,2,1.1,14600,14470mV,0,0,0,0,0,21,0*35!\r\n'
2011.11.10 13:34:01 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133401,E03814.9120,N5554.7880,139,41.036717062634985,150,2,1.1,14600,14470mV,0,0,0,0,0,21,0*35!\r\n']
2011.11.10 13:34:01 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133401,E03814.9120,N5554.7880,139,41.036717062634985,150,2,1.1,14600,14470mV,0,0,0,0,0,21,0*35!

2011.11.10 13:34:01 DEBUG: Raw match found.
2011.11.10 13:34:01 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 139.0, 'azimuth': 150.0, 'longitude': 38.248533333333334, 'odometer': 21.0, 'satellitescount': 2, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133401,E03814.9120,N5554.7880,139,41.036717062634985,150,2,1.1,14600,14470mV,0,0,0,0,0,21,0*35!', 'time': '2011-11-10T13:34:01.000000', 'latitude': 55.913133333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 21.0, 'digital_input2': 0, 'speed': 76.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 76.0, 'uid': '457460032240926_888'}
2011.11.10 13:34:02 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19526076316833 seconds\\n","1":"Average query length: 0.0041544843227305 seconds\\n","2":"Queries per second: 240.70376063972\\n","3":"Longest query length: 0.048282146453857\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.029306888580322},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.005033016204834},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'7btrue5npp5a6fb17e1a8d6fi0\')))","Time":0.00070095062255859},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025408267974854},{"SQL":"select * from obj_info(38910)","Time":0.00056910514831543},{"SQL":"select * from obj_info(38910)","Time":0.00029516220092773},{"SQL":"select * from obj_prop_total(38910)","Time":0.040465116500854},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0016160011291504},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00072097778320312},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046300888061523},{"SQL":"select * from obj_info(104)","Time":0.00028705596923828},{"SQL":"select * from f_prop_total(104)","Time":0.016067028045654},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026829242706299},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0024938583374023},{"SQL":"select * from t_options(\'1006667041\')","Time":0.048282146453857},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0016710758209229},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0016570091247559},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00072216987609863},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058484077453613},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00070810317993164},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0042660236358643},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0004730224609375},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013000965118408},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0022628307342529},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013530254364014},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061988830566406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010340213775635},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069212913513184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081396102905273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058698654174805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058984756469727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063896179199219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058984756469727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060486793518066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005650520324707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063109397888184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059914588928223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006098747253418},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:34:01\') as code","Time":0.015985012054443},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408303\')","Time":0.00054788589477539},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00045299530029297},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00036287307739258},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00038504600524902}]},"timeleft":false}'
2011.11.10 13:34:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:02 DEBUG: Data chunk = b''
2011.11.10 13:34:09 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:09 DEBUG: Recieving...
2011.11.10 13:34:09 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133409,E03750.2200,N5605.1070,172,41.036717062634985,354,2,1.1,14600,14470mV,0,0,0,0,0,338,0*0D!\r\n'
2011.11.10 13:34:09 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133409,E03750.2200,N5605.1070,172,41.036717062634985,354,2,1.1,14600,14470mV,0,0,0,0,0,338,0*0D!\r\n']
2011.11.10 13:34:09 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133409,E03750.2200,N5605.1070,172,41.036717062634985,354,2,1.1,14600,14470mV,0,0,0,0,0,338,0*0D!

2011.11.10 13:34:09 DEBUG: Raw match found.
2011.11.10 13:34:09 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 172.0, 'azimuth': 354.0, 'longitude': 37.837, 'odometer': 338.0, 'satellitescount': 2, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133409,E03750.2200,N5605.1070,172,41.036717062634985,354,2,1.1,14600,14470mV,0,0,0,0,0,338,0*0D!', 'time': '2011-11-10T13:34:09.000000', 'latitude': 56.085116666666664, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 338.0, 'digital_input2': 0, 'speed': 76.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 76.0, 'uid': '557460032240926_888'}
2011.11.10 13:34:10 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.28120732307434 seconds\\n","1":"Average query length: 0.0035595863680296 seconds\\n","2":"Queries per second: 280.93151748795\\n","3":"Longest query length: 0.050050020217896\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.027341842651367},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.003978967666626},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'kii8aijfj5mjcqak88lm2oump4\')))","Time":0.001101016998291},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.003781795501709},{"SQL":"select * from obj_info(58369)","Time":0.0010781288146973},{"SQL":"select * from obj_info(58369)","Time":0.00049090385437012},{"SQL":"select * from obj_prop_total(58369)","Time":0.050050020217896},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014309883117676},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00078582763671875},{"SQL":"select obj_is_deleted(104) as code","Time":0.00050497055053711},{"SQL":"select * from obj_info(104)","Time":0.00032997131347656},{"SQL":"select * from f_prop_total(104)","Time":0.017321109771729},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0029067993164062},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002284049987793},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038558006286621},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0016660690307617},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0017910003662109},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00095081329345703},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063204765319824},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00063180923461914},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026981830596924},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00048017501831055},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014081001281738},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018019676208496},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017180442810059},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051283836364746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066184997558594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001086950302124},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097894668579102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013530254364014},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015189647674561},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049781799316406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092387199401855},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075316429138184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052309036254883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050902366638184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00142502784729},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057482719421387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001060962677002},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053310394287109},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:34:09\') as code","Time":0.016290903091431},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408304\')","Time":0.00053596496582031},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00045084953308105},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034713745117188},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044608116149902},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00062799453735352},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408301)","Time":0.00039482116699219},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00039982795715332},{"SQL":"select * from acc_list(58369)","Time":0.00085902214050293},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019829273223877},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00086784362792969},{"SQL":"select z_has_point(1002846847, 56.0821, 37.837533333333, null) as state","Time":0.0033750534057617},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00027704238891602},{"SQL":"select z_has_point(171930, 56.0821, 37.837533333333, null) as state","Time":0.0031719207763672},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00036287307739258},{"SQL":"select z_has_point(1387421, 56.0821, 37.837533333333, null) as state","Time":0.0035529136657715},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.0003669261932373},{"SQL":"select z_has_point(1387486, 56.0821, 37.837533333333, null) as state","Time":0.0026898384094238},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026297569274902},{"SQL":"select z_has_point(1387485, 56.0821, 37.837533333333, null) as state","Time":0.0021369457244873},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00031709671020508},{"SQL":"select z_has_point(1387499, 56.0821, 37.837533333333, null) as state","Time":0.0026640892028809},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00037002563476562},{"SQL":"select z_has_point(1387483, 56.0821, 37.837533333333, null) as state","Time":0.0034639835357666},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00035786628723145},{"SQL":"select z_has_point(1387484, 56.0821, 37.837533333333, null) as state","Time":0.0025370121002197},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00032305717468262},{"SQL":"select z_has_point(1387619, 56.0821, 37.837533333333, null) as state","Time":0.0023431777954102},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0002598762512207},{"SQL":"select z_has_point(8710, 56.0821, 37.837533333333, null) as state","Time":0.0022170543670654},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(1002827265, 56.0821, 37.837533333333, null) as state","Time":0.0022940635681152},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00026202201843262},{"SQL":"select z_has_point(37627, 56.0821, 37.837533333333, null) as state","Time":0.0030229091644287},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00094008445739746},{"SQL":"select * from notif_get_by_object(58369)","Time":0.027132034301758},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:33:53\') as code","Time":0.013220071792603}]},"timeleft":false}'
2011.11.10 13:34:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:10 DEBUG: Data chunk = b''
2011.11.10 13:34:11 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:11 DEBUG: Recieving...
2011.11.10 13:34:11 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133411,E03120.2810,N5831.9670,24,28.077753779697623,93,4,1.1,14600,14470mV,0,0,0,0,0,102,0*00!\r\n'
2011.11.10 13:34:11 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133411,E03120.2810,N5831.9670,24,28.077753779697623,93,4,1.1,14600,14470mV,0,0,0,0,0,102,0*00!\r\n']
2011.11.10 13:34:11 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133411,E03120.2810,N5831.9670,24,28.077753779697623,93,4,1.1,14600,14470mV,0,0,0,0,0,102,0*00!

2011.11.10 13:34:11 DEBUG: Raw match found.
2011.11.10 13:34:11 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 24.0, 'azimuth': 93.0, 'longitude': 31.338016666666668, 'odometer': 102.0, 'satellitescount': 4, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133411,E03120.2810,N5831.9670,24,28.077753779697623,93,4,1.1,14600,14470mV,0,0,0,0,0,102,0*00!', 'time': '2011-11-10T13:34:11.000000', 'latitude': 58.532783333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 102.0, 'digital_input2': 0, 'speed': 52.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 52.0, 'uid': '657460032240926_888'}
2011.11.10 13:34:12 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.22782921791077 seconds\\n","1":"Average query length: 0.0048474301683142 seconds\\n","2":"Queries per second: 206.29487486723\\n","3":"Longest query length: 0.063721179962158\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.027603149414062},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0053150653839111},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'sj3vngranss7akbddj3k5e7hr0\')))","Time":0.00068902969360352},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0038809776306152},{"SQL":"select * from obj_info(58372)","Time":0.00080013275146484},{"SQL":"select * from obj_info(58372)","Time":0.00038814544677734},{"SQL":"select * from obj_prop_total(58372)","Time":0.063721179962158},{"SQL":"select obj_is_deleted(58372) as code","Time":0.001554012298584},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00076389312744141},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047707557678223},{"SQL":"select * from obj_info(104)","Time":0.00029301643371582},{"SQL":"select * from f_prop_total(104)","Time":0.022550106048584},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0039520263671875},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032899379730225},{"SQL":"select * from t_options(\'1006667041\')","Time":0.051819086074829},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0016160011291504},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0022909641265869},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067591667175293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00057506561279297},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00064396858215332},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023500919342041},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033903121948242},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011911392211914},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018479824066162},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011491775512695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054311752319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051307678222656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001007080078125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053882598876953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005500316619873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051593780517578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051188468933105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011839866638184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052785873413086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005030632019043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078105926513672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064992904663086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005190372467041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049805641174316},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:34:11\') as code","Time":0.015619039535522},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408305\')","Time":0.00067996978759766},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043201446533203},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00031900405883789},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00054502487182617}]},"timeleft":false}'
2011.11.10 13:34:12 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:12 DEBUG: Data chunk = b''
2011.11.10 13:34:13 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:13 DEBUG: Recieving...
2011.11.10 13:34:13 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133413,E03814.9700,N5554.7280,138,41.036717062634985,152,2,1.1,14600,14470mV,0,0,0,0,0,126,0*0D!\r\n'
2011.11.10 13:34:13 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133413,E03814.9700,N5554.7280,138,41.036717062634985,152,2,1.1,14600,14470mV,0,0,0,0,0,126,0*0D!\r\n']
2011.11.10 13:34:13 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133413,E03814.9700,N5554.7280,138,41.036717062634985,152,2,1.1,14600,14470mV,0,0,0,0,0,126,0*0D!

2011.11.10 13:34:13 DEBUG: Raw match found.
2011.11.10 13:34:13 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 138.0, 'azimuth': 152.0, 'longitude': 38.2495, 'odometer': 126.0, 'satellitescount': 2, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133413,E03814.9700,N5554.7280,138,41.036717062634985,152,2,1.1,14600,14470mV,0,0,0,0,0,126,0*0D!', 'time': '2011-11-10T13:34:13.000000', 'latitude': 55.91213333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 126.0, 'digital_input2': 0, 'speed': 76.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 76.0, 'uid': '457460032240926_888'}
2011.11.10 13:34:14 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19197559356689 seconds\\n","1":"Average query length: 0.004084587097168 seconds\\n","2":"Queries per second: 244.82278776558\\n","3":"Longest query length: 0.051119089126587\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.027186870574951},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0049741268157959},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'tlso71hb48sb9r350c7du5n9l1\')))","Time":0.000762939453125},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0027639865875244},{"SQL":"select * from obj_info(38910)","Time":0.00084686279296875},{"SQL":"select * from obj_info(38910)","Time":0.00039005279541016},{"SQL":"select * from obj_prop_total(38910)","Time":0.051119089126587},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0016679763793945},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00085902214050293},{"SQL":"select obj_is_deleted(104) as code","Time":0.0006251335144043},{"SQL":"select * from obj_info(104)","Time":0.00047492980957031},{"SQL":"select * from f_prop_total(104)","Time":0.017158985137939},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0027940273284912},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002079963684082},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035889148712158},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011639595031738},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0020170211791992},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065183639526367},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00083804130554199},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00091385841369629},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024268627166748},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034117698669434},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012571811676025},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017828941345215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015568733215332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075507164001465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006110668182373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005950927734375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068402290344238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069189071655273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062394142150879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094509124755859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057721138000488},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005640983581543},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:34:13\') as code","Time":0.016132116317749},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408306\')","Time":0.00062298774719238},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00069689750671387},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00051498413085938},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00061202049255371}]},"timeleft":false}'
2011.11.10 13:34:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:14 DEBUG: Data chunk = b''
2011.11.10 13:34:23 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:23 DEBUG: Recieving...
2011.11.10 13:34:23 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133423,E03750.0950,N5605.3950,179,39.416846652267814,346,4,1.1,14600,14470mV,0,0,0,0,0,548,0*03!\r\n'
2011.11.10 13:34:23 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133423,E03750.0950,N5605.3950,179,39.416846652267814,346,4,1.1,14600,14470mV,0,0,0,0,0,548,0*03!\r\n']
2011.11.10 13:34:23 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133423,E03750.0950,N5605.3950,179,39.416846652267814,346,4,1.1,14600,14470mV,0,0,0,0,0,548,0*03!

2011.11.10 13:34:23 DEBUG: Raw match found.
2011.11.10 13:34:23 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 179.0, 'azimuth': 346.0, 'longitude': 37.834916666666665, 'odometer': 548.0, 'satellitescount': 4, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133423,E03750.0950,N5605.3950,179,39.416846652267814,346,4,1.1,14600,14470mV,0,0,0,0,0,548,0*03!', 'time': '2011-11-10T13:34:23.000000', 'latitude': 56.08991666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 548.0, 'digital_input2': 0, 'speed': 73.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 73.0, 'uid': '557460032240926_888'}
2011.11.10 13:34:24 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.36272764205933 seconds\\n","1":"Average query length: 0.0045914891399915 seconds\\n","2":"Queries per second: 217.79426445553\\n","3":"Longest query length: 0.084888935089111\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.024461984634399},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0056619644165039},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'f5ouer8ids82a88njetrt7spp1\')))","Time":0.00094795227050781},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025441646575928},{"SQL":"select * from obj_info(58369)","Time":0.00065517425537109},{"SQL":"select * from obj_info(58369)","Time":0.00036787986755371},{"SQL":"select * from obj_prop_total(58369)","Time":0.084888935089111},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0027029514312744},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0013129711151123},{"SQL":"select obj_is_deleted(104) as code","Time":0.00095891952514648},{"SQL":"select * from obj_info(104)","Time":0.00063490867614746},{"SQL":"select * from f_prop_total(104)","Time":0.031715869903564},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.004133939743042},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0035250186920166},{"SQL":"select * from t_options(\'1006667041\')","Time":0.058818101882935},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0013439655303955},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0014181137084961},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00083088874816895},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00076413154602051},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00079989433288574},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0033040046691895},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0004119873046875},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015439987182617},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019590854644775},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014456033706665},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015320777893066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077986717224121},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007169246673584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069403648376465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068402290344238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071907043457031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069880485534668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007328987121582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068378448486328},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068807601928711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015702247619629},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000762939453125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0024311542510986},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089001655578613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065398216247559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079894065856934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091814994812012},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:34:23\') as code","Time":0.017992973327637},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408307\')","Time":0.00072193145751953},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00062799453735352},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0004889965057373},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00064206123352051},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00066304206848145},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408304)","Time":0.00043296813964844},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00027990341186523},{"SQL":"select * from acc_list(58369)","Time":0.00073695182800293},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0020861625671387},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00094199180603027},{"SQL":"select z_has_point(1002846847, 56.085116666667, 37.837, null) as state","Time":0.0035090446472168},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00032401084899902},{"SQL":"select z_has_point(171930, 56.085116666667, 37.837, null) as state","Time":0.0022740364074707},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00032901763916016},{"SQL":"select z_has_point(1387421, 56.085116666667, 37.837, null) as state","Time":0.0023980140686035},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(1387486, 56.085116666667, 37.837, null) as state","Time":0.0023858547210693},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026202201843262},{"SQL":"select z_has_point(1387485, 56.085116666667, 37.837, null) as state","Time":0.0021610260009766},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00026392936706543},{"SQL":"select z_has_point(1387499, 56.085116666667, 37.837, null) as state","Time":0.0022578239440918},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00042390823364258},{"SQL":"select z_has_point(1387483, 56.085116666667, 37.837, null) as state","Time":0.0021669864654541},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00024199485778809},{"SQL":"select z_has_point(1387484, 56.085116666667, 37.837, null) as state","Time":0.00211501121521},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.0003049373626709},{"SQL":"select z_has_point(1387619, 56.085116666667, 37.837, null) as state","Time":0.0026299953460693},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00027108192443848},{"SQL":"select z_has_point(8710, 56.085116666667, 37.837, null) as state","Time":0.0022690296173096},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00026106834411621},{"SQL":"select z_has_point(1002827265, 56.085116666667, 37.837, null) as state","Time":0.0023589134216309},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(37627, 56.085116666667, 37.837, null) as state","Time":0.0023279190063477},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00063610076904297},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022597074508667},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:34:09\') as code","Time":0.015690088272095}]},"timeleft":false}'
2011.11.10 13:34:24 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:24 DEBUG: Data chunk = b''
2011.11.10 13:34:29 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:29 DEBUG: Recieving...
2011.11.10 13:34:29 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133429,E03120.4070,N5831.9620,25,29.697624190064793,94,6,1.1,14600,14470mV,0,0,0,0,0,123,0*08!\r\n'
2011.11.10 13:34:29 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133429,E03120.4070,N5831.9620,25,29.697624190064793,94,6,1.1,14600,14470mV,0,0,0,0,0,123,0*08!\r\n']
2011.11.10 13:34:29 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133429,E03120.4070,N5831.9620,25,29.697624190064793,94,6,1.1,14600,14470mV,0,0,0,0,0,123,0*08!

2011.11.10 13:34:29 DEBUG: Raw match found.
2011.11.10 13:34:29 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 25.0, 'azimuth': 94.0, 'longitude': 31.340116666666667, 'odometer': 123.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133429,E03120.4070,N5831.9620,25,29.697624190064793,94,6,1.1,14600,14470mV,0,0,0,0,0,123,0*08!', 'time': '2011-11-10T13:34:29.000000', 'latitude': 58.5327, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 123.0, 'digital_input2': 0, 'speed': 55.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 55.0, 'uid': '657460032240926_888'}
2011.11.10 13:34:30 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:30 DEBUG: Recieving...
2011.11.10 13:34:30 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133430,E03815.0290,N5554.6650,136,42.656587473002155,152,10,1.1,14600,14470mV,0,0,0,0,0,131,0*31!\r\n'
2011.11.10 13:34:30 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133430,E03815.0290,N5554.6650,136,42.656587473002155,152,10,1.1,14600,14470mV,0,0,0,0,0,131,0*31!\r\n']
2011.11.10 13:34:30 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133430,E03815.0290,N5554.6650,136,42.656587473002155,152,10,1.1,14600,14470mV,0,0,0,0,0,131,0*31!

2011.11.10 13:34:30 DEBUG: Raw match found.
2011.11.10 13:34:30 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 136.0, 'azimuth': 152.0, 'longitude': 38.250483333333335, 'odometer': 131.0, 'satellitescount': 10, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133430,E03815.0290,N5554.6650,136,42.656587473002155,152,10,1.1,14600,14470mV,0,0,0,0,0,131,0*31!', 'time': '2011-11-10T13:34:30.000000', 'latitude': 55.91108333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 131.0, 'digital_input2': 0, 'speed': 79.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 79.0, 'uid': '457460032240926_888'}
2011.11.10 13:34:30 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.23721957206726 seconds\\n","1":"Average query length: 0.0050472249376013 seconds\\n","2":"Queries per second: 198.12867711722\\n","3":"Longest query length: 0.060028076171875\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.031911849975586},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0057711601257324},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'66tuvhjr6g6nro24gfpabgvig0\')))","Time":0.00096416473388672},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025758743286133},{"SQL":"select * from obj_info(58372)","Time":0.00057387351989746},{"SQL":"select * from obj_info(58372)","Time":0.0003969669342041},{"SQL":"select * from obj_prop_total(58372)","Time":0.060028076171875},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0019710063934326},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0010809898376465},{"SQL":"select obj_is_deleted(104) as code","Time":0.00072693824768066},{"SQL":"select * from obj_info(104)","Time":0.00040912628173828},{"SQL":"select * from f_prop_total(104)","Time":0.018028020858765},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025970935821533},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032720565795898},{"SQL":"select * from t_options(\'1006667041\')","Time":0.051107883453369},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0013740062713623},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0022070407867432},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00087904930114746},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00075507164001465},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0007169246673584},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0031900405883789},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00035810470581055},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014619827270508},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0022408962249756},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0075159072875977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076198577880859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066494941711426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064206123352051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064206123352051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063896179199219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070405006408691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062704086303711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057482719421387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067305564880371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067591667175293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065708160400391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064301490783691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062704086303711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071406364440918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066304206848145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064611434936523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064611434936523},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:34:29\') as code","Time":0.021937847137451},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408308\')","Time":0.0006861686706543},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00051999092102051},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034904479980469},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041103363037109}]},"timeleft":false}'
2011.11.10 13:34:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:30 DEBUG: Data chunk = b''
2011.11.10 13:34:31 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17464280128479 seconds\\n","1":"Average query length: 0.0037158042826551 seconds\\n","2":"Queries per second: 269.12074047276\\n","3":"Longest query length: 0.041574001312256\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.022705078125},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.00547194480896},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'hnmu4oj1cq50bvlj4fd4nh68r0\')))","Time":0.0008389949798584},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.002547025680542},{"SQL":"select * from obj_info(38910)","Time":0.00058221817016602},{"SQL":"select * from obj_info(38910)","Time":0.00030684471130371},{"SQL":"select * from obj_prop_total(38910)","Time":0.041574001312256},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014450550079346},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00078606605529785},{"SQL":"select obj_is_deleted(104) as code","Time":0.0006871223449707},{"SQL":"select * from obj_info(104)","Time":0.00034308433532715},{"SQL":"select * from f_prop_total(104)","Time":0.015480041503906},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025279521942139},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021119117736816},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03749418258667},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011050701141357},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013060569763184},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066113471984863},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00072097778320312},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00066804885864258},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026187896728516},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00038909912109375},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001223087310791},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018179416656494},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011870861053467},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058984756469727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093293190002441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060009956359863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005640983581543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056290626525879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057506561279297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056195259094238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058221817016602},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058579444885254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060486793518066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001413106918335},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063705444335938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058507919311523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085902214050293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061416625976562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054001808166504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:34:30\') as code","Time":0.014431953430176},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408309\')","Time":0.00060892105102539},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0005648136138916},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00042104721069336},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00059103965759277}]},"timeleft":false}'
2011.11.10 13:34:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:31 DEBUG: Data chunk = b''
2011.11.10 13:34:39 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:39 DEBUG: Recieving...
2011.11.10 13:34:39 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133439,E03120.5200,N5831.9580,25,35.63714902807775,94,5,1.1,14600,14470mV,0,0,0,0,0,109,0*3B!\r\n'
2011.11.10 13:34:39 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133439,E03120.5200,N5831.9580,25,35.63714902807775,94,5,1.1,14600,14470mV,0,0,0,0,0,109,0*3B!\r\n']
2011.11.10 13:34:39 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133439,E03120.5200,N5831.9580,25,35.63714902807775,94,5,1.1,14600,14470mV,0,0,0,0,0,109,0*3B!

2011.11.10 13:34:39 DEBUG: Raw match found.
2011.11.10 13:34:39 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 25.0, 'azimuth': 94.0, 'longitude': 31.342, 'odometer': 109.0, 'satellitescount': 5, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133439,E03120.5200,N5831.9580,25,35.63714902807775,94,5,1.1,14600,14470mV,0,0,0,0,0,109,0*3B!', 'time': '2011-11-10T13:34:39.000000', 'latitude': 58.53263333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 109.0, 'digital_input2': 0, 'speed': 66.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 66.0, 'uid': '657460032240926_888'}
2011.11.10 13:34:40 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:40 DEBUG: Recieving...
2011.11.10 13:34:40 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133440,E03750.0190,N5605.5670,183,31.857451403887687,346,6,1.1,14600,14470mV,0,0,0,0,0,330,0*0A!\r\n'
2011.11.10 13:34:40 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133440,E03750.0190,N5605.5670,183,31.857451403887687,346,6,1.1,14600,14470mV,0,0,0,0,0,330,0*0A!\r\n']
2011.11.10 13:34:40 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133440,E03750.0190,N5605.5670,183,31.857451403887687,346,6,1.1,14600,14470mV,0,0,0,0,0,330,0*0A!

2011.11.10 13:34:40 DEBUG: Raw match found.
2011.11.10 13:34:40 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 183.0, 'azimuth': 346.0, 'longitude': 37.83365, 'odometer': 330.0, 'satellitescount': 6, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133440,E03750.0190,N5605.5670,183,31.857451403887687,346,6,1.1,14600,14470mV,0,0,0,0,0,330,0*0A!', 'time': '2011-11-10T13:34:40.000000', 'latitude': 56.09278333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 330.0, 'digital_input2': 0, 'speed': 59.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 59.0, 'uid': '557460032240926_888'}
2011.11.10 13:34:40 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.25089550018311 seconds\\n","1":"Average query length: 0.0053382021315554 seconds\\n","2":"Queries per second: 187.32898742982\\n","3":"Longest query length: 0.059187889099121\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.03382396697998},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0056359767913818},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'9um2a9gjuvrg8aslget95b8m52\')))","Time":0.00090122222900391},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0039348602294922},{"SQL":"select * from obj_info(58372)","Time":0.00061202049255371},{"SQL":"select * from obj_info(58372)","Time":0.00029110908508301},{"SQL":"select * from obj_prop_total(58372)","Time":0.059187889099121},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0021841526031494},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0011241436004639},{"SQL":"select obj_is_deleted(104) as code","Time":0.00088906288146973},{"SQL":"select * from obj_info(104)","Time":0.0003972053527832},{"SQL":"select * from f_prop_total(104)","Time":0.020875930786133},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.003727912902832},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0035960674285889},{"SQL":"select * from t_options(\'1006667041\')","Time":0.047260999679565},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0017118453979492},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0026488304138184},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067710876464844},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00056886672973633},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00082206726074219},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0041320323944092},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00067806243896484},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016191005706787},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017361640930176},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0086181163787842},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053310394287109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064396858215332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070810317993164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067710876464844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064611434936523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062799453735352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071597099304199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065803527832031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063586235046387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062894821166992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052905082702637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051093101501465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051712989807129},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066804885864258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067996978759766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009768009185791},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:34:39\') as code","Time":0.02989387512207},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408310\')","Time":0.00075197219848633},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0006258487701416},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00046992301940918},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00049304962158203}]},"timeleft":false}'
2011.11.10 13:34:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:40 DEBUG: Data chunk = b''
2011.11.10 13:34:41 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:41 DEBUG: Recieving...
2011.11.10 13:34:41 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133441,E03815.0880,N5554.6040,132,50.21598272138229,151,1,1.1,14600,14470mV,0,0,0,0,0,129,0*39!\r\n'
2011.11.10 13:34:41 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133441,E03815.0880,N5554.6040,132,50.21598272138229,151,1,1.1,14600,14470mV,0,0,0,0,0,129,0*39!\r\n']
2011.11.10 13:34:41 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133441,E03815.0880,N5554.6040,132,50.21598272138229,151,1,1.1,14600,14470mV,0,0,0,0,0,129,0*39!

2011.11.10 13:34:41 DEBUG: Raw match found.
2011.11.10 13:34:41 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 132.0, 'azimuth': 151.0, 'longitude': 38.251466666666666, 'odometer': 129.0, 'satellitescount': 1, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133441,E03815.0880,N5554.6040,132,50.21598272138229,151,1,1.1,14600,14470mV,0,0,0,0,0,129,0*39!', 'time': '2011-11-10T13:34:41.000000', 'latitude': 55.910066666666665, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 129.0, 'digital_input2': 0, 'speed': 93.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 93.0, 'uid': '457460032240926_888'}
2011.11.10 13:34:41 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.30541944503784 seconds\\n","1":"Average query length: 0.0038660689245296 seconds\\n","2":"Queries per second: 258.66067561681\\n","3":"Longest query length: 0.063935995101929\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.032022953033447},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0053169727325439},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'i9cp2v6mnojfh0n8qbtlqh5vc3\')))","Time":0.0013179779052734},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0039699077606201},{"SQL":"select * from obj_info(58369)","Time":0.00088000297546387},{"SQL":"select * from obj_info(58369)","Time":0.00040292739868164},{"SQL":"select * from obj_prop_total(58369)","Time":0.063935995101929},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0017070770263672},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0010509490966797},{"SQL":"select obj_is_deleted(104) as code","Time":0.00068497657775879},{"SQL":"select * from obj_info(104)","Time":0.00041508674621582},{"SQL":"select * from f_prop_total(104)","Time":0.02277684211731},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.003593921661377},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032351016998291},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038558959960938},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.001276969909668},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0013899803161621},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00076413154602051},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066900253295898},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00064802169799805},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023469924926758},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00031208992004395},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011758804321289},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018301010131836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012309551239014},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057005882263184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055289268493652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055289268493652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011980533599854},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060892105102539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056290626525879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057792663574219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055909156799316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055480003356934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055885314941406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055384635925293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057005882263184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059008598327637},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:34:40\') as code","Time":0.014363050460815},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408311\')","Time":0.00067496299743652},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00062298774719238},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00038599967956543},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00054597854614258},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00069212913513184},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408307)","Time":0.0005030632019043},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00034499168395996},{"SQL":"select * from acc_list(58369)","Time":0.00086498260498047},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0021970272064209},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0013542175292969},{"SQL":"select z_has_point(1002846847, 56.089916666667, 37.834916666667, null) as state","Time":0.0042359828948975},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00042486190795898},{"SQL":"select z_has_point(171930, 56.089916666667, 37.834916666667, null) as state","Time":0.0027081966400146},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00039792060852051},{"SQL":"select z_has_point(1387421, 56.089916666667, 37.834916666667, null) as state","Time":0.0029058456420898},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00039887428283691},{"SQL":"select z_has_point(1387486, 56.089916666667, 37.834916666667, null) as state","Time":0.0033659934997559},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00037097930908203},{"SQL":"select z_has_point(1387485, 56.089916666667, 37.834916666667, null) as state","Time":0.0026140213012695},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00037693977355957},{"SQL":"select z_has_point(1387499, 56.089916666667, 37.834916666667, null) as state","Time":0.0023930072784424},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00034594535827637},{"SQL":"select z_has_point(1387483, 56.089916666667, 37.834916666667, null) as state","Time":0.0023281574249268},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00033116340637207},{"SQL":"select z_has_point(1387484, 56.089916666667, 37.834916666667, null) as state","Time":0.0024511814117432},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00035810470581055},{"SQL":"select z_has_point(1387619, 56.089916666667, 37.834916666667, null) as state","Time":0.002471923828125},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00032281875610352},{"SQL":"select z_has_point(8710, 56.089916666667, 37.834916666667, null) as state","Time":0.002716064453125},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00031900405883789},{"SQL":"select z_has_point(1002827265, 56.089916666667, 37.834916666667, null) as state","Time":0.0023808479309082},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.0003199577331543},{"SQL":"select z_has_point(37627, 56.089916666667, 37.834916666667, null) as state","Time":0.0025999546051025},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0010790824890137},{"SQL":"select * from notif_get_by_object(58369)","Time":0.027468919754028},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:34:23\') as code","Time":0.01537013053894}]},"timeleft":false}'
2011.11.10 13:34:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:41 DEBUG: Data chunk = b''
2011.11.10 13:34:42 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17509245872498 seconds\\n","1":"Average query length: 0.0037253714622335 seconds\\n","2":"Queries per second: 268.42960766131\\n","3":"Longest query length: 0.044191837310791\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.023308992385864},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.003593921661377},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'rt4b7do8tak2umtecsr77vi9u7\')))","Time":0.00065207481384277},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026209354400635},{"SQL":"select * from obj_info(38910)","Time":0.00055813789367676},{"SQL":"select * from obj_info(38910)","Time":0.00029110908508301},{"SQL":"select * from obj_prop_total(38910)","Time":0.044191837310791},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0017759799957275},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00087499618530273},{"SQL":"select obj_is_deleted(104) as code","Time":0.00054407119750977},{"SQL":"select * from obj_info(104)","Time":0.00029110908508301},{"SQL":"select * from f_prop_total(104)","Time":0.016396999359131},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.002856969833374},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022318363189697},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037194013595581},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.00118088722229},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0015370845794678},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00062704086303711},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00060510635375977},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00067901611328125},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024449825286865},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00035214424133301},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012400150299072},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017158985137939},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015499591827393},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059413909912109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061607360839844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064706802368164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057411193847656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005638599395752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055384635925293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057101249694824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092697143554688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059390068054199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056219100952148},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054597854614258},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:34:41\') as code","Time":0.013543128967285},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408312\')","Time":0.00055408477783203},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00051188468933105},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00043416023254395},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00050997734069824}]},"timeleft":false}'
2011.11.10 13:34:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:42 DEBUG: Data chunk = b''
2011.11.10 13:34:50 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:50 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:50 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:50 DEBUG: Recieving...
2011.11.10 13:34:50 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133450,E03749.8730,N5605.8850,191,36.7170626349892,346,5,1.1,14600,14470mV,0,0,0,0,0,609,0*03!\r\n'
2011.11.10 13:34:50 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133450,E03749.8730,N5605.8850,191,36.7170626349892,346,5,1.1,14600,14470mV,0,0,0,0,0,609,0*03!\r\n']
2011.11.10 13:34:50 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133450,E03749.8730,N5605.8850,191,36.7170626349892,346,5,1.1,14600,14470mV,0,0,0,0,0,609,0*03!

2011.11.10 13:34:50 DEBUG: Raw match found.
2011.11.10 13:34:50 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 191.0, 'azimuth': 346.0, 'longitude': 37.83121666666667, 'odometer': 609.0, 'satellitescount': 5, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133450,E03749.8730,N5605.8850,191,36.7170626349892,346,5,1.1,14600,14470mV,0,0,0,0,0,609,0*03!', 'time': '2011-11-10T13:34:50.000000', 'latitude': 56.098083333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 609.0, 'digital_input2': 0, 'speed': 68.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 68.0, 'uid': '557460032240926_888'}
2011.11.10 13:34:51 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.2599949836731 seconds\\n","1":"Average query length: 0.0032910757426974 seconds\\n","2":"Queries per second: 303.85201623478\\n","3":"Longest query length: 0.049331903457642\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.021589040756226},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0042819976806641},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'r8pqg3254c6pro8eoukfuvdue5\')))","Time":0.00099515914916992},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025980472564697},{"SQL":"select * from obj_info(58369)","Time":0.00059986114501953},{"SQL":"select * from obj_info(58369)","Time":0.00029802322387695},{"SQL":"select * from obj_prop_total(58369)","Time":0.049331903457642},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015690326690674},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00072479248046875},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044703483581543},{"SQL":"select * from obj_info(104)","Time":0.00028300285339355},{"SQL":"select * from f_prop_total(104)","Time":0.014963150024414},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.002946138381958},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0027492046356201},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03510594367981},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011651515960693},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0013370513916016},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010709762573242},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00062704086303711},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006098747253418},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023159980773926},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00030303001403809},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013828277587891},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017778873443604},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.009702205657959},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081205368041992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050783157348633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049090385437012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050497055053711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047898292541504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048398971557617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050783157348633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048398971557617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047588348388672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047898292541504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051021575927734},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047612190246582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047397613525391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060176849365234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049495697021484},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:34:50\') as code","Time":0.014322996139526},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408313\')","Time":0.00066399574279785},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00055789947509766},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00042200088500977},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00057196617126465},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00069999694824219},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408311)","Time":0.00048089027404785},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00033998489379883},{"SQL":"select * from acc_list(58369)","Time":0.00076007843017578},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0018718242645264},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00089693069458008},{"SQL":"select z_has_point(1002846847, 56.092783333333, 37.83365, null) as state","Time":0.0032570362091064},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00026392936706543},{"SQL":"select z_has_point(171930, 56.092783333333, 37.83365, null) as state","Time":0.0032479763031006},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00027799606323242},{"SQL":"select z_has_point(1387421, 56.092783333333, 37.83365, null) as state","Time":0.0022008419036865},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.0002748966217041},{"SQL":"select z_has_point(1387486, 56.092783333333, 37.83365, null) as state","Time":0.0021679401397705},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026893615722656},{"SQL":"select z_has_point(1387485, 56.092783333333, 37.83365, null) as state","Time":0.0030062198638916},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00026202201843262},{"SQL":"select z_has_point(1387499, 56.092783333333, 37.83365, null) as state","Time":0.0021679401397705},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00026202201843262},{"SQL":"select z_has_point(1387483, 56.092783333333, 37.83365, null) as state","Time":0.0022420883178711},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00025796890258789},{"SQL":"select z_has_point(1387484, 56.092783333333, 37.83365, null) as state","Time":0.0021281242370605},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00031590461730957},{"SQL":"select z_has_point(1387619, 56.092783333333, 37.83365, null) as state","Time":0.0023069381713867},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00023293495178223},{"SQL":"select z_has_point(8710, 56.092783333333, 37.83365, null) as state","Time":0.0022079944610596},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00023603439331055},{"SQL":"select z_has_point(1002827265, 56.092783333333, 37.83365, null) as state","Time":0.0021088123321533},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00031709671020508},{"SQL":"select z_has_point(37627, 56.092783333333, 37.83365, null) as state","Time":0.0034499168395996},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00087094306945801},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021543979644775},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:34:40\') as code","Time":0.01476001739502}]},"timeleft":false}'
2011.11.10 13:34:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:51 DEBUG: Data chunk = b''
2011.11.10 13:34:53 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:34:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:34:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:34:53 DEBUG: Recieving...
2011.11.10 13:34:53 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133453,E03120.6710,N5831.9550,24,35.63714902807775,92,12,1.1,14600,14470mV,0,0,0,0,0,146,0*07!\r\n'
2011.11.10 13:34:53 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133453,E03120.6710,N5831.9550,24,35.63714902807775,92,12,1.1,14600,14470mV,0,0,0,0,0,146,0*07!\r\n']
2011.11.10 13:34:53 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133453,E03120.6710,N5831.9550,24,35.63714902807775,92,12,1.1,14600,14470mV,0,0,0,0,0,146,0*07!

2011.11.10 13:34:53 DEBUG: Raw match found.
2011.11.10 13:34:53 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 24.0, 'azimuth': 92.0, 'longitude': 31.344516666666667, 'odometer': 146.0, 'satellitescount': 12, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133453,E03120.6710,N5831.9550,24,35.63714902807775,92,12,1.1,14600,14470mV,0,0,0,0,0,146,0*07!', 'time': '2011-11-10T13:34:53.000000', 'latitude': 58.532583333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 146.0, 'digital_input2': 0, 'speed': 66.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 66.0, 'uid': '657460032240926_888'}
2011.11.10 13:34:54 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19641375541687 seconds\\n","1":"Average query length: 0.0041790160726994 seconds\\n","2":"Queries per second: 239.29077625061\\n","3":"Longest query length: 0.052019119262695\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.024091958999634},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0051791667938232},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'lhrskvq8jl6kmcqfsisjeb33v3\')))","Time":0.00085091590881348},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025429725646973},{"SQL":"select * from obj_info(58372)","Time":0.00054717063903809},{"SQL":"select * from obj_info(58372)","Time":0.00028014183044434},{"SQL":"select * from obj_prop_total(58372)","Time":0.052019119262695},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0020890235900879},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00080990791320801},{"SQL":"select obj_is_deleted(104) as code","Time":0.00065803527832031},{"SQL":"select * from obj_info(104)","Time":0.00033998489379883},{"SQL":"select * from f_prop_total(104)","Time":0.021223068237305},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024681091308594},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002769947052002},{"SQL":"select * from t_options(\'1006667041\')","Time":0.042201042175293},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.001187801361084},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0015349388122559},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00089097023010254},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059795379638672},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068497657775879},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002687931060791},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034093856811523},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012080669403076},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017440319061279},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012190341949463},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076413154602051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050997734069824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051307678222656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050091743469238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058317184448242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052094459533691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051093101501465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051116943359375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005190372467041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052118301391602},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050783157348633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073790550231934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052118301391602},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050997734069824},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:34:53\') as code","Time":0.015160083770752},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408314\')","Time":0.00054407119750977},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043416023254395},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034904479980469},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041580200195312}]},"timeleft":false}'
2011.11.10 13:34:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:34:54 DEBUG: Data chunk = b''
2011.11.10 13:35:00 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:35:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:35:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:35:00 DEBUG: Recieving...
2011.11.10 13:35:00 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133500,E03815.1410,N5554.5470,129,57.77537796976242,153,9,1.1,14600,14470mV,0,0,0,0,0,119,0*3F!\r\n'
2011.11.10 13:35:00 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133500,E03815.1410,N5554.5470,129,57.77537796976242,153,9,1.1,14600,14470mV,0,0,0,0,0,119,0*3F!\r\n']
2011.11.10 13:35:00 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133500,E03815.1410,N5554.5470,129,57.77537796976242,153,9,1.1,14600,14470mV,0,0,0,0,0,119,0*3F!

2011.11.10 13:35:00 DEBUG: Raw match found.
2011.11.10 13:35:00 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 129.0, 'azimuth': 153.0, 'longitude': 38.25235, 'odometer': 119.0, 'satellitescount': 9, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133500,E03815.1410,N5554.5470,129,57.77537796976242,153,9,1.1,14600,14470mV,0,0,0,0,0,119,0*3F!', 'time': '2011-11-10T13:35:00.000000', 'latitude': 55.90911666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 119.0, 'digital_input2': 0, 'speed': 107.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 107.0, 'uid': '457460032240926_888'}
2011.11.10 13:35:01 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:35:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:35:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:35:01 DEBUG: Recieving...
2011.11.10 13:35:01 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133501,E03749.7510,N5606.1480,193,38.87688984881209,345,9,1.1,14600,14470mV,0,0,0,0,0,503,0*30!\r\n'
2011.11.10 13:35:01 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133501,E03749.7510,N5606.1480,193,38.87688984881209,345,9,1.1,14600,14470mV,0,0,0,0,0,503,0*30!\r\n']
2011.11.10 13:35:01 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133501,E03749.7510,N5606.1480,193,38.87688984881209,345,9,1.1,14600,14470mV,0,0,0,0,0,503,0*30!

2011.11.10 13:35:01 DEBUG: Raw match found.
2011.11.10 13:35:01 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 193.0, 'azimuth': 345.0, 'longitude': 37.82918333333333, 'odometer': 503.0, 'satellitescount': 9, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133501,E03749.7510,N5606.1480,193,38.87688984881209,345,9,1.1,14600,14470mV,0,0,0,0,0,503,0*30!', 'time': '2011-11-10T13:35:01.000000', 'latitude': 56.102466666666665, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 503.0, 'digital_input2': 0, 'speed': 72.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 72.0, 'uid': '557460032240926_888'}
2011.11.10 13:35:01 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18765425682068 seconds\\n","1":"Average query length: 0.0039926437621421 seconds\\n","2":"Queries per second: 250.4606119589\\n","3":"Longest query length: 0.044085025787354\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.026350021362305},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0055439472198486},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'7553pgks9vkhh1kflagsterur4\')))","Time":0.00089383125305176},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.004249095916748},{"SQL":"select * from obj_info(38910)","Time":0.00091695785522461},{"SQL":"select * from obj_info(38910)","Time":0.0004420280456543},{"SQL":"select * from obj_prop_total(38910)","Time":0.044085025787354},{"SQL":"select obj_is_deleted(38910) as code","Time":0.002094030380249},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00073409080505371},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046992301940918},{"SQL":"select * from obj_info(104)","Time":0.00028395652770996},{"SQL":"select * from f_prop_total(104)","Time":0.018131971359253},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.003270149230957},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0035338401794434},{"SQL":"select * from t_options(\'1006667041\')","Time":0.039709091186523},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0012428760528564},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013260841369629},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064492225646973},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.000762939453125},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006709098815918},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024559497833252},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033211708068848},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012190341949463},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.002302885055542},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014040470123291},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052809715270996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052380561828613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005791187286377},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053310394287109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054192543029785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053286552429199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055909156799316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054192543029785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053715705871582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053691864013672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056695938110352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006110668182373},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:35:00\') as code","Time":0.013453006744385},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408315\')","Time":0.00053906440734863},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043916702270508},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034189224243164},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00039815902709961}]},"timeleft":false}'
2011.11.10 13:35:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:35:01 DEBUG: Data chunk = b''
2011.11.10 13:35:02 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27574563026428 seconds\\n","1":"Average query length: 0.0034904510160036 seconds\\n","2":"Queries per second: 286.49592714954\\n","3":"Longest query length: 0.049837112426758\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.025579929351807},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050091743469238},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'bi6uo4gmcvr17evme56k0qmvj1\')))","Time":0.00071096420288086},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0028440952301025},{"SQL":"select * from obj_info(58369)","Time":0.00054597854614258},{"SQL":"select * from obj_info(58369)","Time":0.00028300285339355},{"SQL":"select * from obj_prop_total(58369)","Time":0.049837112426758},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0016398429870605},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00069594383239746},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046706199645996},{"SQL":"select * from obj_info(104)","Time":0.00036501884460449},{"SQL":"select * from f_prop_total(104)","Time":0.015190839767456},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024580955505371},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020430088043213},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032855033874512},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011608600616455},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012080669403076},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081992149353027},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006561279296875},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006558895111084},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002579927444458},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034284591674805},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014588832855225},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018310546875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016069412231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058388710021973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082588195800781},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062394142150879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082707405090332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062012672424316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059986114501953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063800811767578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006110668182373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012130737304688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0023510456085205},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0057640075683594},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:35:01\') as code","Time":0.017279148101807},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408316\')","Time":0.00062203407287598},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049686431884766},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00037598609924316},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00070405006408691},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00086522102355957},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408313)","Time":0.00094199180603027},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00033879280090332},{"SQL":"select * from acc_list(58369)","Time":0.00090599060058594},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0023808479309082},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00082588195800781},{"SQL":"select z_has_point(1002846847, 56.098083333333, 37.831216666667, null) as state","Time":0.0052149295806885},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.0007789134979248},{"SQL":"select z_has_point(171930, 56.098083333333, 37.831216666667, null) as state","Time":0.0042381286621094},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00044703483581543},{"SQL":"select z_has_point(1387421, 56.098083333333, 37.831216666667, null) as state","Time":0.0030992031097412},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.0002748966217041},{"SQL":"select z_has_point(1387486, 56.098083333333, 37.831216666667, null) as state","Time":0.0022909641265869},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026202201843262},{"SQL":"select z_has_point(1387485, 56.098083333333, 37.831216666667, null) as state","Time":0.0030078887939453},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00030803680419922},{"SQL":"select z_has_point(1387499, 56.098083333333, 37.831216666667, null) as state","Time":0.0024728775024414},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00024080276489258},{"SQL":"select z_has_point(1387483, 56.098083333333, 37.831216666667, null) as state","Time":0.0020749568939209},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00023293495178223},{"SQL":"select z_has_point(1387484, 56.098083333333, 37.831216666667, null) as state","Time":0.0033631324768066},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00034284591674805},{"SQL":"select z_has_point(1387619, 56.098083333333, 37.831216666667, null) as state","Time":0.0023589134216309},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00029683113098145},{"SQL":"select z_has_point(8710, 56.098083333333, 37.831216666667, null) as state","Time":0.0035431385040283},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00029993057250977},{"SQL":"select z_has_point(1002827265, 56.098083333333, 37.831216666667, null) as state","Time":0.0027329921722412},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00023794174194336},{"SQL":"select z_has_point(37627, 56.098083333333, 37.831216666667, null) as state","Time":0.0021340847015381},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00059294700622559},{"SQL":"select * from notif_get_by_object(58369)","Time":0.024860858917236},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:34:50\') as code","Time":0.013199090957642}]},"timeleft":false}'
2011.11.10 13:35:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:35:02 DEBUG: Data chunk = b''
2011.11.10 13:35:10 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:35:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:35:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:35:10 DEBUG: Recieving...
2011.11.10 13:35:10 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133510,E03120.8230,N5831.9550,24,35.63714902807775,90,1,1.1,14600,14470mV,0,0,0,0,0,147,0*39!\r\n'
2011.11.10 13:35:10 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133510,E03120.8230,N5831.9550,24,35.63714902807775,90,1,1.1,14600,14470mV,0,0,0,0,0,147,0*39!\r\n']
2011.11.10 13:35:10 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133510,E03120.8230,N5831.9550,24,35.63714902807775,90,1,1.1,14600,14470mV,0,0,0,0,0,147,0*39!

2011.11.10 13:35:10 DEBUG: Raw match found.
2011.11.10 13:35:10 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 24.0, 'azimuth': 90.0, 'longitude': 31.34705, 'odometer': 147.0, 'satellitescount': 1, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133510,E03120.8230,N5831.9550,24,35.63714902807775,90,1,1.1,14600,14470mV,0,0,0,0,0,147,0*39!', 'time': '2011-11-10T13:35:10.000000', 'latitude': 58.532583333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 147.0, 'digital_input2': 0, 'speed': 66.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 66.0, 'uid': '657460032240926_888'}
2011.11.10 13:35:11 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.36694884300232 seconds\\n","1":"Average query length: 0.0078074221915387 seconds\\n","2":"Queries per second: 128.08324892226\\n","3":"Longest query length: 0.047325134277344\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.022777795791626},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.005964994430542},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'459n117a39mlbmo0007pdpb4v7\')))","Time":0.00075292587280273},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025749206542969},{"SQL":"select * from obj_info(58372)","Time":0.00056791305541992},{"SQL":"select * from obj_info(58372)","Time":0.00025796890258789},{"SQL":"select * from obj_prop_total(58372)","Time":0.047325134277344},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0022590160369873},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00069284439086914},{"SQL":"select obj_is_deleted(104) as code","Time":0.0004279613494873},{"SQL":"select * from obj_info(104)","Time":0.00025796890258789},{"SQL":"select * from f_prop_total(104)","Time":0.02226710319519},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0030369758605957},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0029728412628174},{"SQL":"select * from t_options(\'1006667041\')","Time":0.039219856262207},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0014951229095459},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0017030239105225},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066304206848145},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059199333190918},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00087189674377441},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024991035461426},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033783912658691},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001194953918457},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0060598850250244},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015327930450439},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065183639526367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073409080505371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.038094997406006},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.025443077087402},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.024468183517456},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080609321594238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.031402826309204},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081706047058105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.031554937362671},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.024285078048706},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074100494384766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047111511230469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046300888061523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046300888061523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046396255493164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052714347839355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047683715820312},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:35:10\') as code","Time":0.01496410369873},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408317\')","Time":0.00063085556030273},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044989585876465},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00033688545227051},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0003969669342041}]},"timeleft":false}'
2011.11.10 13:35:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:35:11 DEBUG: Data chunk = b''
2011.11.10 13:35:13 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:35:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:35:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:35:13 DEBUG: Recieving...
2011.11.10 13:35:13 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133513,E03749.6230,N5606.2730,193,39.95680345572354,330,7,1.1,14600,14470mV,0,0,0,0,0,267,0*30!\r\n'
2011.11.10 13:35:13 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133513,E03749.6230,N5606.2730,193,39.95680345572354,330,7,1.1,14600,14470mV,0,0,0,0,0,267,0*30!\r\n']
2011.11.10 13:35:13 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133513,E03749.6230,N5606.2730,193,39.95680345572354,330,7,1.1,14600,14470mV,0,0,0,0,0,267,0*30!

2011.11.10 13:35:13 DEBUG: Raw match found.
2011.11.10 13:35:13 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 193.0, 'azimuth': 330.0, 'longitude': 37.82705, 'odometer': 267.0, 'satellitescount': 7, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133513,E03749.6230,N5606.2730,193,39.95680345572354,330,7,1.1,14600,14470mV,0,0,0,0,0,267,0*30!', 'time': '2011-11-10T13:35:13.000000', 'latitude': 56.10455, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 267.0, 'digital_input2': 0, 'speed': 74.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 74.0, 'uid': '557460032240926_888'}
2011.11.10 13:35:13 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:35:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:35:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:35:13 DEBUG: Recieving...
2011.11.10 13:35:13 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133513,E03815.2250,N5554.4550,126,62.63498920086393,153,12,1.1,14600,14470mV,0,0,0,0,0,193,0*06!\r\n'
2011.11.10 13:35:13 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133513,E03815.2250,N5554.4550,126,62.63498920086393,153,12,1.1,14600,14470mV,0,0,0,0,0,193,0*06!\r\n']
2011.11.10 13:35:13 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133513,E03815.2250,N5554.4550,126,62.63498920086393,153,12,1.1,14600,14470mV,0,0,0,0,0,193,0*06!

2011.11.10 13:35:13 DEBUG: Raw match found.
2011.11.10 13:35:13 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 126.0, 'azimuth': 153.0, 'longitude': 38.25375, 'odometer': 193.0, 'satellitescount': 12, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133513,E03815.2250,N5554.4550,126,62.63498920086393,153,12,1.1,14600,14470mV,0,0,0,0,0,193,0*06!', 'time': '2011-11-10T13:35:13.000000', 'latitude': 55.907583333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 193.0, 'digital_input2': 0, 'speed': 116.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 116.0, 'uid': '457460032240926_888'}
2011.11.10 13:35:14 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21604871749878 seconds\\n","1":"Average query length: 0.0045967812233783 seconds\\n","2":"Queries per second: 217.54352696061\\n","3":"Longest query length: 0.059749841690063\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.029835939407349},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0056979656219482},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'0461hn4rqp8fu1ebgfcrqhflb1\')))","Time":0.00087499618530273},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.003741979598999},{"SQL":"select * from obj_info(38910)","Time":0.0009300708770752},{"SQL":"select * from obj_info(38910)","Time":0.00040102005004883},{"SQL":"select * from obj_prop_total(38910)","Time":0.059749841690063},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014348030090332},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0009770393371582},{"SQL":"select obj_is_deleted(104) as code","Time":0.00065994262695312},{"SQL":"select * from obj_info(104)","Time":0.0003359317779541},{"SQL":"select * from f_prop_total(104)","Time":0.017815828323364},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0030169486999512},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.003093957901001},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034471988677979},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0017461776733398},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0021328926086426},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065398216247559},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070810317993164},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00097417831420898},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0038290023803711},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00047183036804199},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0017099380493164},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0026059150695801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0023210048675537},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007331371307373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086712837219238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054693222045898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068283081054688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071501731872559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068497657775879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007169246673584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094485282897949},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068783760070801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069713592529297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083684921264648},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070691108703613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075197219848633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087809562683105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065302848815918},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:35:13\') as code","Time":0.02106499671936},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408319\')","Time":0.00069093704223633},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00061893463134766},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00049090385437012},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00060009956359863}]},"timeleft":false}'
2011.11.10 13:35:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:35:14 DEBUG: Data chunk = b''
2011.11.10 13:35:14 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.32871627807617 seconds\\n","1":"Average query length: 0.004160965545268 seconds\\n","2":"Queries per second: 240.3288345267\\n","3":"Longest query length: 0.059738874435425\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.026501178741455},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0051839351654053},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'rt69vt6vde4e3c13q3fkmt7h20\')))","Time":0.0010018348693848},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0038280487060547},{"SQL":"select * from obj_info(58369)","Time":0.00087881088256836},{"SQL":"select * from obj_info(58369)","Time":0.00040602684020996},{"SQL":"select * from obj_prop_total(58369)","Time":0.059738874435425},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0025410652160645},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0012640953063965},{"SQL":"select obj_is_deleted(104) as code","Time":0.0011270046234131},{"SQL":"select * from obj_info(104)","Time":0.00061297416687012},{"SQL":"select * from f_prop_total(104)","Time":0.025134086608887},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0039341449737549},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022377967834473},{"SQL":"select * from t_options(\'1006667041\')","Time":0.043897867202759},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0017440319061279},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0020458698272705},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00076794624328613},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068998336791992},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006861686706543},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025460720062256},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034308433532715},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.00193190574646},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020859241485596},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013811588287354},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055909156799316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013821125030518},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053286552429199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050497055053711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051212310791016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050687789916992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058698654174805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010490417480469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089383125305176},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066804885864258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056719779968262},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059294700622559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056600570678711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084304809570312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086307525634766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066113471984863},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:35:13\') as code","Time":0.016714096069336},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408318\')","Time":0.00068998336791992},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00068998336791992},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00054812431335449},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0007929801940918},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00086402893066406},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408316)","Time":0.00057697296142578},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00040292739868164},{"SQL":"select * from acc_list(58369)","Time":0.0012211799621582},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0028769969940186},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0011868476867676},{"SQL":"select z_has_point(1002846847, 56.102466666667, 37.829183333333, null) as state","Time":0.0052921772003174},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00039196014404297},{"SQL":"select z_has_point(171930, 56.102466666667, 37.829183333333, null) as state","Time":0.0034239292144775},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00037789344787598},{"SQL":"select z_has_point(1387421, 56.102466666667, 37.829183333333, null) as state","Time":0.0035960674285889},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00038790702819824},{"SQL":"select z_has_point(1387486, 56.102466666667, 37.829183333333, null) as state","Time":0.0036211013793945},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00057101249694824},{"SQL":"select z_has_point(1387485, 56.102466666667, 37.829183333333, null) as state","Time":0.0036330223083496},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00035810470581055},{"SQL":"select z_has_point(1387499, 56.102466666667, 37.829183333333, null) as state","Time":0.0034329891204834},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00037002563476562},{"SQL":"select z_has_point(1387483, 56.102466666667, 37.829183333333, null) as state","Time":0.0049748420715332},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00041985511779785},{"SQL":"select z_has_point(1387484, 56.102466666667, 37.829183333333, null) as state","Time":0.0036060810089111},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00046205520629883},{"SQL":"select z_has_point(1387619, 56.102466666667, 37.829183333333, null) as state","Time":0.00388503074646},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00043296813964844},{"SQL":"select z_has_point(8710, 56.102466666667, 37.829183333333, null) as state","Time":0.0043659210205078},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.0017681121826172},{"SQL":"select z_has_point(1002827265, 56.102466666667, 37.829183333333, null) as state","Time":0.0073368549346924},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00043606758117676},{"SQL":"select z_has_point(37627, 56.102466666667, 37.829183333333, null) as state","Time":0.0040621757507324},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0011320114135742},{"SQL":"select * from notif_get_by_object(58369)","Time":0.023527860641479},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:35:01\') as code","Time":0.015955924987793}]},"timeleft":false}'
2011.11.10 13:35:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:35:14 DEBUG: Data chunk = b''
2011.11.10 13:35:23 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:35:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:35:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:35:23 DEBUG: Recieving...
2011.11.10 13:35:23 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133523,E03815.3360,N5554.3360,125,60.475161987041034,152,1,1.1,14600,14470mV,0,0,0,0,0,249,0*0A!\r\n'
2011.11.10 13:35:23 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133523,E03815.3360,N5554.3360,125,60.475161987041034,152,1,1.1,14600,14470mV,0,0,0,0,0,249,0*0A!\r\n']
2011.11.10 13:35:23 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133523,E03815.3360,N5554.3360,125,60.475161987041034,152,1,1.1,14600,14470mV,0,0,0,0,0,249,0*0A!

2011.11.10 13:35:23 DEBUG: Raw match found.
2011.11.10 13:35:23 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 125.0, 'azimuth': 152.0, 'longitude': 38.2556, 'odometer': 249.0, 'satellitescount': 1, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133523,E03815.3360,N5554.3360,125,60.475161987041034,152,1,1.1,14600,14470mV,0,0,0,0,0,249,0*0A!', 'time': '2011-11-10T13:35:23.000000', 'latitude': 55.9056, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 249.0, 'digital_input2': 0, 'speed': 112.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 112.0, 'uid': '457460032240926_888'}
2011.11.10 13:35:24 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19787883758545 seconds\\n","1":"Average query length: 0.004210188033733 seconds\\n","2":"Queries per second: 237.5190827554\\n","3":"Longest query length: 0.052724838256836\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.022655010223389},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052421092987061},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'v4gqtdb4n8ct5p6984h19rvme2\')))","Time":0.00089406967163086},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0037341117858887},{"SQL":"select * from obj_info(38910)","Time":0.00070881843566895},{"SQL":"select * from obj_info(38910)","Time":0.00033211708068848},{"SQL":"select * from obj_prop_total(38910)","Time":0.052724838256836},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0022521018981934},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010170936584473},{"SQL":"select obj_is_deleted(104) as code","Time":0.000701904296875},{"SQL":"select * from obj_info(104)","Time":0.00038981437683105},{"SQL":"select * from f_prop_total(104)","Time":0.01575493812561},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024878978729248},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021748542785645},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031915903091431},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0010972023010254},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013070106506348},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0008389949798584},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059199333190918},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065994262695312},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002424955368042},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00035905838012695},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012309551239014},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020289421081543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.018677949905396},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066304206848145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055384635925293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005488395690918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053811073303223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071215629577637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052380561828613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055503845214844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076603889465332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094008445739746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054216384887695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:35:23\') as code","Time":0.013530969619751},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408320\')","Time":0.00062704086303711},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0005490779876709},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035810470581055},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040102005004883}]},"timeleft":false}'
2011.11.10 13:35:24 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:35:24 DEBUG: Data chunk = b''
2011.11.10 13:35:29 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:35:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:35:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:35:29 DEBUG: Recieving...
2011.11.10 13:35:29 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133529,E03120.9450,N5831.9530,24,38.33693304535637,92,6,1.1,14600,14470mV,0,0,0,0,0,119,0*3B!\r\n'
2011.11.10 13:35:29 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133529,E03120.9450,N5831.9530,24,38.33693304535637,92,6,1.1,14600,14470mV,0,0,0,0,0,119,0*3B!\r\n']
2011.11.10 13:35:29 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133529,E03120.9450,N5831.9530,24,38.33693304535637,92,6,1.1,14600,14470mV,0,0,0,0,0,119,0*3B!

2011.11.10 13:35:29 DEBUG: Raw match found.
2011.11.10 13:35:29 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 24.0, 'azimuth': 92.0, 'longitude': 31.349083333333333, 'odometer': 119.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133529,E03120.9450,N5831.9530,24,38.33693304535637,92,6,1.1,14600,14470mV,0,0,0,0,0,119,0*3B!', 'time': '2011-11-10T13:35:29.000000', 'latitude': 58.53255, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 119.0, 'digital_input2': 0, 'speed': 71.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 71.0, 'uid': '657460032240926_888'}
2011.11.10 13:35:30 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:35:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:35:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:35:30 DEBUG: Recieving...
2011.11.10 13:35:30 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133530,E03749.4240,N5606.4430,191,43.19654427645788,327,11,1.1,14600,14470mV,0,0,0,0,0,377,0*03!\r\n'
2011.11.10 13:35:30 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133530,E03749.4240,N5606.4430,191,43.19654427645788,327,11,1.1,14600,14470mV,0,0,0,0,0,377,0*03!\r\n']
2011.11.10 13:35:30 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133530,E03749.4240,N5606.4430,191,43.19654427645788,327,11,1.1,14600,14470mV,0,0,0,0,0,377,0*03!

2011.11.10 13:35:30 DEBUG: Raw match found.
2011.11.10 13:35:30 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 191.0, 'azimuth': 327.0, 'longitude': 37.82373333333334, 'odometer': 377.0, 'satellitescount': 11, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133530,E03749.4240,N5606.4430,191,43.19654427645788,327,11,1.1,14600,14470mV,0,0,0,0,0,377,0*03!', 'time': '2011-11-10T13:35:30.000000', 'latitude': 56.10738333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 377.0, 'digital_input2': 0, 'speed': 80.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 80.0, 'uid': '557460032240926_888'}
2011.11.10 13:35:30 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19844770431519 seconds\\n","1":"Average query length: 0.0042222915811742 seconds\\n","2":"Queries per second: 236.83821469334\\n","3":"Longest query length: 0.048877000808716\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.025805950164795},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052850246429443},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'7segpof1msulel6vojo6t51vi1\')))","Time":0.0012009143829346},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0037860870361328},{"SQL":"select * from obj_info(58372)","Time":0.00072598457336426},{"SQL":"select * from obj_info(58372)","Time":0.00033688545227051},{"SQL":"select * from obj_prop_total(58372)","Time":0.048877000808716},{"SQL":"select obj_is_deleted(58372) as code","Time":0.002194881439209},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00085616111755371},{"SQL":"select obj_is_deleted(104) as code","Time":0.00044012069702148},{"SQL":"select * from obj_info(104)","Time":0.00025677680969238},{"SQL":"select * from f_prop_total(104)","Time":0.01617693901062},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037050247192383},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026669502258301},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037061929702759},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0016498565673828},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0020408630371094},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0008080005645752},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00056314468383789},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00061202049255371},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023329257965088},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00041580200195312},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011970996856689},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017762184143066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.010381937026978},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059986114501953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057101249694824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054311752319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058817863464355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056600570678711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054812431335449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054407119750977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054693222045898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055408477783203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054717063903809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054287910461426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005488395690918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012471675872803},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059890747070312},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:35:29\') as code","Time":0.0153489112854},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408321\')","Time":0.0005028247833252},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049114227294922},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00031900405883789},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00036501884460449}]},"timeleft":false}'
2011.11.10 13:35:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:35:30 DEBUG: Data chunk = b''
2011.11.10 13:35:31 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27855062484741 seconds\\n","1":"Average query length: 0.0035259572765495 seconds\\n","2":"Queries per second: 283.61092366343\\n","3":"Longest query length: 0.057585954666138\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.02984619140625},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052697658538818},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'nflnuqkb3tvtlc68al5fu7mf47\')))","Time":0.00067996978759766},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025060176849365},{"SQL":"select * from obj_info(58369)","Time":0.00052785873413086},{"SQL":"select * from obj_info(58369)","Time":0.00025606155395508},{"SQL":"select * from obj_prop_total(58369)","Time":0.057585954666138},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0022029876708984},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0010130405426025},{"SQL":"select obj_is_deleted(104) as code","Time":0.0006411075592041},{"SQL":"select * from obj_info(104)","Time":0.00035309791564941},{"SQL":"select * from f_prop_total(104)","Time":0.022291898727417},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026497840881348},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020890235900879},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032233953475952},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011489391326904},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0011880397796631},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00072979927062988},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00090289115905762},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0010240077972412},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0039107799530029},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00049710273742676},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016629695892334},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0022048950195312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014569759368896},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007479190826416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069713592529297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064587593078613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057005882263184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006101131439209},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011200904846191},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060009956359863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000579833984375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058102607727051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057506561279297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057005882263184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068306922912598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058698654174805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042510032653809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043606758117676},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:35:30\') as code","Time":0.014683961868286},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408322\')","Time":0.00086498260498047},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00091385841369629},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00056004524230957},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0005028247833252},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00057792663574219},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408318)","Time":0.00044703483581543},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00031018257141113},{"SQL":"select * from acc_list(58369)","Time":0.00076389312744141},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0020480155944824},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0010368824005127},{"SQL":"select z_has_point(1002846847, 56.10455, 37.82705, null) as state","Time":0.0032060146331787},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00030994415283203},{"SQL":"select z_has_point(171930, 56.10455, 37.82705, null) as state","Time":0.0027179718017578},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00036191940307617},{"SQL":"select z_has_point(1387421, 56.10455, 37.82705, null) as state","Time":0.0034952163696289},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00035905838012695},{"SQL":"select z_has_point(1387486, 56.10455, 37.82705, null) as state","Time":0.0034430027008057},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.0003058910369873},{"SQL":"select z_has_point(1387485, 56.10455, 37.82705, null) as state","Time":0.0021958351135254},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00030207633972168},{"SQL":"select z_has_point(1387499, 56.10455, 37.82705, null) as state","Time":0.0021259784698486},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00029611587524414},{"SQL":"select z_has_point(1387483, 56.10455, 37.82705, null) as state","Time":0.0022180080413818},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.0003049373626709},{"SQL":"select z_has_point(1387484, 56.10455, 37.82705, null) as state","Time":0.0022540092468262},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00035190582275391},{"SQL":"select z_has_point(1387619, 56.10455, 37.82705, null) as state","Time":0.0023269653320312},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00029397010803223},{"SQL":"select z_has_point(8710, 56.10455, 37.82705, null) as state","Time":0.002284049987793},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00031900405883789},{"SQL":"select z_has_point(1002827265, 56.10455, 37.82705, null) as state","Time":0.0021529197692871},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00029397010803223},{"SQL":"select z_has_point(37627, 56.10455, 37.82705, null) as state","Time":0.0021579265594482},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00065493583679199},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021708965301514},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:35:13\') as code","Time":0.013938903808594}]},"timeleft":false}'
2011.11.10 13:35:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:35:31 DEBUG: Data chunk = b''
2011.11.10 13:35:42 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:35:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:35:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:35:42 DEBUG: Recieving...
2011.11.10 13:35:42 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133542,E03815.4210,N5554.2470,125,60.475161987041034,152,7,1.1,14600,14470mV,0,0,0,0,0,187,0*0C!\r\n'
2011.11.10 13:35:42 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133542,E03815.4210,N5554.2470,125,60.475161987041034,152,7,1.1,14600,14470mV,0,0,0,0,0,187,0*0C!\r\n']
2011.11.10 13:35:42 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133542,E03815.4210,N5554.2470,125,60.475161987041034,152,7,1.1,14600,14470mV,0,0,0,0,0,187,0*0C!

2011.11.10 13:35:42 DEBUG: Raw match found.
2011.11.10 13:35:42 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 125.0, 'azimuth': 152.0, 'longitude': 38.257016666666665, 'odometer': 187.0, 'satellitescount': 7, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133542,E03815.4210,N5554.2470,125,60.475161987041034,152,7,1.1,14600,14470mV,0,0,0,0,0,187,0*0C!', 'time': '2011-11-10T13:35:42.000000', 'latitude': 55.90411666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 187.0, 'digital_input2': 0, 'speed': 112.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 112.0, 'uid': '457460032240926_888'}
2011.11.10 13:35:43 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.20707654953003 seconds\\n","1":"Average query length: 0.0044058840325538 seconds\\n","2":"Queries per second: 226.96920586454\\n","3":"Longest query length: 0.052664995193481\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.03239893913269},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0067541599273682},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'5trm8er08iie47qb9von26ql25\')))","Time":0.00094699859619141},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026500225067139},{"SQL":"select * from obj_info(38910)","Time":0.00072979927062988},{"SQL":"select * from obj_info(38910)","Time":0.00036406517028809},{"SQL":"select * from obj_prop_total(38910)","Time":0.052664995193481},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014069080352783},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00089716911315918},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047397613525391},{"SQL":"select * from obj_info(104)","Time":0.00029206275939941},{"SQL":"select * from f_prop_total(104)","Time":0.015322923660278},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0031421184539795},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021209716796875},{"SQL":"select * from t_options(\'1006667041\')","Time":0.043688058853149},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.001640796661377},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0020129680633545},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065493583679199},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00072908401489258},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0010149478912354},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0035679340362549},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00052809715270996},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018608570098877},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0022139549255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012900829315186},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051188468933105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050997734069824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053882598876953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049400329589844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048017501831055},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055909156799316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078487396240234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050091743469238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050592422485352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072383880615234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068092346191406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067400932312012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065088272094727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015590190887451},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099420547485352},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:35:42\') as code","Time":0.014266967773438},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408323\')","Time":0.00066018104553223},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00068402290344238},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00040507316589355},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00045490264892578}]},"timeleft":false}'
2011.11.10 13:35:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:35:43 DEBUG: Data chunk = b''
2011.11.10 13:35:44 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:35:44 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:35:44 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:35:44 DEBUG: Recieving...
2011.11.10 13:35:44 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133544,E03121.1070,N5831.9520,25,37.796976241900644,91,8,1.1,14600,14470mV,0,0,0,0,0,156,0*04!\r\n'
2011.11.10 13:35:44 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133544,E03121.1070,N5831.9520,25,37.796976241900644,91,8,1.1,14600,14470mV,0,0,0,0,0,156,0*04!\r\n']
2011.11.10 13:35:44 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133544,E03121.1070,N5831.9520,25,37.796976241900644,91,8,1.1,14600,14470mV,0,0,0,0,0,156,0*04!

2011.11.10 13:35:44 DEBUG: Raw match found.
2011.11.10 13:35:44 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 25.0, 'azimuth': 91.0, 'longitude': 31.351783333333334, 'odometer': 156.0, 'satellitescount': 8, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133544,E03121.1070,N5831.9520,25,37.796976241900644,91,8,1.1,14600,14470mV,0,0,0,0,0,156,0*04!', 'time': '2011-11-10T13:35:44.000000', 'latitude': 58.53253333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 156.0, 'digital_input2': 0, 'speed': 70.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 70.0, 'uid': '657460032240926_888'}
2011.11.10 13:35:45 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.2114269733429 seconds\\n","1":"Average query length: 0.0044984462413382 seconds\\n","2":"Queries per second: 222.29897754708\\n","3":"Longest query length: 0.067031145095825\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.027800798416138},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0039129257202148},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'d47dhljglsc00c48nfpjelvtb3\')))","Time":0.0007941722869873},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026829242706299},{"SQL":"select * from obj_info(58372)","Time":0.00061702728271484},{"SQL":"select * from obj_info(58372)","Time":0.00032186508178711},{"SQL":"select * from obj_prop_total(58372)","Time":0.067031145095825},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014300346374512},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00075006484985352},{"SQL":"select obj_is_deleted(104) as code","Time":0.00050497055053711},{"SQL":"select * from obj_info(104)","Time":0.00042009353637695},{"SQL":"select * from f_prop_total(104)","Time":0.018060922622681},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037639141082764},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0031578540802002},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034061908721924},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0010919570922852},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0013549327850342},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006709098815918},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00056600570678711},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065398216247559},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0028631687164307},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00032401084899902},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001209020614624},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.001823902130127},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020709037780762},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0089077949523926},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043296813964844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00037598609924316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041103363037109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00038695335388184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049114227294922},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040388107299805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00038003921508789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00038385391235352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040483474731445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004730224609375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041890144348145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039291381835938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00036907196044922},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012450218200684},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010390281677246},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064802169799805},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:35:44\') as code","Time":0.014580965042114},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408324\')","Time":0.0005490779876709},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044107437133789},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00033903121948242},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041294097900391}]},"timeleft":false}'
2011.11.10 13:35:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:35:45 DEBUG: Data chunk = b''
2011.11.10 13:35:50 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:35:50 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:35:50 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:35:50 DEBUG: Recieving...
2011.11.10 13:35:50 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133550,E03749.2240,N5606.6110,192,40.49676025917926,327,1,1.1,14600,14470mV,0,0,0,0,0,375,0*34!\r\n'
2011.11.10 13:35:50 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133550,E03749.2240,N5606.6110,192,40.49676025917926,327,1,1.1,14600,14470mV,0,0,0,0,0,375,0*34!\r\n']
2011.11.10 13:35:50 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133550,E03749.2240,N5606.6110,192,40.49676025917926,327,1,1.1,14600,14470mV,0,0,0,0,0,375,0*34!

2011.11.10 13:35:50 DEBUG: Raw match found.
2011.11.10 13:35:50 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 192.0, 'azimuth': 327.0, 'longitude': 37.8204, 'odometer': 375.0, 'satellitescount': 1, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133550,E03749.2240,N5606.6110,192,40.49676025917926,327,1,1.1,14600,14470mV,0,0,0,0,0,375,0*34!', 'time': '2011-11-10T13:35:50.000000', 'latitude': 56.11018333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 375.0, 'digital_input2': 0, 'speed': 75.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 75.0, 'uid': '557460032240926_888'}
2011.11.10 13:35:56 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.46265006065369 seconds\\n","1":"Average query length: 0.0058563298816922 seconds\\n","2":"Queries per second: 170.755408285\\n","3":"Longest query length: 0.079475879669189\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.079475879669189},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.005734920501709},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'f50fdl1n239jlrpdsjllcl6bi0\')))","Time":0.00099396705627441},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0035748481750488},{"SQL":"select * from obj_info(58369)","Time":0.00080299377441406},{"SQL":"select * from obj_info(58369)","Time":0.0004580020904541},{"SQL":"select * from obj_prop_total(58369)","Time":0.068056106567383},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0022799968719482},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0010719299316406},{"SQL":"select obj_is_deleted(104) as code","Time":0.00073695182800293},{"SQL":"select * from obj_info(104)","Time":0.00042390823364258},{"SQL":"select * from f_prop_total(104)","Time":0.024466037750244},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038650035858154},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.003464937210083},{"SQL":"select * from t_options(\'1006667041\')","Time":0.055612087249756},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0022549629211426},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0023548603057861},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.001007080078125},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00073003768920898},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00069999694824219},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0035619735717773},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00057888031005859},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014321804046631},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0028879642486572},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012650489807129},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058913230895996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058794021606445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060319900512695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085806846618652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096297264099121},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083708763122559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010612010955811},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084304809570312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080299377441406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007319450378418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008091926574707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083613395690918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010440349578857},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071907043457031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074100494384766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070905685424805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073099136352539},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:35:50\') as code","Time":0.025554895401001},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408325\')","Time":0.00091695785522461},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00078296661376953},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0005500316619873},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00071001052856445},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00093603134155273},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408322)","Time":0.00070905685424805},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00047397613525391},{"SQL":"select * from acc_list(58369)","Time":0.0011720657348633},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0030429363250732},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0016748905181885},{"SQL":"select z_has_point(1002846847, 56.107383333333, 37.823733333333, null) as state","Time":0.0034801959991455},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00039100646972656},{"SQL":"select z_has_point(171930, 56.107383333333, 37.823733333333, null) as state","Time":0.0031039714813232},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0003659725189209},{"SQL":"select z_has_point(1387421, 56.107383333333, 37.823733333333, null) as state","Time":0.0037679672241211},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00044512748718262},{"SQL":"select z_has_point(1387486, 56.107383333333, 37.823733333333, null) as state","Time":0.003680944442749},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00030612945556641},{"SQL":"select z_has_point(1387485, 56.107383333333, 37.823733333333, null) as state","Time":0.0022101402282715},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00038790702819824},{"SQL":"select z_has_point(1387499, 56.107383333333, 37.823733333333, null) as state","Time":0.003648042678833},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00050210952758789},{"SQL":"select z_has_point(1387483, 56.107383333333, 37.823733333333, null) as state","Time":0.0023951530456543},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00028395652770996},{"SQL":"select z_has_point(1387484, 56.107383333333, 37.823733333333, null) as state","Time":0.0029511451721191},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.0004279613494873},{"SQL":"select z_has_point(1387619, 56.107383333333, 37.823733333333, null) as state","Time":0.0036928653717041},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00040006637573242},{"SQL":"select z_has_point(8710, 56.107383333333, 37.823733333333, null) as state","Time":0.0038590431213379},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00051593780517578},{"SQL":"select z_has_point(1002827265, 56.107383333333, 37.823733333333, null) as state","Time":0.0039958953857422},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00040102005004883},{"SQL":"select z_has_point(37627, 56.107383333333, 37.823733333333, null) as state","Time":0.0039210319519043},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0011260509490967},{"SQL":"select * from notif_get_by_object(58369)","Time":0.042005062103271},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:35:30\') as code","Time":0.056603908538818}]},"timeleft":false}'
2011.11.10 13:35:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:35:56 DEBUG: Data chunk = b''
2011.11.10 13:36:00 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:00 DEBUG: Recieving...
2011.11.10 13:36:00 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133600,E03815.4800,N5554.1740,128,57.23542116630669,156,3,1.1,14600,14470mV,0,0,0,0,0,147,0*38!\r\n'
2011.11.10 13:36:00 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133600,E03815.4800,N5554.1740,128,57.23542116630669,156,3,1.1,14600,14470mV,0,0,0,0,0,147,0*38!\r\n']
2011.11.10 13:36:00 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133600,E03815.4800,N5554.1740,128,57.23542116630669,156,3,1.1,14600,14470mV,0,0,0,0,0,147,0*38!

2011.11.10 13:36:00 DEBUG: Raw match found.
2011.11.10 13:36:00 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 128.0, 'azimuth': 156.0, 'longitude': 38.258, 'odometer': 147.0, 'satellitescount': 3, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133600,E03815.4800,N5554.1740,128,57.23542116630669,156,3,1.1,14600,14470mV,0,0,0,0,0,147,0*38!', 'time': '2011-11-10T13:36:00.000000', 'latitude': 55.9029, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 147.0, 'digital_input2': 0, 'speed': 106.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 106.0, 'uid': '457460032240926_888'}
2011.11.10 13:36:00 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:00 DEBUG: Recieving...
2011.11.10 13:36:00 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133600,E03121.2570,N5831.9500,26,35.09719222462203,91,10,1.1,14600,14470mV,0,0,0,0,0,145,0*04!\r\n'
2011.11.10 13:36:00 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133600,E03121.2570,N5831.9500,26,35.09719222462203,91,10,1.1,14600,14470mV,0,0,0,0,0,145,0*04!\r\n']
2011.11.10 13:36:00 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133600,E03121.2570,N5831.9500,26,35.09719222462203,91,10,1.1,14600,14470mV,0,0,0,0,0,145,0*04!

2011.11.10 13:36:00 DEBUG: Raw match found.
2011.11.10 13:36:00 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 91.0, 'longitude': 31.354283333333335, 'odometer': 145.0, 'satellitescount': 10, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133600,E03121.2570,N5831.9500,26,35.09719222462203,91,10,1.1,14600,14470mV,0,0,0,0,0,145,0*04!', 'time': '2011-11-10T13:36:00.000000', 'latitude': 58.5325, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 145.0, 'digital_input2': 0, 'speed': 65.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 65.0, 'uid': '657460032240926_888'}
2011.11.10 13:36:01 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:01 DEBUG: Recieving...
2011.11.10 13:36:01 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133601,E03749.1180,N5606.6990,192,15.118790496760258,326,2,1.1,14600,14470mV,0,0,0,0,0,196,0*0E!\r\n'
2011.11.10 13:36:01 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133601,E03749.1180,N5606.6990,192,15.118790496760258,326,2,1.1,14600,14470mV,0,0,0,0,0,196,0*0E!\r\n']
2011.11.10 13:36:01 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133601,E03749.1180,N5606.6990,192,15.118790496760258,326,2,1.1,14600,14470mV,0,0,0,0,0,196,0*0E!

2011.11.10 13:36:01 DEBUG: Raw match found.
2011.11.10 13:36:01 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 192.0, 'azimuth': 326.0, 'longitude': 37.81863333333333, 'odometer': 196.0, 'satellitescount': 2, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133601,E03749.1180,N5606.6990,192,15.118790496760258,326,2,1.1,14600,14470mV,0,0,0,0,0,196,0*0E!', 'time': '2011-11-10T13:36:01.000000', 'latitude': 56.11165, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 196.0, 'digital_input2': 0, 'speed': 28.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 28.0, 'uid': '557460032240926_888'}
2011.11.10 13:36:01 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.2187647819519 seconds\\n","1":"Average query length: 0.0046545698287639 seconds\\n","2":"Queries per second: 214.84262494469\\n","3":"Longest query length: 0.05495285987854\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.032355070114136},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050461292266846},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'lk21kitv222rdtbrupspajjes2\')))","Time":0.00095987319946289},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0038421154022217},{"SQL":"select * from obj_info(38910)","Time":0.00074982643127441},{"SQL":"select * from obj_info(38910)","Time":0.00045299530029297},{"SQL":"select * from obj_prop_total(38910)","Time":0.05495285987854},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0016939640045166},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010249614715576},{"SQL":"select obj_is_deleted(104) as code","Time":0.00082898139953613},{"SQL":"select * from obj_info(104)","Time":0.00043892860412598},{"SQL":"select * from f_prop_total(104)","Time":0.022976875305176},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0041568279266357},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0027289390563965},{"SQL":"select * from t_options(\'1006667041\')","Time":0.048561096191406},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0014901161193848},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0014848709106445},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010581016540527},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00056910514831543},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00077486038208008},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023620128631592},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00041913986206055},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015370845794678},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0016818046569824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099706649780273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005190372467041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068187713623047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053811073303223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057005882263184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005490779876709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005950927734375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056219100952148},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062108039855957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055885314941406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007328987121582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067996978759766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073099136352539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053000450134277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048398971557617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046086311340332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047588348388672},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:36:00\') as code","Time":0.013745069503784},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408326\')","Time":0.00054192543029785},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0004570484161377},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00044918060302734},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00059890747070312}]},"timeleft":false}'
2011.11.10 13:36:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:01 DEBUG: Data chunk = b''
2011.11.10 13:36:01 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.24376535415649 seconds\\n","1":"Average query length: 0.0051864968969467 seconds\\n","2":"Queries per second: 192.80836754934\\n","3":"Longest query length: 0.0713050365448\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.040127992630005},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0062599182128906},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'b5ekspa49pef4smddlj4kbi1n4\')))","Time":0.0010321140289307},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0032708644866943},{"SQL":"select * from obj_info(58372)","Time":0.00065493583679199},{"SQL":"select * from obj_info(58372)","Time":0.00038599967956543},{"SQL":"select * from obj_prop_total(58372)","Time":0.0713050365448},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0018990039825439},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0010271072387695},{"SQL":"select obj_is_deleted(104) as code","Time":0.00071287155151367},{"SQL":"select * from obj_info(104)","Time":0.00041007995605469},{"SQL":"select * from f_prop_total(104)","Time":0.025990009307861},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0028591156005859},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032439231872559},{"SQL":"select * from t_options(\'1006667041\')","Time":0.044909000396729},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0016300678253174},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0022749900817871},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00097799301147461},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059103965759277},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00089693069458008},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0037000179290771},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040698051452637},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014469623565674},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0025777816772461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012121200561523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040912628173828},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0003809928894043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00037407875061035},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060009956359863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041508674621582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040507316589355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040006637573242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047898292541504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040411949157715},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041484832763672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039815902709961},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039196014404297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058507919311523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049400329589844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00038290023803711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00037384033203125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00036501884460449},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:36:00\') as code","Time":0.015074968338013},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408327\')","Time":0.00050187110900879},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00041103363037109},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00032305717468262},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00037813186645508}]},"timeleft":false}'
2011.11.10 13:36:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:01 DEBUG: Data chunk = b''
2011.11.10 13:36:02 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.2909951210022 seconds\\n","1":"Average query length: 0.0036834825443316 seconds\\n","2":"Queries per second: 271.4822149867\\n","3":"Longest query length: 0.056089162826538\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.02628493309021},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0054478645324707},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'bi7bav94uvv4i9924n4u1b6m66\')))","Time":0.00096583366394043},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.002525806427002},{"SQL":"select * from obj_info(58369)","Time":0.00056195259094238},{"SQL":"select * from obj_info(58369)","Time":0.0002899169921875},{"SQL":"select * from obj_prop_total(58369)","Time":0.056089162826538},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015449523925781},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0010340213775635},{"SQL":"select obj_is_deleted(104) as code","Time":0.00066304206848145},{"SQL":"select * from obj_info(104)","Time":0.00034689903259277},{"SQL":"select * from f_prop_total(104)","Time":0.020049095153809},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024631023406982},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021159648895264},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036409854888916},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011649131774902},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012001991271973},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00097298622131348},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063300132751465},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00066018104553223},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026149749755859},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0003201961517334},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011048316955566},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017821788787842},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095987319946289},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066304206848145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010619163513184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043106079101562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042486190795898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004279613494873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042605400085449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047993659973145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045895576477051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008080005645752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055885314941406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055313110351562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0047149658203125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:36:01\') as code","Time":0.018068075180054},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408328\')","Time":0.00054311752319336},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043010711669922},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00032591819763184},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00066399574279785},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00075984001159668},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408325)","Time":0.00049614906311035},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00032711029052734},{"SQL":"select * from acc_list(58369)","Time":0.0012030601501465},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.002838134765625},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0013041496276855},{"SQL":"select z_has_point(1002846847, 56.110183333333, 37.8204, null) as state","Time":0.004849910736084},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.0003199577331543},{"SQL":"select z_has_point(171930, 56.110183333333, 37.8204, null) as state","Time":0.002687931060791},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00024700164794922},{"SQL":"select z_has_point(1387421, 56.110183333333, 37.8204, null) as state","Time":0.0022568702697754},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00024199485778809},{"SQL":"select z_has_point(1387486, 56.110183333333, 37.8204, null) as state","Time":0.0023899078369141},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00037288665771484},{"SQL":"select z_has_point(1387485, 56.110183333333, 37.8204, null) as state","Time":0.0034399032592773},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00035691261291504},{"SQL":"select z_has_point(1387499, 56.110183333333, 37.8204, null) as state","Time":0.0031940937042236},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00031185150146484},{"SQL":"select z_has_point(1387483, 56.110183333333, 37.8204, null) as state","Time":0.00217604637146},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00029993057250977},{"SQL":"select z_has_point(1387484, 56.110183333333, 37.8204, null) as state","Time":0.0021679401397705},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00056004524230957},{"SQL":"select z_has_point(1387619, 56.110183333333, 37.8204, null) as state","Time":0.0041308403015137},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00043320655822754},{"SQL":"select z_has_point(8710, 56.110183333333, 37.8204, null) as state","Time":0.0030078887939453},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00032782554626465},{"SQL":"select z_has_point(1002827265, 56.110183333333, 37.8204, null) as state","Time":0.002208948135376},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00030303001403809},{"SQL":"select z_has_point(37627, 56.110183333333, 37.8204, null) as state","Time":0.0022139549255371},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00072097778320312},{"SQL":"select * from notif_get_by_object(58369)","Time":0.029348134994507},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:35:50\') as code","Time":0.013334035873413}]},"timeleft":false}'
2011.11.10 13:36:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:02 DEBUG: Data chunk = b''
2011.11.10 13:36:11 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:11 DEBUG: Recieving...
2011.11.10 13:36:11 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133611,E03815.5050,N5554.1300,132,56.15550755939525,162,8,1.1,14600,14470mV,0,0,0,0,0,87,0*05!\r\n'
2011.11.10 13:36:11 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133611,E03815.5050,N5554.1300,132,56.15550755939525,162,8,1.1,14600,14470mV,0,0,0,0,0,87,0*05!\r\n']
2011.11.10 13:36:11 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133611,E03815.5050,N5554.1300,132,56.15550755939525,162,8,1.1,14600,14470mV,0,0,0,0,0,87,0*05!

2011.11.10 13:36:11 DEBUG: Raw match found.
2011.11.10 13:36:11 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 132.0, 'azimuth': 162.0, 'longitude': 38.25841666666667, 'odometer': 87.0, 'satellitescount': 8, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133611,E03815.5050,N5554.1300,132,56.15550755939525,162,8,1.1,14600,14470mV,0,0,0,0,0,87,0*05!', 'time': '2011-11-10T13:36:11.000000', 'latitude': 55.902166666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 87.0, 'digital_input2': 0, 'speed': 104.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 104.0, 'uid': '457460032240926_888'}
2011.11.10 13:36:12 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.16669082641602 seconds\\n","1":"Average query length: 0.0035466133280003 seconds\\n","2":"Queries per second: 281.9591276289\\n","3":"Longest query length: 0.040086030960083\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.020925045013428},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0035171508789062},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'kak1bohtb1bet0hsua1m0flhi1\')))","Time":0.00068497657775879},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0028250217437744},{"SQL":"select * from obj_info(38910)","Time":0.00054502487182617},{"SQL":"select * from obj_info(38910)","Time":0.00026917457580566},{"SQL":"select * from obj_prop_total(38910)","Time":0.040086030960083},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0028111934661865},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00081300735473633},{"SQL":"select obj_is_deleted(104) as code","Time":0.00049114227294922},{"SQL":"select * from obj_info(104)","Time":0.00030612945556641},{"SQL":"select * from f_prop_total(104)","Time":0.014410972595215},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0029230117797852},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0024540424346924},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038064002990723},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011348724365234},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013608932495117},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064277648925781},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00057601928710938},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065708160400391},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023529529571533},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0003199577331543},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011610984802246},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017690658569336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096297264099121},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039196014404297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078201293945312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014450550079346},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050997734069824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050115585327148},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053286552429199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049805641174316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049901008605957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051784515380859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050497055053711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049495697021484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063610076904297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005040168762207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068187713623047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068402290344238},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:36:11\') as code","Time":0.012579917907715},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408329\')","Time":0.00055599212646484},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00046801567077637},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0003511905670166},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041413307189941}]},"timeleft":false}'
2011.11.10 13:36:12 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:12 DEBUG: Data chunk = b''
2011.11.10 13:36:13 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:13 DEBUG: Recieving...
2011.11.10 13:36:13 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133613,E03121.3730,N5831.9520,26,36.7170626349892,88,10,1.1,14600,14470mV,0,0,0,0,0,113,0*30!\r\n'
2011.11.10 13:36:13 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133613,E03121.3730,N5831.9520,26,36.7170626349892,88,10,1.1,14600,14470mV,0,0,0,0,0,113,0*30!\r\n']
2011.11.10 13:36:13 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133613,E03121.3730,N5831.9520,26,36.7170626349892,88,10,1.1,14600,14470mV,0,0,0,0,0,113,0*30!

2011.11.10 13:36:13 DEBUG: Raw match found.
2011.11.10 13:36:13 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 88.0, 'longitude': 31.35621666666667, 'odometer': 113.0, 'satellitescount': 10, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133613,E03121.3730,N5831.9520,26,36.7170626349892,88,10,1.1,14600,14470mV,0,0,0,0,0,113,0*30!', 'time': '2011-11-10T13:36:13.000000', 'latitude': 58.53253333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 113.0, 'digital_input2': 0, 'speed': 68.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 68.0, 'uid': '657460032240926_888'}
2011.11.10 13:36:14 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19183874130249 seconds\\n","1":"Average query length: 0.0040816753468615 seconds\\n","2":"Queries per second: 244.99743733144\\n","3":"Longest query length: 0.045345067977905\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.028905868530273},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0051541328430176},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'0ggi5729nbghiuepuumqj1bdf5\')))","Time":0.00089216232299805},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0037879943847656},{"SQL":"select * from obj_info(58372)","Time":0.0007331371307373},{"SQL":"select * from obj_info(58372)","Time":0.00036907196044922},{"SQL":"select * from obj_prop_total(58372)","Time":0.045345067977905},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0016031265258789},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00079107284545898},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005791187286377},{"SQL":"select * from obj_info(104)","Time":0.00034499168395996},{"SQL":"select * from f_prop_total(104)","Time":0.017349004745483},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024909973144531},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0030980110168457},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036262035369873},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.00111985206604},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0013179779052734},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006871223449707},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00061297416687012},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0007939338684082},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027799606323242},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0010747909545898},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0017240047454834},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019769668579102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094795227050781},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014150142669678},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078296661376953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062108039855957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058913230895996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055384635925293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068092346191406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060391426086426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072813034057617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061321258544922},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059819221496582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060510635375977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077486038208008},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:36:13\') as code","Time":0.01752495765686},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408330\')","Time":0.00062298774719238},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049710273742676},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00040698051452637},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00046205520629883}]},"timeleft":false}'
2011.11.10 13:36:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:14 DEBUG: Data chunk = b''
2011.11.10 13:36:17 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:17 DEBUG: Recieving...
2011.11.10 13:36:17 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133617,E03749.0240,N5606.7790,191,15.118790496760258,327,5,1.1,14600,14470mV,0,0,0,0,0,177,0*02!\r\n'
2011.11.10 13:36:17 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133617,E03749.0240,N5606.7790,191,15.118790496760258,327,5,1.1,14600,14470mV,0,0,0,0,0,177,0*02!\r\n']
2011.11.10 13:36:17 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133617,E03749.0240,N5606.7790,191,15.118790496760258,327,5,1.1,14600,14470mV,0,0,0,0,0,177,0*02!

2011.11.10 13:36:17 DEBUG: Raw match found.
2011.11.10 13:36:17 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 191.0, 'azimuth': 327.0, 'longitude': 37.81706666666667, 'odometer': 177.0, 'satellitescount': 5, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133617,E03749.0240,N5606.7790,191,15.118790496760258,327,5,1.1,14600,14470mV,0,0,0,0,0,177,0*02!', 'time': '2011-11-10T13:36:17.000000', 'latitude': 56.11298333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 177.0, 'digital_input2': 0, 'speed': 28.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 28.0, 'uid': '557460032240926_888'}
2011.11.10 13:36:18 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.33567595481873 seconds\\n","1":"Average query length: 0.0042490627192244 seconds\\n","2":"Queries per second: 235.34602007064\\n","3":"Longest query length: 0.05119800567627\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.025109052658081},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0040509700775146},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'8gdmqa82ht0apncobnu86l12q2\')))","Time":0.00097298622131348},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0033838748931885},{"SQL":"select * from obj_info(58369)","Time":0.00076484680175781},{"SQL":"select * from obj_info(58369)","Time":0.00039410591125488},{"SQL":"select * from obj_prop_total(58369)","Time":0.05119800567627},{"SQL":"select obj_is_deleted(58369) as code","Time":0.001878023147583},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00098896026611328},{"SQL":"select obj_is_deleted(104) as code","Time":0.00065016746520996},{"SQL":"select * from obj_info(104)","Time":0.0004429817199707},{"SQL":"select * from f_prop_total(104)","Time":0.016567945480347},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037758350372314},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0024387836456299},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036105871200562},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012900829315186},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0015401840209961},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00094509124755859},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00087094306945801},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00093388557434082},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0041239261627197},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00050997734069824},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0017449855804443},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0029289722442627},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012779235839844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076508522033691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010671615600586},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007328987121582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069403648376465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071191787719727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0091450214385986},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091099739074707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086402893066406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017061233520508},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069189071655273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071096420288086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081396102905273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010380744934082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070095062255859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066208839416504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066304206848145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069093704223633},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:36:17\') as code","Time":0.023465156555176},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408331\')","Time":0.00057315826416016},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00059318542480469},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00060510635375977},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00062298774719238},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00089597702026367},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408328)","Time":0.00057387351989746},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00038504600524902},{"SQL":"select * from acc_list(58369)","Time":0.001039981842041},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.002985954284668},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.001427173614502},{"SQL":"select z_has_point(1002846847, 56.11165, 37.818633333333, null) as state","Time":0.0053820610046387},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.0003819465637207},{"SQL":"select z_has_point(171930, 56.11165, 37.818633333333, null) as state","Time":0.0037088394165039},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0003049373626709},{"SQL":"select z_has_point(1387421, 56.11165, 37.818633333333, null) as state","Time":0.002335786819458},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00028204917907715},{"SQL":"select z_has_point(1387486, 56.11165, 37.818633333333, null) as state","Time":0.002202033996582},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026917457580566},{"SQL":"select z_has_point(1387485, 56.11165, 37.818633333333, null) as state","Time":0.0022580623626709},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00028705596923828},{"SQL":"select z_has_point(1387499, 56.11165, 37.818633333333, null) as state","Time":0.0022768974304199},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00028491020202637},{"SQL":"select z_has_point(1387483, 56.11165, 37.818633333333, null) as state","Time":0.002269983291626},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00029802322387695},{"SQL":"select z_has_point(1387484, 56.11165, 37.818633333333, null) as state","Time":0.0023269653320312},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00033903121948242},{"SQL":"select z_has_point(1387619, 56.11165, 37.818633333333, null) as state","Time":0.0042078495025635},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00049805641174316},{"SQL":"select z_has_point(8710, 56.11165, 37.818633333333, null) as state","Time":0.0039708614349365},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00037002563476562},{"SQL":"select z_has_point(1002827265, 56.11165, 37.818633333333, null) as state","Time":0.0026421546936035},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00036096572875977},{"SQL":"select z_has_point(37627, 56.11165, 37.818633333333, null) as state","Time":0.0038611888885498},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00091004371643066},{"SQL":"select * from notif_get_by_object(58369)","Time":0.038643836975098},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:36:01\') as code","Time":0.034378051757812}]},"timeleft":false}'
2011.11.10 13:36:18 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:18 DEBUG: Data chunk = b''
2011.11.10 13:36:23 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:23 DEBUG: Recieving...
2011.11.10 13:36:23 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133623,E03121.4670,N5831.9590,26,44.81641468682505,82,2,1.1,14600,14470mV,0,0,0,0,0,92,0*0C!\r\n'
2011.11.10 13:36:23 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133623,E03121.4670,N5831.9590,26,44.81641468682505,82,2,1.1,14600,14470mV,0,0,0,0,0,92,0*0C!\r\n']
2011.11.10 13:36:23 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133623,E03121.4670,N5831.9590,26,44.81641468682505,82,2,1.1,14600,14470mV,0,0,0,0,0,92,0*0C!

2011.11.10 13:36:23 DEBUG: Raw match found.
2011.11.10 13:36:23 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 26.0, 'azimuth': 82.0, 'longitude': 31.357783333333334, 'odometer': 92.0, 'satellitescount': 2, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133623,E03121.4670,N5831.9590,26,44.81641468682505,82,2,1.1,14600,14470mV,0,0,0,0,0,92,0*0C!', 'time': '2011-11-10T13:36:23.000000', 'latitude': 58.53265, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 92.0, 'digital_input2': 0, 'speed': 83.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 83.0, 'uid': '657460032240926_888'}
2011.11.10 13:36:24 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.23642468452454 seconds\\n","1":"Average query length: 0.0050303124366923 seconds\\n","2":"Queries per second: 198.79480898756\\n","3":"Longest query length: 0.066489934921265\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.027062177658081},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0059728622436523},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'qbrkevl8ek51i39ktlvufo7lj1\')))","Time":0.00065708160400391},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.002647876739502},{"SQL":"select * from obj_info(58372)","Time":0.00087404251098633},{"SQL":"select * from obj_info(58372)","Time":0.00051212310791016},{"SQL":"select * from obj_prop_total(58372)","Time":0.066489934921265},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0018799304962158},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00093197822570801},{"SQL":"select obj_is_deleted(104) as code","Time":0.00068306922912598},{"SQL":"select * from obj_info(104)","Time":0.00058293342590332},{"SQL":"select * from f_prop_total(104)","Time":0.023997068405151},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0039348602294922},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0033249855041504},{"SQL":"select * from t_options(\'1006667041\')","Time":0.045913934707642},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0017280578613281},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0015759468078613},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00089693069458008},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00085878372192383},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00082802772521973},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0037691593170166},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00059390068054199},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016851425170898},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0027680397033691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010240077972412},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041985511779785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0003972053527832},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012209415435791},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073599815368652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005640983581543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052690505981445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070905685424805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062799453735352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054693222045898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052094459533691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010111331939697},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091290473937988},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075101852416992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006709098815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010309219360352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076603889465332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:36:23\') as code","Time":0.020519018173218},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408332\')","Time":0.00064611434936523},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048708915710449},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0009458065032959},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00061988830566406}]},"timeleft":false}'
2011.11.10 13:36:24 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:24 DEBUG: Data chunk = b''
2011.11.10 13:36:26 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:26 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:26 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:26 DEBUG: Recieving...
2011.11.10 13:36:26 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133626,E03815.5340,N5554.0690,135,57.23542116630669,165,2,1.1,14600,14470mV,0,0,0,0,0,117,0*37!\r\n'
2011.11.10 13:36:26 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133626,E03815.5340,N5554.0690,135,57.23542116630669,165,2,1.1,14600,14470mV,0,0,0,0,0,117,0*37!\r\n']
2011.11.10 13:36:26 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133626,E03815.5340,N5554.0690,135,57.23542116630669,165,2,1.1,14600,14470mV,0,0,0,0,0,117,0*37!

2011.11.10 13:36:26 DEBUG: Raw match found.
2011.11.10 13:36:26 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 135.0, 'azimuth': 165.0, 'longitude': 38.2589, 'odometer': 117.0, 'satellitescount': 2, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133626,E03815.5340,N5554.0690,135,57.23542116630669,165,2,1.1,14600,14470mV,0,0,0,0,0,117,0*37!', 'time': '2011-11-10T13:36:26.000000', 'latitude': 55.90115, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 117.0, 'digital_input2': 0, 'speed': 106.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 106.0, 'uid': '457460032240926_888'}
2011.11.10 13:36:27 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.1823468208313 seconds\\n","1":"Average query length: 0.0038797195921553 seconds\\n","2":"Queries per second: 257.75058641402\\n","3":"Longest query length: 0.050448894500732\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.026696920394897},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0053269863128662},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'fnplvnfdktl0jcvgklu2guj0c3\')))","Time":0.0007169246673584},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0027520656585693},{"SQL":"select * from obj_info(38910)","Time":0.00066614151000977},{"SQL":"select * from obj_info(38910)","Time":0.00037121772766113},{"SQL":"select * from obj_prop_total(38910)","Time":0.050448894500732},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014200210571289},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00091099739074707},{"SQL":"select obj_is_deleted(104) as code","Time":0.00057601928710938},{"SQL":"select * from obj_info(104)","Time":0.00036311149597168},{"SQL":"select * from f_prop_total(104)","Time":0.016287088394165},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.002593994140625},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022039413452148},{"SQL":"select * from t_options(\'1006667041\')","Time":0.031580924987793},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011110305786133},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013799667358398},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064587593078613},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059199333190918},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006859302520752},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024518966674805},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00035500526428223},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018107891082764},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019750595092773},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010859966278076},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008690357208252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012190341949463},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075578689575195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006101131439209},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060510635375977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060391426086426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056791305541992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056695938110352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058794021606445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055408477783203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057220458984375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059008598327637},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:36:26\') as code","Time":0.014024019241333},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408333\')","Time":0.00064897537231445},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00055885314941406},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00066208839416504},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00047588348388672}]},"timeleft":false}'
2011.11.10 13:36:27 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:27 DEBUG: Data chunk = b''
2011.11.10 13:36:31 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:31 DEBUG: Recieving...
2011.11.10 13:36:31 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133631,E03748.8950,N5606.8890,190,31.857451403887687,327,9,1.1,14600,14470mV,0,0,0,0,0,245,0*0C!\r\n'
2011.11.10 13:36:31 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133631,E03748.8950,N5606.8890,190,31.857451403887687,327,9,1.1,14600,14470mV,0,0,0,0,0,245,0*0C!\r\n']
2011.11.10 13:36:31 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133631,E03748.8950,N5606.8890,190,31.857451403887687,327,9,1.1,14600,14470mV,0,0,0,0,0,245,0*0C!

2011.11.10 13:36:31 DEBUG: Raw match found.
2011.11.10 13:36:31 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 190.0, 'azimuth': 327.0, 'longitude': 37.81491666666667, 'odometer': 245.0, 'satellitescount': 9, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133631,E03748.8950,N5606.8890,190,31.857451403887687,327,9,1.1,14600,14470mV,0,0,0,0,0,245,0*0C!', 'time': '2011-11-10T13:36:31.000000', 'latitude': 56.11481666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 245.0, 'digital_input2': 0, 'speed': 59.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 59.0, 'uid': '557460032240926_888'}
2011.11.10 13:36:32 DEBUG: b"<br />\n<b>Parse error</b>:  syntax error, unexpected ';' in <b>D:\\Projects\\Observer\\Web\\trunk\\library\\Falcon\\Model\\NotifManager.php</b> on line <b>228</b><br />\n"
2011.11.10 13:36:32 ERROR: No JSON object could be decoded
2011.11.10 13:36:32 ERROR: <class 'lib.handlers.globalsat.tr-600.Handler'>::store():
 [{'code': '500', 'params': ['Error sending packets: No JSON object could be decoded']}]
2011.11.10 13:36:32 DEBUG: Storage::saveByUid(). 557460032240926_888
2011.11.10 13:36:32 DEBUG: Data chunk = b''
2011.11.10 13:36:38 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:38 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:38 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:38 DEBUG: Recieving...
2011.11.10 13:36:38 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133638,E03121.6020,N5831.9690,25,51.295896328293736,82,8,1.1,14600,14470mV,0,0,0,0,0,132,0*04!\r\n'
2011.11.10 13:36:38 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133638,E03121.6020,N5831.9690,25,51.295896328293736,82,8,1.1,14600,14470mV,0,0,0,0,0,132,0*04!\r\n']
2011.11.10 13:36:38 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133638,E03121.6020,N5831.9690,25,51.295896328293736,82,8,1.1,14600,14470mV,0,0,0,0,0,132,0*04!

2011.11.10 13:36:38 DEBUG: Raw match found.
2011.11.10 13:36:38 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 25.0, 'azimuth': 82.0, 'longitude': 31.360033333333334, 'odometer': 132.0, 'satellitescount': 8, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133638,E03121.6020,N5831.9690,25,51.295896328293736,82,8,1.1,14600,14470mV,0,0,0,0,0,132,0*04!', 'time': '2011-11-10T13:36:38.000000', 'latitude': 58.53281666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 132.0, 'digital_input2': 0, 'speed': 95.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 95.0, 'uid': '657460032240926_888'}
2011.11.10 13:36:39 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19621658325195 seconds\\n","1":"Average query length: 0.0041748209202543 seconds\\n","2":"Queries per second: 239.53123238136\\n","3":"Longest query length: 0.053447961807251\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.030328035354614},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0043070316314697},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'lsi0jrv3sjddpmd4je50pomg81\')))","Time":0.0013611316680908},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0029029846191406},{"SQL":"select * from obj_info(58372)","Time":0.0005958080291748},{"SQL":"select * from obj_info(58372)","Time":0.0002739429473877},{"SQL":"select * from obj_prop_total(58372)","Time":0.053447961807251},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0020120143890381},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00089406967163086},{"SQL":"select obj_is_deleted(104) as code","Time":0.00054812431335449},{"SQL":"select * from obj_info(104)","Time":0.00034499168395996},{"SQL":"select * from f_prop_total(104)","Time":0.017041921615601},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026021003723145},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0037550926208496},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037816047668457},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012130737304688},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0013759136199951},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070405006408691},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064492225646973},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00070500373840332},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026628971099854},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00043392181396484},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011458396911621},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018270015716553},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012540817260742},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043916702270508},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043010711669922},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040483474731445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046801567077637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004270076751709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043487548828125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042486190795898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041794776916504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044703483581543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095200538635254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070405006408691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053691864013672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052404403686523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052785873413086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088381767272949},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:36:38\') as code","Time":0.015125036239624},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408335\')","Time":0.00055789947509766},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00047183036804199},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034809112548828},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043320655822754}]},"timeleft":false}'
2011.11.10 13:36:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:39 DEBUG: Data chunk = b''
2011.11.10 13:36:46 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:46 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:46 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:46 DEBUG: Recieving...
2011.11.10 13:36:46 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133646,E03815.5560,N5554.0220,137,58.855291576673864,165,2,1.1,14600,14470mV,0,0,0,0,0,90,0*3F!\r\n'
2011.11.10 13:36:46 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133646,E03815.5560,N5554.0220,137,58.855291576673864,165,2,1.1,14600,14470mV,0,0,0,0,0,90,0*3F!\r\n']
2011.11.10 13:36:46 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133646,E03815.5560,N5554.0220,137,58.855291576673864,165,2,1.1,14600,14470mV,0,0,0,0,0,90,0*3F!

2011.11.10 13:36:46 DEBUG: Raw match found.
2011.11.10 13:36:46 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 137.0, 'azimuth': 165.0, 'longitude': 38.25926666666667, 'odometer': 90.0, 'satellitescount': 2, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133646,E03815.5560,N5554.0220,137,58.855291576673864,165,2,1.1,14600,14470mV,0,0,0,0,0,90,0*3F!', 'time': '2011-11-10T13:36:46.000000', 'latitude': 55.90036666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 90.0, 'digital_input2': 0, 'speed': 109.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 109.0, 'uid': '457460032240926_888'}
2011.11.10 13:36:47 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17742776870728 seconds\\n","1":"Average query length: 0.0037750589086654 seconds\\n","2":"Queries per second: 264.89652855603\\n","3":"Longest query length: 0.042043924331665\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.030488014221191},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050301551818848},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ec3aafqj0dsvr1vp751q425if3\')))","Time":0.00080299377441406},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0024869441986084},{"SQL":"select * from obj_info(38910)","Time":0.00056600570678711},{"SQL":"select * from obj_info(38910)","Time":0.00030398368835449},{"SQL":"select * from obj_prop_total(38910)","Time":0.042043924331665},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014348030090332},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0011711120605469},{"SQL":"select obj_is_deleted(104) as code","Time":0.00058603286743164},{"SQL":"select * from obj_info(104)","Time":0.00035285949707031},{"SQL":"select * from f_prop_total(104)","Time":0.015171051025391},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0027751922607422},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022051334381104},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032171964645386},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011560916900635},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013678073883057},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00082898139953613},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059008598327637},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00074100494384766},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024149417877197},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00037002563476562},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0017549991607666},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018799304962158},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010080337524414},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089716911315918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046706199645996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043797492980957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015058517456055},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074601173400879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005648136138916},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056195259094238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055503845214844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055503845214844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010669231414795},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060892105102539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057291984558105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065183639526367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062394142150879},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:36:46\') as code","Time":0.014060974121094},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408336\')","Time":0.00059103965759277},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00053000450134277},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00047206878662109},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00053310394287109}]},"timeleft":false}'
2011.11.10 13:36:47 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:47 DEBUG: Data chunk = b''
2011.11.10 13:36:50 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:50 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:50 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:50 DEBUG: Recieving...
2011.11.10 13:36:50 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133650,E03748.7920,N5606.9630,182,33.47732181425486,322,10,1.1,14600,14470mV,0,0,0,0,0,174,0*0C!\r\n'
2011.11.10 13:36:50 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133650,E03748.7920,N5606.9630,182,33.47732181425486,322,10,1.1,14600,14470mV,0,0,0,0,0,174,0*0C!\r\n']
2011.11.10 13:36:50 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133650,E03748.7920,N5606.9630,182,33.47732181425486,322,10,1.1,14600,14470mV,0,0,0,0,0,174,0*0C!

2011.11.10 13:36:50 DEBUG: Raw match found.
2011.11.10 13:36:50 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 182.0, 'azimuth': 322.0, 'longitude': 37.8132, 'odometer': 174.0, 'satellitescount': 10, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133650,E03748.7920,N5606.9630,182,33.47732181425486,322,10,1.1,14600,14470mV,0,0,0,0,0,174,0*0C!', 'time': '2011-11-10T13:36:50.000000', 'latitude': 56.11605, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 174.0, 'digital_input2': 0, 'speed': 62.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 62.0, 'uid': '557460032240926_888'}
2011.11.10 13:36:51 DEBUG: b'{"success":true,"profiler":{"0":"Executed 108 queries in 0.37903499603271 seconds\\n","1":"Average query length: 0.0035095832965992 seconds\\n","2":"Queries per second: 284.93411196965\\n","3":"Longest query length: 0.055186033248901\\n","4":"Longest query: \\nSELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'bplesthb3cb9lbedoi70ttive7\')))\\n","Queries":[{"SQL":"connect","Time":0.027088165283203},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.00478196144104},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'bplesthb3cb9lbedoi70ttive7\')))","Time":0.055186033248901},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025279521942139},{"SQL":"select * from obj_info(58369)","Time":0.00059199333190918},{"SQL":"select * from obj_info(58369)","Time":0.00029587745666504},{"SQL":"select * from obj_prop_total(58369)","Time":0.046653985977173},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014510154724121},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00074887275695801},{"SQL":"select obj_is_deleted(104) as code","Time":0.00074386596679688},{"SQL":"select * from obj_info(104)","Time":0.00037312507629395},{"SQL":"select * from f_prop_total(104)","Time":0.019365072250366},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026979446411133},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0023889541625977},{"SQL":"select * from t_options(\'1006667041\')","Time":0.050673007965088},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0020308494567871},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.002392053604126},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0016109943389893},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00088596343994141},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00091409683227539},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0043239593505859},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00051593780517578},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015189647674561},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0029318332672119},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012831687927246},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006859302520752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064802169799805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000640869140625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064706802368164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063896179199219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049591064453125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059294700622559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085186958312988},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007939338684082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058507919311523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069499015808105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099396705627441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006709098815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060486793518066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057792663574219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058603286743164},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:36:50\') as code","Time":0.015126943588257},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408337\')","Time":0.00053691864013672},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048708915710449},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0003511905670166},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00045013427734375},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0005488395690918},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408334)","Time":0.00038790702819824},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00025010108947754},{"SQL":"select * from acc_list(58369)","Time":0.00073695182800293},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019400119781494},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0010571479797363},{"SQL":"select z_has_point(1002846847, 56.114816666667, 37.814916666667, null) as state","Time":0.0031359195709229},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.0003049373626709},{"SQL":"select z_has_point(171930, 56.114816666667, 37.814916666667, null) as state","Time":0.0023679733276367},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0002439022064209},{"SQL":"select z_has_point(1387421, 56.114816666667, 37.814916666667, null) as state","Time":0.0021581649780273},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00026988983154297},{"SQL":"select z_has_point(1387486, 56.114816666667, 37.814916666667, null) as state","Time":0.002385139465332},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026512145996094},{"SQL":"select z_has_point(1387485, 56.114816666667, 37.814916666667, null) as state","Time":0.0026760101318359},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00031900405883789},{"SQL":"select z_has_point(1387499, 56.114816666667, 37.814916666667, null) as state","Time":0.0023529529571533},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00032615661621094},{"SQL":"select z_has_point(1387483, 56.114816666667, 37.814916666667, null) as state","Time":0.0021629333496094},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00030684471130371},{"SQL":"select z_has_point(1387484, 56.114816666667, 37.814916666667, null) as state","Time":0.0034902095794678},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00046205520629883},{"SQL":"select z_has_point(1387619, 56.114816666667, 37.814916666667, null) as state","Time":0.0039608478546143},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00033307075500488},{"SQL":"select z_has_point(8710, 56.114816666667, 37.814916666667, null) as state","Time":0.0024130344390869},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00025200843811035},{"SQL":"select z_has_point(1002827265, 56.114816666667, 37.814916666667, null) as state","Time":0.0021679401397705},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00027012825012207},{"SQL":"select z_has_point(37627, 56.114816666667, 37.814916666667, null) as state","Time":0.0022280216217041},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0008540153503418},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408331)","Time":0.00050210952758789},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00027799606323242},{"SQL":"select * from acc_list(58369)","Time":0.00035500526428223},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.000762939453125},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00026392936706543},{"SQL":"select z_has_point(1002846847, 56.112983333333, 37.817066666667, null) as state","Time":0.0022809505462646},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00037384033203125},{"SQL":"select z_has_point(171930, 56.112983333333, 37.817066666667, null) as state","Time":0.0034770965576172},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00030303001403809},{"SQL":"select z_has_point(1387421, 56.112983333333, 37.817066666667, null) as state","Time":0.0025720596313477},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00026202201843262},{"SQL":"select z_has_point(1387486, 56.112983333333, 37.817066666667, null) as state","Time":0.0021240711212158},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00023484230041504},{"SQL":"select z_has_point(1387485, 56.112983333333, 37.817066666667, null) as state","Time":0.0022139549255371},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00048089027404785},{"SQL":"select z_has_point(1387499, 56.112983333333, 37.817066666667, null) as state","Time":0.0024821758270264},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00028514862060547},{"SQL":"select z_has_point(1387483, 56.112983333333, 37.817066666667, null) as state","Time":0.0021650791168213},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00026917457580566},{"SQL":"select z_has_point(1387484, 56.112983333333, 37.817066666667, null) as state","Time":0.0022928714752197},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00035309791564941},{"SQL":"select z_has_point(1387619, 56.112983333333, 37.817066666667, null) as state","Time":0.003547191619873},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00029897689819336},{"SQL":"select z_has_point(8710, 56.112983333333, 37.817066666667, null) as state","Time":0.0026030540466309},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.0002739429473877},{"SQL":"select z_has_point(1002827265, 56.112983333333, 37.817066666667, null) as state","Time":0.0022270679473877},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00025391578674316},{"SQL":"select z_has_point(37627, 56.112983333333, 37.817066666667, null) as state","Time":0.00223708152771},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00068998336791992},{"SQL":"select * from notif_get_by_object(58369)","Time":0.026624917984009},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:36:31\') as code","Time":0.013143062591553}]},"timeleft":false}'
2011.11.10 13:36:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:51 DEBUG: Data chunk = b''
2011.11.10 13:36:58 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:36:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:36:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:36:58 DEBUG: Recieving...
2011.11.10 13:36:58 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133658,E03121.7800,N5831.9820,23,48.59611231101512,82,2,1.1,14600,14470mV,0,0,0,0,0,174,0*3C!\r\n'
2011.11.10 13:36:58 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133658,E03121.7800,N5831.9820,23,48.59611231101512,82,2,1.1,14600,14470mV,0,0,0,0,0,174,0*3C!\r\n']
2011.11.10 13:36:58 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133658,E03121.7800,N5831.9820,23,48.59611231101512,82,2,1.1,14600,14470mV,0,0,0,0,0,174,0*3C!

2011.11.10 13:36:58 DEBUG: Raw match found.
2011.11.10 13:36:58 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 23.0, 'azimuth': 82.0, 'longitude': 31.363, 'odometer': 174.0, 'satellitescount': 2, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133658,E03121.7800,N5831.9820,23,48.59611231101512,82,2,1.1,14600,14470mV,0,0,0,0,0,174,0*3C!', 'time': '2011-11-10T13:36:58.000000', 'latitude': 58.533033333333336, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 174.0, 'digital_input2': 0, 'speed': 90.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 90.0, 'uid': '657460032240926_888'}
2011.11.10 13:36:59 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21503472328186 seconds\\n","1":"Average query length: 0.0045752068783375 seconds\\n","2":"Queries per second: 218.5693514177\\n","3":"Longest query length: 0.053217887878418\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.029153108596802},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0055320262908936},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'qdo4e8rj0h1va2pjc28oab1df6\')))","Time":0.00092291831970215},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0029301643371582},{"SQL":"select * from obj_info(58372)","Time":0.00059604644775391},{"SQL":"select * from obj_info(58372)","Time":0.0003049373626709},{"SQL":"select * from obj_prop_total(58372)","Time":0.053217887878418},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014240741729736},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00071501731872559},{"SQL":"select obj_is_deleted(104) as code","Time":0.00043892860412598},{"SQL":"select * from obj_info(104)","Time":0.00030684471130371},{"SQL":"select * from f_prop_total(104)","Time":0.020055055618286},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0036501884460449},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0029828548431396},{"SQL":"select * from t_options(\'1006667041\')","Time":0.043860912322998},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0017478466033936},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.002234935760498},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00085306167602539},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0047910213470459},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00069808959960938},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023860931396484},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00044679641723633},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018811225891113},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019268989562988},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00095105171203613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057315826416016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012550354003906},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049591064453125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049185752868652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008389949798584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057411193847656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050711631774902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006110668182373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065183639526367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046896934509277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012578964233398},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070285797119141},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:36:58\') as code","Time":0.017581224441528},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408338\')","Time":0.00069594383239746},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00060582160949707},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00037097930908203},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040411949157715}]},"timeleft":false}'
2011.11.10 13:36:59 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:36:59 DEBUG: Data chunk = b''
2011.11.10 13:37:00 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:00 DEBUG: Recieving...
2011.11.10 13:37:00 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133700,E03815.6000,N5553.9460,139,57.23542116630669,162,7,1.1,14600,14470mV,0,0,0,0,0,147,0*3E!\r\n'
2011.11.10 13:37:00 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133700,E03815.6000,N5553.9460,139,57.23542116630669,162,7,1.1,14600,14470mV,0,0,0,0,0,147,0*3E!\r\n']
2011.11.10 13:37:00 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133700,E03815.6000,N5553.9460,139,57.23542116630669,162,7,1.1,14600,14470mV,0,0,0,0,0,147,0*3E!

2011.11.10 13:37:00 DEBUG: Raw match found.
2011.11.10 13:37:00 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 139.0, 'azimuth': 162.0, 'longitude': 38.26, 'odometer': 147.0, 'satellitescount': 7, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133700,E03815.6000,N5553.9460,139,57.23542116630669,162,7,1.1,14600,14470mV,0,0,0,0,0,147,0*3E!', 'time': '2011-11-10T13:37:00.000000', 'latitude': 55.8991, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 147.0, 'digital_input2': 0, 'speed': 106.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 106.0, 'uid': '457460032240926_888'}
2011.11.10 13:37:01 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18885469436646 seconds\\n","1":"Average query length: 0.0040181849865203 seconds\\n","2":"Queries per second: 248.86858204753\\n","3":"Longest query length: 0.044960975646973\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.027288913726807},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.006072998046875},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ohn3sjkfms07ib2rmrremum8c7\')))","Time":0.00093793869018555},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026569366455078},{"SQL":"select * from obj_info(38910)","Time":0.00058412551879883},{"SQL":"select * from obj_info(38910)","Time":0.00045299530029297},{"SQL":"select * from obj_prop_total(38910)","Time":0.044960975646973},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0021719932556152},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00097298622131348},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005500316619873},{"SQL":"select * from obj_info(104)","Time":0.00031208992004395},{"SQL":"select * from f_prop_total(104)","Time":0.017670154571533},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026860237121582},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002310037612915},{"SQL":"select * from t_options(\'1006667041\')","Time":0.042654991149902},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011229515075684},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.001370906829834},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066900253295898},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00060796737670898},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00098085403442383},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024101734161377},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00035285949707031},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012040138244629},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020289421081543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010001659393311},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042915344238281},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040507316589355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048708915710449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041294097900391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040411949157715},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040698051452637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013840198516846},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056314468383789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055122375488281},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053000450134277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052309036254883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053691864013672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010819435119629},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056791305541992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053310394287109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:37:00\') as code","Time":0.012781858444214},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408339\')","Time":0.00056099891662598},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00065302848815918},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00051999092102051},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00042104721069336}]},"timeleft":false}'
2011.11.10 13:37:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:01 DEBUG: Data chunk = b''
2011.11.10 13:37:02 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:02 DEBUG: Recieving...
2011.11.10 13:37:02 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133702,E03748.6040,N5607.0030,178,33.47732181425486,291,5,1.1,14600,14470mV,0,0,0,0,0,208,0*3A!\r\n'
2011.11.10 13:37:02 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133702,E03748.6040,N5607.0030,178,33.47732181425486,291,5,1.1,14600,14470mV,0,0,0,0,0,208,0*3A!\r\n']
2011.11.10 13:37:02 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133702,E03748.6040,N5607.0030,178,33.47732181425486,291,5,1.1,14600,14470mV,0,0,0,0,0,208,0*3A!

2011.11.10 13:37:02 DEBUG: Raw match found.
2011.11.10 13:37:02 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 178.0, 'azimuth': 291.0, 'longitude': 37.810066666666664, 'odometer': 208.0, 'satellitescount': 5, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133702,E03748.6040,N5607.0030,178,33.47732181425486,291,5,1.1,14600,14470mV,0,0,0,0,0,208,0*3A!', 'time': '2011-11-10T13:37:02.000000', 'latitude': 56.11671666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 208.0, 'digital_input2': 0, 'speed': 62.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 62.0, 'uid': '557460032240926_888'}
2011.11.10 13:37:03 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.36182880401611 seconds\\n","1":"Average query length: 0.0045801114432419 seconds\\n","2":"Queries per second: 218.33529869137\\n","3":"Longest query length: 0.059529066085815\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.035809993743896},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0075051784515381},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ved4o2rk1rgu92mgmr1nhligm2\')))","Time":0.00095987319946289},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0035159587860107},{"SQL":"select * from obj_info(58369)","Time":0.00080990791320801},{"SQL":"select * from obj_info(58369)","Time":0.0004119873046875},{"SQL":"select * from obj_prop_total(58369)","Time":0.059529066085815},{"SQL":"select obj_is_deleted(58369) as code","Time":0.001507043838501},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0010550022125244},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045990943908691},{"SQL":"select * from obj_info(104)","Time":0.00030112266540527},{"SQL":"select * from f_prop_total(104)","Time":0.029850959777832},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0043470859527588},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0024399757385254},{"SQL":"select * from t_options(\'1006667041\')","Time":0.047765970230103},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0016419887542725},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0013179779052734},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00080013275146484},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010280609130859},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0019428730010986},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0047268867492676},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00055694580078125},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0092270374298096},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0045650005340576},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0026359558105469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086116790771484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064992904663086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066685676574707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00091004371643066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008091926574707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085186958312988},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076913833618164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010039806365967},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013549327850342},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082588195800781},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088000297546387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080990791320801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092387199401855},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008089542388916},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086498260498047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013308525085449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055503845214844},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:37:02\') as code","Time":0.01860499382019},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408340\')","Time":0.00076007843017578},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00067806243896484},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00052785873413086},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00069117546081543},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00060415267944336},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408337)","Time":0.00054502487182617},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00030684471130371},{"SQL":"select * from acc_list(58369)","Time":0.00076007843017578},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.00282883644104},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0013768672943115},{"SQL":"select z_has_point(1002846847, 56.11605, 37.8132, null) as state","Time":0.0043478012084961},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00037908554077148},{"SQL":"select z_has_point(171930, 56.11605, 37.8132, null) as state","Time":0.0036778450012207},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00037407875061035},{"SQL":"select z_has_point(1387421, 56.11605, 37.8132, null) as state","Time":0.003587007522583},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00029420852661133},{"SQL":"select z_has_point(1387486, 56.11605, 37.8132, null) as state","Time":0.0041260719299316},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00043296813964844},{"SQL":"select z_has_point(1387485, 56.11605, 37.8132, null) as state","Time":0.0035901069641113},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00040507316589355},{"SQL":"select z_has_point(1387499, 56.11605, 37.8132, null) as state","Time":0.0035860538482666},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00030112266540527},{"SQL":"select z_has_point(1387483, 56.11605, 37.8132, null) as state","Time":0.0026698112487793},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00039505958557129},{"SQL":"select z_has_point(1387484, 56.11605, 37.8132, null) as state","Time":0.003593921661377},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00047087669372559},{"SQL":"select z_has_point(1387619, 56.11605, 37.8132, null) as state","Time":0.0040109157562256},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00035309791564941},{"SQL":"select z_has_point(8710, 56.11605, 37.8132, null) as state","Time":0.0039501190185547},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00043201446533203},{"SQL":"select z_has_point(1002827265, 56.11605, 37.8132, null) as state","Time":0.0038139820098877},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.0003969669342041},{"SQL":"select z_has_point(37627, 56.11605, 37.8132, null) as state","Time":0.0038599967956543},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0013339519500732},{"SQL":"select * from notif_get_by_object(58369)","Time":0.027037143707275},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:36:50\') as code","Time":0.017137050628662}]},"timeleft":false}'
2011.11.10 13:37:03 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:03 DEBUG: Data chunk = b''
2011.11.10 13:37:08 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:08 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:08 DEBUG: Recieving...
2011.11.10 13:37:08 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133708,E03121.9440,N5831.9950,22,44.81641468682505,82,7,1.1,14600,14470mV,0,0,0,0,0,161,0*34!\r\n'
2011.11.10 13:37:08 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133708,E03121.9440,N5831.9950,22,44.81641468682505,82,7,1.1,14600,14470mV,0,0,0,0,0,161,0*34!\r\n']
2011.11.10 13:37:08 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133708,E03121.9440,N5831.9950,22,44.81641468682505,82,7,1.1,14600,14470mV,0,0,0,0,0,161,0*34!

2011.11.10 13:37:08 DEBUG: Raw match found.
2011.11.10 13:37:08 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 22.0, 'azimuth': 82.0, 'longitude': 31.365733333333335, 'odometer': 161.0, 'satellitescount': 7, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133708,E03121.9440,N5831.9950,22,44.81641468682505,82,7,1.1,14600,14470mV,0,0,0,0,0,161,0*34!', 'time': '2011-11-10T13:37:08.000000', 'latitude': 58.53325, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 161.0, 'digital_input2': 0, 'speed': 83.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 83.0, 'uid': '657460032240926_888'}
2011.11.10 13:37:10 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.83268308639526 seconds\\n","1":"Average query length: 0.017716661412665 seconds\\n","2":"Queries per second: 56.444043079422\\n","3":"Longest query length: 0.1886990070343\\n","4":"Longest query: \\nINSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)\\n","Queries":[{"SQL":"connect","Time":0.029712915420532},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0058519840240479},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'bosn2r21j597v6ljp52ilqnts2\')))","Time":0.00098013877868652},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0034818649291992},{"SQL":"select * from obj_info(58372)","Time":0.0013191699981689},{"SQL":"select * from obj_info(58372)","Time":0.00072598457336426},{"SQL":"select * from obj_prop_total(58372)","Time":0.065254926681519},{"SQL":"select obj_is_deleted(58372) as code","Time":0.002147912979126},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0011301040649414},{"SQL":"select obj_is_deleted(104) as code","Time":0.00050210952758789},{"SQL":"select * from obj_info(104)","Time":0.00032496452331543},{"SQL":"select * from f_prop_total(104)","Time":0.023732900619507},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0040130615234375},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026121139526367},{"SQL":"select * from t_options(\'1006667041\')","Time":0.045747995376587},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0015790462493896},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.002263069152832},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00082492828369141},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00075292587280273},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00097107887268066},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027828216552734},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00046896934509277},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0056979656219482},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0029051303863525},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.01554799079895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0030500888824463},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.073745965957642},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0027358531951904},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.051976919174194},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0064570903778076},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0067811012268066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0063328742980957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.010012865066528},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.01702094078064},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.023653984069824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.034726858139038},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.1886990070343},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0028889179229736},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.062941789627075},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089812278747559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.05016303062439},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.023823022842407},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:37:08\') as code","Time":0.04189920425415},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408341\')","Time":0.0010139942169189},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0010261535644531},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00075411796569824},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00074911117553711}]},"timeleft":false}'
2011.11.10 13:37:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:10 DEBUG: Data chunk = b''
2011.11.10 13:37:16 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:16 DEBUG: Recieving...
2011.11.10 13:37:16 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133716,E03815.6570,N5553.8780,137,53.99568034557235,155,3,1.1,14600,14470mV,0,0,0,0,0,139,0*33!\r\n'
2011.11.10 13:37:16 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133716,E03815.6570,N5553.8780,137,53.99568034557235,155,3,1.1,14600,14470mV,0,0,0,0,0,139,0*33!\r\n']
2011.11.10 13:37:16 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133716,E03815.6570,N5553.8780,137,53.99568034557235,155,3,1.1,14600,14470mV,0,0,0,0,0,139,0*33!

2011.11.10 13:37:16 DEBUG: Raw match found.
2011.11.10 13:37:16 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 137.0, 'azimuth': 155.0, 'longitude': 38.26095, 'odometer': 139.0, 'satellitescount': 3, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133716,E03815.6570,N5553.8780,137,53.99568034557235,155,3,1.1,14600,14470mV,0,0,0,0,0,139,0*33!', 'time': '2011-11-10T13:37:16.000000', 'latitude': 55.89796666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 139.0, 'digital_input2': 0, 'speed': 100.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 100.0, 'uid': '457460032240926_888'}
2011.11.10 13:37:17 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19607949256897 seconds\\n","1":"Average query length: 0.0041719040972121 seconds\\n","2":"Queries per second: 239.69870272623\\n","3":"Longest query length: 0.041958093643188\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.027973890304565},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0055699348449707},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'s677jq5bqkfno0otsrbov1h795\')))","Time":0.00088000297546387},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.002622127532959},{"SQL":"select * from obj_info(38910)","Time":0.00076007843017578},{"SQL":"select * from obj_info(38910)","Time":0.00067806243896484},{"SQL":"select * from obj_prop_total(38910)","Time":0.041958093643188},{"SQL":"select obj_is_deleted(38910) as code","Time":0.002126932144165},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0007479190826416},{"SQL":"select obj_is_deleted(104) as code","Time":0.00071501731872559},{"SQL":"select * from obj_info(104)","Time":0.00040292739868164},{"SQL":"select * from f_prop_total(104)","Time":0.016485929489136},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025789737701416},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020477771759033},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036939859390259},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0012390613555908},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0018558502197266},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065088272094727},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006098747253418},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00069808959960938},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024228096008301},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034904479980469},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012660026550293},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0023589134216309},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.01429295539856},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072002410888672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010139942169189},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062990188598633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060510635375977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058913230895996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078797340393066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011398792266846},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069689750671387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066089630126953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061488151550293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010440349578857},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066590309143066},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:37:16\') as code","Time":0.013647079467773},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408342\')","Time":0.00070905685424805},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0004580020904541},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00039291381835938},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00044679641723633}]},"timeleft":false}'
2011.11.10 13:37:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:17 DEBUG: Data chunk = b''
2011.11.10 13:37:20 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:20 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:20 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:20 DEBUG: Recieving...
2011.11.10 13:37:20 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133720,E03748.5210,N5606.9950,179,28.617710583153347,259,4,1.1,14600,14470mV,0,0,0,0,0,88,0*36!\r\n'
2011.11.10 13:37:20 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133720,E03748.5210,N5606.9950,179,28.617710583153347,259,4,1.1,14600,14470mV,0,0,0,0,0,88,0*36!\r\n']
2011.11.10 13:37:20 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133720,E03748.5210,N5606.9950,179,28.617710583153347,259,4,1.1,14600,14470mV,0,0,0,0,0,88,0*36!

2011.11.10 13:37:20 DEBUG: Raw match found.
2011.11.10 13:37:20 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 179.0, 'azimuth': 259.0, 'longitude': 37.808683333333335, 'odometer': 88.0, 'satellitescount': 4, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133720,E03748.5210,N5606.9950,179,28.617710583153347,259,4,1.1,14600,14470mV,0,0,0,0,0,88,0*36!', 'time': '2011-11-10T13:37:20.000000', 'latitude': 56.11658333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 88.0, 'digital_input2': 0, 'speed': 53.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 53.0, 'uid': '557460032240926_888'}
2011.11.10 13:37:21 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.32296919822693 seconds\\n","1":"Average query length: 0.004088217699075 seconds\\n","2":"Queries per second: 244.60536928507\\n","3":"Longest query length: 0.049108982086182\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.024488925933838},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052509307861328},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'3p2daftfefcg68v6tldrdk47g7\')))","Time":0.00093698501586914},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025210380554199},{"SQL":"select * from obj_info(58369)","Time":0.0005800724029541},{"SQL":"select * from obj_info(58369)","Time":0.00030803680419922},{"SQL":"select * from obj_prop_total(58369)","Time":0.049108982086182},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015089511871338},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00086498260498047},{"SQL":"select obj_is_deleted(104) as code","Time":0.00068402290344238},{"SQL":"select * from obj_info(104)","Time":0.00034689903259277},{"SQL":"select * from f_prop_total(104)","Time":0.018751859664917},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026218891143799},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021059513092041},{"SQL":"select * from t_options(\'1006667041\')","Time":0.033998012542725},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.001561164855957},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0030009746551514},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00087499618530273},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067687034606934},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00069785118103027},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002479076385498},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00035905838012695},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016491413116455},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017390251159668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014232158660889},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006859302520752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059008598327637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055789947509766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054788589477539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060510635375977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053000450134277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052404403686523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006248950958252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053691864013672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054812431335449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060486793518066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063300132751465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053787231445312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053715705871582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064492225646973},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:37:20\') as code","Time":0.015798807144165},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408343\')","Time":0.00080490112304688},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044488906860352},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00033092498779297},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041985511779785},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00052189826965332},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408340)","Time":0.00052905082702637},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00032806396484375},{"SQL":"select * from acc_list(58369)","Time":0.00098586082458496},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0028479099273682},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0011379718780518},{"SQL":"select z_has_point(1002846847, 56.116716666667, 37.810066666667, null) as state","Time":0.0038878917694092},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00029087066650391},{"SQL":"select z_has_point(171930, 56.116716666667, 37.810066666667, null) as state","Time":0.0022740364074707},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00033998489379883},{"SQL":"select z_has_point(1387421, 56.116716666667, 37.810066666667, null) as state","Time":0.0038769245147705},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00038385391235352},{"SQL":"select z_has_point(1387486, 56.116716666667, 37.810066666667, null) as state","Time":0.0038158893585205},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00041103363037109},{"SQL":"select z_has_point(1387485, 56.116716666667, 37.810066666667, null) as state","Time":0.0035560131072998},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00036287307739258},{"SQL":"select z_has_point(1387499, 56.116716666667, 37.810066666667, null) as state","Time":0.0040199756622314},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00041890144348145},{"SQL":"select z_has_point(1387483, 56.116716666667, 37.810066666667, null) as state","Time":0.0034139156341553},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00036787986755371},{"SQL":"select z_has_point(1387484, 56.116716666667, 37.810066666667, null) as state","Time":0.0035979747772217},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00046801567077637},{"SQL":"select z_has_point(1387619, 56.116716666667, 37.810066666667, null) as state","Time":0.0040280818939209},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00042009353637695},{"SQL":"select z_has_point(8710, 56.116716666667, 37.810066666667, null) as state","Time":0.0041019916534424},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00040102005004883},{"SQL":"select z_has_point(1002827265, 56.116716666667, 37.810066666667, null) as state","Time":0.0041401386260986},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00056195259094238},{"SQL":"select z_has_point(37627, 56.116716666667, 37.810066666667, null) as state","Time":0.0034110546112061},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00067591667175293},{"SQL":"select * from notif_get_by_object(58369)","Time":0.035738945007324},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:37:02\') as code","Time":0.032657146453857}]},"timeleft":false}'
2011.11.10 13:37:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:21 DEBUG: Data chunk = b''
2011.11.10 13:37:22 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:22 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:22 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:22 DEBUG: Recieving...
2011.11.10 13:37:22 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133722,E03122.2070,N5832.0150,22,45.35637149028078,82,9,1.1,14600,14470mV,0,0,0,0,0,257,0*39!\r\n'
2011.11.10 13:37:22 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133722,E03122.2070,N5832.0150,22,45.35637149028078,82,9,1.1,14600,14470mV,0,0,0,0,0,257,0*39!\r\n']
2011.11.10 13:37:22 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133722,E03122.2070,N5832.0150,22,45.35637149028078,82,9,1.1,14600,14470mV,0,0,0,0,0,257,0*39!

2011.11.10 13:37:22 DEBUG: Raw match found.
2011.11.10 13:37:22 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 22.0, 'azimuth': 82.0, 'longitude': 31.370116666666668, 'odometer': 257.0, 'satellitescount': 9, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133722,E03122.2070,N5832.0150,22,45.35637149028078,82,9,1.1,14600,14470mV,0,0,0,0,0,257,0*39!', 'time': '2011-11-10T13:37:22.000000', 'latitude': 58.53358333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 257.0, 'digital_input2': 0, 'speed': 84.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 84.0, 'uid': '657460032240926_888'}
2011.11.10 13:37:23 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21952819824219 seconds\\n","1":"Average query length: 0.0046708127285572 seconds\\n","2":"Queries per second: 214.09550288455\\n","3":"Longest query length: 0.055843114852905\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.030939102172852},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.006134033203125},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'v2u214456gj8fknsc6o0tucde2\')))","Time":0.00098681449890137},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026369094848633},{"SQL":"select * from obj_info(58372)","Time":0.00057888031005859},{"SQL":"select * from obj_info(58372)","Time":0.00031709671020508},{"SQL":"select * from obj_prop_total(58372)","Time":0.055843114852905},{"SQL":"select obj_is_deleted(58372) as code","Time":0.002331018447876},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00081610679626465},{"SQL":"select obj_is_deleted(104) as code","Time":0.00053811073303223},{"SQL":"select * from obj_info(104)","Time":0.00041079521179199},{"SQL":"select * from f_prop_total(104)","Time":0.016069889068604},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026309490203857},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020730495452881},{"SQL":"select * from t_options(\'1006667041\')","Time":0.040863037109375},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0017631053924561},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0027060508728027},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00097393989562988},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00057792663574219},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00097918510437012},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0039999485015869},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034499168395996},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012571811676025},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018661022186279},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013339996337891},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089693069458008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010190010070801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008091926574707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067496299743652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005950927734375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056219100952148},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012381076812744},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062894821166992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061392784118652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058913230895996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075507164001465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047707557678223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046086311340332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057387351989746},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:37:22\') as code","Time":0.01445198059082},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408344\')","Time":0.00067687034606934},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0006709098815918},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00048685073852539},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00057482719421387}]},"timeleft":false}'
2011.11.10 13:37:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:23 DEBUG: Data chunk = b''
2011.11.10 13:37:30 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:30 DEBUG: Recieving...
2011.11.10 13:37:30 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133730,E03748.3850,N5606.9870,181,17.278617710583152,264,4,1.1,14600,14470mV,0,0,0,0,0,141,0*01!\r\n'
2011.11.10 13:37:30 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133730,E03748.3850,N5606.9870,181,17.278617710583152,264,4,1.1,14600,14470mV,0,0,0,0,0,141,0*01!\r\n']
2011.11.10 13:37:30 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133730,E03748.3850,N5606.9870,181,17.278617710583152,264,4,1.1,14600,14470mV,0,0,0,0,0,141,0*01!

2011.11.10 13:37:30 DEBUG: Raw match found.
2011.11.10 13:37:30 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 181.0, 'azimuth': 264.0, 'longitude': 37.806416666666664, 'odometer': 141.0, 'satellitescount': 4, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133730,E03748.3850,N5606.9870,181,17.278617710583152,264,4,1.1,14600,14470mV,0,0,0,0,0,141,0*01!', 'time': '2011-11-10T13:37:30.000000', 'latitude': 56.11645, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 141.0, 'digital_input2': 0, 'speed': 32.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 32.0, 'uid': '557460032240926_888'}
2011.11.10 13:37:31 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.2956235408783 seconds\\n","1":"Average query length: 0.0037420701376999 seconds\\n","2":"Queries per second: 267.23176295532\\n","3":"Longest query length: 0.054547786712646\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.02916693687439},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0051779747009277},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'j6pftvnhtor9mqsbomgm7bls27\')))","Time":0.00067400932312012},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0038490295410156},{"SQL":"select * from obj_info(58369)","Time":0.00075197219848633},{"SQL":"select * from obj_info(58369)","Time":0.00034785270690918},{"SQL":"select * from obj_prop_total(58369)","Time":0.054547786712646},{"SQL":"select obj_is_deleted(58369) as code","Time":0.002223014831543},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00099802017211914},{"SQL":"select obj_is_deleted(104) as code","Time":0.00065493583679199},{"SQL":"select * from obj_info(104)","Time":0.0003509521484375},{"SQL":"select * from f_prop_total(104)","Time":0.019675970077515},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038049221038818},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026469230651855},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032692909240723},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011811256408691},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012550354003906},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00099301338195801},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00087690353393555},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0010569095611572},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026171207427979},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034999847412109},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012021064758301},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0023128986358643},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0069289207458496},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066900253295898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074505805969238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075387954711914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070810317993164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070786476135254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072598457336426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081205368041992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085210800170898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070714950561523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075793266296387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071310997009277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081515312194824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072193145751953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063610076904297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069999694824219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059008598327637},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:37:30\') as code","Time":0.01509690284729},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408345\')","Time":0.00068902969360352},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00066804885864258},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0004580020904541},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00052285194396973},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00074601173400879},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408343)","Time":0.00072884559631348},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00039792060852051},{"SQL":"select * from acc_list(58369)","Time":0.00081706047058105},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019168853759766},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00094199180603027},{"SQL":"select z_has_point(1002846847, 56.116583333333, 37.808683333333, null) as state","Time":0.0044529438018799},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00026702880859375},{"SQL":"select z_has_point(171930, 56.116583333333, 37.808683333333, null) as state","Time":0.0023620128631592},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00029897689819336},{"SQL":"select z_has_point(1387421, 56.116583333333, 37.808683333333, null) as state","Time":0.0021820068359375},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00027179718017578},{"SQL":"select z_has_point(1387486, 56.116583333333, 37.808683333333, null) as state","Time":0.0022218227386475},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00036311149597168},{"SQL":"select z_has_point(1387485, 56.116583333333, 37.808683333333, null) as state","Time":0.0032668113708496},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00032901763916016},{"SQL":"select z_has_point(1387499, 56.116583333333, 37.808683333333, null) as state","Time":0.0024540424346924},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.000244140625},{"SQL":"select z_has_point(1387483, 56.116583333333, 37.808683333333, null) as state","Time":0.0022380352020264},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00035476684570312},{"SQL":"select z_has_point(1387484, 56.116583333333, 37.808683333333, null) as state","Time":0.0033950805664062},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00039315223693848},{"SQL":"select z_has_point(1387619, 56.116583333333, 37.808683333333, null) as state","Time":0.0034911632537842},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00033402442932129},{"SQL":"select z_has_point(8710, 56.116583333333, 37.808683333333, null) as state","Time":0.0033581256866455},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00032901763916016},{"SQL":"select z_has_point(1002827265, 56.116583333333, 37.808683333333, null) as state","Time":0.0035331249237061},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00032997131347656},{"SQL":"select z_has_point(37627, 56.116583333333, 37.808683333333, null) as state","Time":0.0035669803619385},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00094509124755859},{"SQL":"select * from notif_get_by_object(58369)","Time":0.027446985244751},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:37:20\') as code","Time":0.015651941299438}]},"timeleft":false}'
2011.11.10 13:37:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:31 DEBUG: Data chunk = b''
2011.11.10 13:37:33 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:33 DEBUG: Recieving...
2011.11.10 13:37:33 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133733,E03122.4110,N5832.0300,22,48.59611231101512,82,8,1.1,14600,14470mV,0,0,0,0,0,199,0*33!\r\n'
2011.11.10 13:37:33 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133733,E03122.4110,N5832.0300,22,48.59611231101512,82,8,1.1,14600,14470mV,0,0,0,0,0,199,0*33!\r\n']
2011.11.10 13:37:33 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133733,E03122.4110,N5832.0300,22,48.59611231101512,82,8,1.1,14600,14470mV,0,0,0,0,0,199,0*33!

2011.11.10 13:37:33 DEBUG: Raw match found.
2011.11.10 13:37:33 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 22.0, 'azimuth': 82.0, 'longitude': 31.373516666666667, 'odometer': 199.0, 'satellitescount': 8, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133733,E03122.4110,N5832.0300,22,48.59611231101512,82,8,1.1,14600,14470mV,0,0,0,0,0,199,0*33!', 'time': '2011-11-10T13:37:33.000000', 'latitude': 58.533833333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 199.0, 'digital_input2': 0, 'speed': 90.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 90.0, 'uid': '657460032240926_888'}
2011.11.10 13:37:34 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:34 DEBUG: Recieving...
2011.11.10 13:37:34 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133734,E03815.7620,N5553.7530,135,55.61555075593952,155,8,1.1,14600,14470mV,0,0,0,0,0,256,0*39!\r\n'
2011.11.10 13:37:34 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133734,E03815.7620,N5553.7530,135,55.61555075593952,155,8,1.1,14600,14470mV,0,0,0,0,0,256,0*39!\r\n']
2011.11.10 13:37:34 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133734,E03815.7620,N5553.7530,135,55.61555075593952,155,8,1.1,14600,14470mV,0,0,0,0,0,256,0*39!

2011.11.10 13:37:34 DEBUG: Raw match found.
2011.11.10 13:37:34 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 135.0, 'azimuth': 155.0, 'longitude': 38.2627, 'odometer': 256.0, 'satellitescount': 8, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133734,E03815.7620,N5553.7530,135,55.61555075593952,155,8,1.1,14600,14470mV,0,0,0,0,0,256,0*39!', 'time': '2011-11-10T13:37:34.000000', 'latitude': 55.89588333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 256.0, 'digital_input2': 0, 'speed': 103.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 103.0, 'uid': '457460032240926_888'}
2011.11.10 13:37:34 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.20003867149353 seconds\\n","1":"Average query length: 0.0042561419466709 seconds\\n","2":"Queries per second: 234.95456977937\\n","3":"Longest query length: 0.054358005523682\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.030476093292236},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0058059692382812},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'g8iu3vbfupd1j8il4f6c1n94r5\')))","Time":0.00068497657775879},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0030210018157959},{"SQL":"select * from obj_info(58372)","Time":0.00078010559082031},{"SQL":"select * from obj_info(58372)","Time":0.00037193298339844},{"SQL":"select * from obj_prop_total(58372)","Time":0.054358005523682},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0021228790283203},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00099301338195801},{"SQL":"select obj_is_deleted(104) as code","Time":0.00066900253295898},{"SQL":"select * from obj_info(104)","Time":0.00031685829162598},{"SQL":"select * from f_prop_total(104)","Time":0.015737056732178},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026040077209473},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020830631256104},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034708976745605},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0017461776733398},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0016961097717285},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00092005729675293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066804885864258},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00071096420288086},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0030040740966797},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00046110153198242},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015459060668945},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017638206481934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001223087310791},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056195259094238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063800811767578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062012672424316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001291036605835},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081419944763184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063180923461914},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064301490783691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057816505432129},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058984756469727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060820579528809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065994262695312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060510635375977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060582160949707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050902366638184},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:37:33\') as code","Time":0.018453121185303},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408346\')","Time":0.00074195861816406},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00047993659973145},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0003359317779541},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00039505958557129}]},"timeleft":false}'
2011.11.10 13:37:34 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:34 DEBUG: Data chunk = b''
2011.11.10 13:37:35 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.20103740692139 seconds\\n","1":"Average query length: 0.0042773916366252 seconds\\n","2":"Queries per second: 233.78733699236\\n","3":"Longest query length: 0.050417184829712\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.029107093811035},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0038561820983887},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'u92m0elg9lk4revnqdakejmqt7\')))","Time":0.00079512596130371},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025229454040527},{"SQL":"select * from obj_info(38910)","Time":0.00055599212646484},{"SQL":"select * from obj_info(38910)","Time":0.00028800964355469},{"SQL":"select * from obj_prop_total(38910)","Time":0.047389984130859},{"SQL":"select obj_is_deleted(38910) as code","Time":0.001460075378418},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0011041164398193},{"SQL":"select obj_is_deleted(104) as code","Time":0.00048208236694336},{"SQL":"select * from obj_info(104)","Time":0.0002892017364502},{"SQL":"select * from f_prop_total(104)","Time":0.015933036804199},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0031630992889404},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0031759738922119},{"SQL":"select * from t_options(\'1006667041\')","Time":0.050417184829712},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0017359256744385},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0025620460510254},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067996978759766},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00057601928710938},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006711483001709},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026988983154297},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00035500526428223},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014569759368896},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018258094787598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010321140289307},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004889965057373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046896934509277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079011917114258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058794021606445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057506561279297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000579833984375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058317184448242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058484077453613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060820579528809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059294700622559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059890747070312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059318542480469},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:37:34\') as code","Time":0.014335870742798},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408347\')","Time":0.00078010559082031},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00076198577880859},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00049710273742676},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00048708915710449}]},"timeleft":false}'
2011.11.10 13:37:35 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:35 DEBUG: Data chunk = b''
2011.11.10 13:37:43 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:43 DEBUG: Recieving...
2011.11.10 13:37:43 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133743,E03748.2900,N5607.0780,186,29.15766738660907,330,11,1.1,14600,14470mV,0,0,0,0,0,196,0*0E!\r\n'
2011.11.10 13:37:43 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133743,E03748.2900,N5607.0780,186,29.15766738660907,330,11,1.1,14600,14470mV,0,0,0,0,0,196,0*0E!\r\n']
2011.11.10 13:37:43 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133743,E03748.2900,N5607.0780,186,29.15766738660907,330,11,1.1,14600,14470mV,0,0,0,0,0,196,0*0E!

2011.11.10 13:37:43 DEBUG: Raw match found.
2011.11.10 13:37:43 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 186.0, 'azimuth': 330.0, 'longitude': 37.804833333333335, 'odometer': 196.0, 'satellitescount': 11, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133743,E03748.2900,N5607.0780,186,29.15766738660907,330,11,1.1,14600,14470mV,0,0,0,0,0,196,0*0E!', 'time': '2011-11-10T13:37:43.000000', 'latitude': 56.11796666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 196.0, 'digital_input2': 0, 'speed': 54.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 54.0, 'uid': '557460032240926_888'}
2011.11.10 13:37:46 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.39579629898071 seconds\\n","1":"Average query length: 0.0050100797339331 seconds\\n","2":"Queries per second: 199.59762181568\\n","3":"Longest query length: 0.067888021469116\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.040592193603516},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0063309669494629},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1jf9vo5a8aeogjti4sepnkpgj4\')))","Time":0.0014610290527344},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0040278434753418},{"SQL":"select * from obj_info(58369)","Time":0.00096917152404785},{"SQL":"select * from obj_info(58369)","Time":0.00049090385437012},{"SQL":"select * from obj_prop_total(58369)","Time":0.067888021469116},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0017969608306885},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00078082084655762},{"SQL":"select obj_is_deleted(104) as code","Time":0.00050902366638184},{"SQL":"select * from obj_info(104)","Time":0.00044798851013184},{"SQL":"select * from f_prop_total(104)","Time":0.019248962402344},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0040168762207031},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0033438205718994},{"SQL":"select * from t_options(\'1006667041\')","Time":0.052433967590332},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0020699501037598},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.002547025680542},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011122226715088},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010049343109131},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00096893310546875},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0039639472961426},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00063014030456543},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001500129699707},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018858909606934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0077030658721924},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071811676025391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007479190826416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069999694824219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057291984558105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054717063903809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068306922912598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069618225097656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068807601928711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067901611328125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007319450378418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090479850769043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093984603881836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007929801940918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010321140289307},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073409080505371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057387351989746},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:37:43\') as code","Time":0.023563861846924},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408348\')","Time":0.00086498260498047},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00069999694824219},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00055098533630371},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00049281120300293},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00087213516235352},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408345)","Time":0.00061297416687012},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0003819465637207},{"SQL":"select * from acc_list(58369)","Time":0.0010581016540527},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0022361278533936},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0016419887542725},{"SQL":"select z_has_point(1002846847, 56.11645, 37.806416666667, null) as state","Time":0.005795955657959},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.0005040168762207},{"SQL":"select z_has_point(171930, 56.11645, 37.806416666667, null) as state","Time":0.0023770332336426},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00030708312988281},{"SQL":"select z_has_point(1387421, 56.11645, 37.806416666667, null) as state","Time":0.0025298595428467},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00044608116149902},{"SQL":"select z_has_point(1387486, 56.11645, 37.806416666667, null) as state","Time":0.0041019916534424},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00045204162597656},{"SQL":"select z_has_point(1387485, 56.11645, 37.806416666667, null) as state","Time":0.0038719177246094},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0005650520324707},{"SQL":"select z_has_point(1387499, 56.11645, 37.806416666667, null) as state","Time":0.0037918090820312},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00043916702270508},{"SQL":"select z_has_point(1387483, 56.11645, 37.806416666667, null) as state","Time":0.0036721229553223},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00044512748718262},{"SQL":"select z_has_point(1387484, 56.11645, 37.806416666667, null) as state","Time":0.00364089012146},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00052809715270996},{"SQL":"select z_has_point(1387619, 56.11645, 37.806416666667, null) as state","Time":0.0038590431213379},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00040698051452637},{"SQL":"select z_has_point(8710, 56.11645, 37.806416666667, null) as state","Time":0.0039219856262207},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00050902366638184},{"SQL":"select z_has_point(1002827265, 56.11645, 37.806416666667, null) as state","Time":0.0040221214294434},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00041103363037109},{"SQL":"select z_has_point(37627, 56.11645, 37.806416666667, null) as state","Time":0.0041260719299316},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0010559558868408},{"SQL":"select * from notif_get_by_object(58369)","Time":0.045350074768066},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:37:30\') as code","Time":0.02567195892334}]},"timeleft":false}'
2011.11.10 13:37:46 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:46 DEBUG: Data chunk = b''
2011.11.10 13:37:48 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:48 DEBUG: Recieving...
2011.11.10 13:37:48 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133748,E03815.8110,N5553.6870,134,51.83585313174946,158,7,1.1,14600,14470mV,0,0,0,0,0,133,0*3C!\r\n'
2011.11.10 13:37:48 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133748,E03815.8110,N5553.6870,134,51.83585313174946,158,7,1.1,14600,14470mV,0,0,0,0,0,133,0*3C!\r\n']
2011.11.10 13:37:48 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133748,E03815.8110,N5553.6870,134,51.83585313174946,158,7,1.1,14600,14470mV,0,0,0,0,0,133,0*3C!

2011.11.10 13:37:48 DEBUG: Raw match found.
2011.11.10 13:37:48 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 134.0, 'azimuth': 158.0, 'longitude': 38.26351666666667, 'odometer': 133.0, 'satellitescount': 7, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133748,E03815.8110,N5553.6870,134,51.83585313174946,158,7,1.1,14600,14470mV,0,0,0,0,0,133,0*3C!', 'time': '2011-11-10T13:37:48.000000', 'latitude': 55.894783333333336, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 133.0, 'digital_input2': 0, 'speed': 96.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 96.0, 'uid': '457460032240926_888'}
2011.11.10 13:37:48 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:48 DEBUG: Recieving...
2011.11.10 13:37:48 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133748,E03122.5740,N5832.0430,21,51.83585313174946,82,5,1.1,14600,14470mV,0,0,0,0,0,160,0*3E!\r\n'
2011.11.10 13:37:48 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133748,E03122.5740,N5832.0430,21,51.83585313174946,82,5,1.1,14600,14470mV,0,0,0,0,0,160,0*3E!\r\n']
2011.11.10 13:37:48 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133748,E03122.5740,N5832.0430,21,51.83585313174946,82,5,1.1,14600,14470mV,0,0,0,0,0,160,0*3E!

2011.11.10 13:37:48 DEBUG: Raw match found.
2011.11.10 13:37:48 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 21.0, 'azimuth': 82.0, 'longitude': 31.37623333333333, 'odometer': 160.0, 'satellitescount': 5, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133748,E03122.5740,N5832.0430,21,51.83585313174946,82,5,1.1,14600,14470mV,0,0,0,0,0,160,0*3E!', 'time': '2011-11-10T13:37:48.000000', 'latitude': 58.53405, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 160.0, 'digital_input2': 0, 'speed': 96.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 96.0, 'uid': '657460032240926_888'}
2011.11.10 13:37:51 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 1.2464616298676 seconds\\n","1":"Average query length: 0.026520460209948 seconds\\n","2":"Queries per second: 37.706736311646\\n","3":"Longest query length: 0.18848180770874\\n","4":"Longest query: \\nINSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)\\n","Queries":[{"SQL":"connect","Time":0.036561965942383},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0080540180206299},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'vn1mdlh218q1smobr91b7sbnm2\')))","Time":0.0012400150299072},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.029752969741821},{"SQL":"select * from obj_info(58372)","Time":0.00084900856018066},{"SQL":"select * from obj_info(58372)","Time":0.00042891502380371},{"SQL":"select * from obj_prop_total(58372)","Time":0.095485925674438},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0022170543670654},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0010688304901123},{"SQL":"select obj_is_deleted(104) as code","Time":0.00096011161804199},{"SQL":"select * from obj_info(104)","Time":0.00045895576477051},{"SQL":"select * from f_prop_total(104)","Time":0.019070148468018},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0035688877105713},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0031490325927734},{"SQL":"select * from t_options(\'1006667041\')","Time":0.048575162887573},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.041550874710083},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.002140998840332},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.034203052520752},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00073504447937012},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00072002410888672},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024819374084473},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00046300888061523},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.062756061553955},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018470287322998},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.18848180770874},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.018975973129272},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.06299901008606},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.069466114044189},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.08361291885376},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.052167892456055},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0025219917297363},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.075159072875977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0070600509643555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.064720153808594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0064809322357178},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.074817895889282},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014321804046631},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.041256904602051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.015938997268677},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0089881420135498},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001356840133667},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090384483337402},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:37:48\') as code","Time":0.056045055389404},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408350\')","Time":0.0005950927734375},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00058197975158691},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0011181831359863},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00055193901062012}]},"timeleft":false}'
2011.11.10 13:37:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:51 DEBUG: Data chunk = b''
2011.11.10 13:37:51 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 1.397940158844 seconds\\n","1":"Average query length: 0.029743407634979 seconds\\n","2":"Queries per second: 33.620895503042\\n","3":"Longest query length: 0.20419001579285\\n","4":"Longest query: \\nINSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)\\n","Queries":[{"SQL":"connect","Time":0.031824827194214},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0059909820556641},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'4h9qou4hi2kmo3dhbsfie7e6k1\')))","Time":0.0010838508605957},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0085439682006836},{"SQL":"select * from obj_info(38910)","Time":0.0053679943084717},{"SQL":"select * from obj_info(38910)","Time":0.010545969009399},{"SQL":"select * from obj_prop_total(38910)","Time":0.0780029296875},{"SQL":"select obj_is_deleted(38910) as code","Time":0.021872043609619},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0011260509490967},{"SQL":"select obj_is_deleted(104) as code","Time":0.00076699256896973},{"SQL":"select * from obj_info(104)","Time":0.00048589706420898},{"SQL":"select * from f_prop_total(104)","Time":0.028105020523071},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0041759014129639},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026078224182129},{"SQL":"select * from t_options(\'1006667041\')","Time":0.09818696975708},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.050506830215454},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0023338794708252},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.035727977752686},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0008540153503418},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00083303451538086},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027260780334473},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040006637573242},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.046079158782959},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017900466918945},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.20419001579285},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.036267995834351},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.07736611366272},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.076984882354736},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.077739953994751},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.012785911560059},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.017925024032593},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.032253980636597},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.055022954940796},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.079178094863892},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.067264080047607},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0067751407623291},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.084434032440186},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0053539276123047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.057013034820557},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0081908702850342},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0034868717193604},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.037061929702759},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:37:48\') as code","Time":0.014400005340576},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408349\')","Time":0.00058698654174805},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0026581287384033},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00052499771118164},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00053691864013672}]},"timeleft":false}'
2011.11.10 13:37:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:37:51 DEBUG: Data chunk = b''
2011.11.10 13:37:59 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:37:59 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:37:59 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:37:59 DEBUG: Recieving...
2011.11.10 13:37:59 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133759,E03815.8460,N5553.6230,137,48.59611231101512,163,4,1.1,14600,14470mV,0,0,0,0,0,125,0*30!\r\n'
2011.11.10 13:37:59 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133759,E03815.8460,N5553.6230,137,48.59611231101512,163,4,1.1,14600,14470mV,0,0,0,0,0,125,0*30!\r\n']
2011.11.10 13:37:59 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133759,E03815.8460,N5553.6230,137,48.59611231101512,163,4,1.1,14600,14470mV,0,0,0,0,0,125,0*30!

2011.11.10 13:37:59 DEBUG: Raw match found.
2011.11.10 13:37:59 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 137.0, 'azimuth': 163.0, 'longitude': 38.2641, 'odometer': 125.0, 'satellitescount': 4, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133759,E03815.8460,N5553.6230,137,48.59611231101512,163,4,1.1,14600,14470mV,0,0,0,0,0,125,0*30!', 'time': '2011-11-10T13:37:59.000000', 'latitude': 55.89371666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 125.0, 'digital_input2': 0, 'speed': 90.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 90.0, 'uid': '457460032240926_888'}
2011.11.10 13:38:00 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:00 DEBUG: Recieving...
2011.11.10 13:38:00 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133800,E03122.8220,N5832.0610,21,52.37580993520518,82,6,1.1,14600,14470mV,0,0,0,0,0,242,0*3A!\r\n'
2011.11.10 13:38:00 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133800,E03122.8220,N5832.0610,21,52.37580993520518,82,6,1.1,14600,14470mV,0,0,0,0,0,242,0*3A!\r\n']
2011.11.10 13:38:00 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133800,E03122.8220,N5832.0610,21,52.37580993520518,82,6,1.1,14600,14470mV,0,0,0,0,0,242,0*3A!

2011.11.10 13:38:00 DEBUG: Raw match found.
2011.11.10 13:38:00 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 21.0, 'azimuth': 82.0, 'longitude': 31.380366666666667, 'odometer': 242.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133800,E03122.8220,N5832.0610,21,52.37580993520518,82,6,1.1,14600,14470mV,0,0,0,0,0,242,0*3A!', 'time': '2011-11-10T13:38:00.000000', 'latitude': 58.53435, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 242.0, 'digital_input2': 0, 'speed': 97.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 97.0, 'uid': '657460032240926_888'}
2011.11.10 13:38:00 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.20369219779968 seconds\\n","1":"Average query length: 0.0043338765489294 seconds\\n","2":"Queries per second: 230.74030575399\\n","3":"Longest query length: 0.047391891479492\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.027554035186768},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.00478196144104},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'k89cic8r0peflo32r1q6e68q26\')))","Time":0.00088000297546387},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0036079883575439},{"SQL":"select * from obj_info(38910)","Time":0.00076913833618164},{"SQL":"select * from obj_info(38910)","Time":0.00037312507629395},{"SQL":"select * from obj_prop_total(38910)","Time":0.047391891479492},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014650821685791},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00078582763671875},{"SQL":"select obj_is_deleted(104) as code","Time":0.00069093704223633},{"SQL":"select * from obj_info(104)","Time":0.00035500526428223},{"SQL":"select * from f_prop_total(104)","Time":0.017970085144043},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0027639865875244},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020630359649658},{"SQL":"select * from t_options(\'1006667041\')","Time":0.041414976119995},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011670589447021},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0017688274383545},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0007479190826416},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00056099891662598},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00069808959960938},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023899078369141},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00044608116149902},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012209415435791},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018019676208496},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014175176620483},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062894821166992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056791305541992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057291984558105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009150505065918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054192543029785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057506561279297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056886672973633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005638599395752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064992904663086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056290626525879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016648769378662},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052905082702637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055885314941406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051307678222656},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:37:59\') as code","Time":0.012725830078125},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408351\')","Time":0.00057101249694824},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0005800724029541},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00046801567077637},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00042200088500977}]},"timeleft":false}'
2011.11.10 13:38:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:00 DEBUG: Data chunk = b''
2011.11.10 13:38:01 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.33355689048767 seconds\\n","1":"Average query length: 0.007096955116759 seconds\\n","2":"Queries per second: 140.90549870304\\n","3":"Longest query length: 0.048815965652466\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.024610042572021},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0038840770721436},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'2deol8p4s7qk82c0rgjek1ikm4\')))","Time":0.00092601776123047},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025260448455811},{"SQL":"select * from obj_info(58372)","Time":0.00057506561279297},{"SQL":"select * from obj_info(58372)","Time":0.00029611587524414},{"SQL":"select * from obj_prop_total(58372)","Time":0.048815965652466},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014810562133789},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0011889934539795},{"SQL":"select obj_is_deleted(104) as code","Time":0.00074315071105957},{"SQL":"select * from obj_info(104)","Time":0.00037384033203125},{"SQL":"select * from f_prop_total(104)","Time":0.015584945678711},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0027270317077637},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0027360916137695},{"SQL":"select * from t_options(\'1006667041\')","Time":0.04053807258606},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012469291687012},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.001399040222168},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066590309143066},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00054597854614258},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00061583518981934},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024349689483643},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033092498779297},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011880397796631},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017979145050049},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001183032989502},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057291984558105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054717063903809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071907043457031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055384635925293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054597854614258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056290626525879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054407119750977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081801414489746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.040096044540405},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086593627929688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.022001981735229},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013741016387939},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0097019672393799},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.026118040084839},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.02816104888916},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:38:00\') as code","Time":0.026563882827759},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408352\')","Time":0.00056600570678711},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044393539428711},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0004119873046875},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00045394897460938}]},"timeleft":false}'
2011.11.10 13:38:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:01 DEBUG: Data chunk = b''
2011.11.10 13:38:02 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:02 DEBUG: Recieving...
2011.11.10 13:38:02 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133802,E03748.0860,N5607.2720,190,38.87688984881209,330,6,1.1,14600,14470mV,0,0,0,0,0,418,0*3C!\r\n'
2011.11.10 13:38:02 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133802,E03748.0860,N5607.2720,190,38.87688984881209,330,6,1.1,14600,14470mV,0,0,0,0,0,418,0*3C!\r\n']
2011.11.10 13:38:02 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133802,E03748.0860,N5607.2720,190,38.87688984881209,330,6,1.1,14600,14470mV,0,0,0,0,0,418,0*3C!

2011.11.10 13:38:02 DEBUG: Raw match found.
2011.11.10 13:38:02 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 190.0, 'azimuth': 330.0, 'longitude': 37.801433333333335, 'odometer': 418.0, 'satellitescount': 6, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133802,E03748.0860,N5607.2720,190,38.87688984881209,330,6,1.1,14600,14470mV,0,0,0,0,0,418,0*3C!', 'time': '2011-11-10T13:38:02.000000', 'latitude': 56.1212, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 418.0, 'digital_input2': 0, 'speed': 72.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 72.0, 'uid': '557460032240926_888'}
2011.11.10 13:38:03 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.30557084083557 seconds\\n","1":"Average query length: 0.0038679853270325 seconds\\n","2":"Queries per second: 258.53252157168\\n","3":"Longest query length: 0.054256916046143\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.028159856796265},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.005141019821167},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'miag8llsiualk76pl8n1k2kpe4\')))","Time":0.00094890594482422},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026049613952637},{"SQL":"select * from obj_info(58369)","Time":0.00062203407287598},{"SQL":"select * from obj_info(58369)","Time":0.00031113624572754},{"SQL":"select * from obj_prop_total(58369)","Time":0.054256916046143},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0017690658569336},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00075507164001465},{"SQL":"select obj_is_deleted(104) as code","Time":0.00048208236694336},{"SQL":"select * from obj_info(104)","Time":0.00031590461730957},{"SQL":"select * from f_prop_total(104)","Time":0.016216039657593},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037860870361328},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021159648895264},{"SQL":"select * from t_options(\'1006667041\')","Time":0.040751934051514},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.001230001449585},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012331008911133},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00073099136352539},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063085556030273},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006558895111084},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027849674224854},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00043106079101562},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001345157623291},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018141269683838},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012049674987793},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094294548034668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045108795166016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043797492980957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012698173522949},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075602531433105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006110668182373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057482719421387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008089542388916},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064301490783691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011720657348633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057387351989746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056600570678711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056600570678711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058889389038086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053787231445312},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:38:02\') as code","Time":0.017982006072998},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408353\')","Time":0.00066590309143066},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00052309036254883},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00043177604675293},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00047516822814941},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00057101249694824},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408348)","Time":0.00046014785766602},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00035500526428223},{"SQL":"select * from acc_list(58369)","Time":0.00081205368041992},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019841194152832},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.001248836517334},{"SQL":"select z_has_point(1002846847, 56.117966666667, 37.804833333333, null) as state","Time":0.0033161640167236},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00039887428283691},{"SQL":"select z_has_point(171930, 56.117966666667, 37.804833333333, null) as state","Time":0.003525972366333},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00037908554077148},{"SQL":"select z_has_point(1387421, 56.117966666667, 37.804833333333, null) as state","Time":0.0034029483795166},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00054502487182617},{"SQL":"select z_has_point(1387486, 56.117966666667, 37.804833333333, null) as state","Time":0.0026419162750244},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00046515464782715},{"SQL":"select z_has_point(1387485, 56.117966666667, 37.804833333333, null) as state","Time":0.003187894821167},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00035500526428223},{"SQL":"select z_has_point(1387499, 56.117966666667, 37.804833333333, null) as state","Time":0.0032320022583008},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00033807754516602},{"SQL":"select z_has_point(1387483, 56.117966666667, 37.804833333333, null) as state","Time":0.0042111873626709},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00036406517028809},{"SQL":"select z_has_point(1387484, 56.117966666667, 37.804833333333, null) as state","Time":0.0034990310668945},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00040102005004883},{"SQL":"select z_has_point(1387619, 56.117966666667, 37.804833333333, null) as state","Time":0.003587007522583},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00033879280090332},{"SQL":"select z_has_point(8710, 56.117966666667, 37.804833333333, null) as state","Time":0.003715991973877},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.0003819465637207},{"SQL":"select z_has_point(1002827265, 56.117966666667, 37.804833333333, null) as state","Time":0.0034890174865723},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00036811828613281},{"SQL":"select z_has_point(37627, 56.117966666667, 37.804833333333, null) as state","Time":0.0028138160705566},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0009620189666748},{"SQL":"select * from notif_get_by_object(58369)","Time":0.031373977661133},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:37:43\') as code","Time":0.020837068557739}]},"timeleft":false}'
2011.11.10 13:38:03 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:03 DEBUG: Data chunk = b''
2011.11.10 13:38:16 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:16 DEBUG: Recieving...
2011.11.10 13:38:16 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133816,E03815.8780,N5553.5470,139,46.97624190064795,167,4,1.1,14600,14470mV,0,0,0,0,0,145,0*39!\r\n'
2011.11.10 13:38:16 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133816,E03815.8780,N5553.5470,139,46.97624190064795,167,4,1.1,14600,14470mV,0,0,0,0,0,145,0*39!\r\n']
2011.11.10 13:38:16 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133816,E03815.8780,N5553.5470,139,46.97624190064795,167,4,1.1,14600,14470mV,0,0,0,0,0,145,0*39!

2011.11.10 13:38:16 DEBUG: Raw match found.
2011.11.10 13:38:16 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 139.0, 'azimuth': 167.0, 'longitude': 38.264633333333336, 'odometer': 145.0, 'satellitescount': 4, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133816,E03815.8780,N5553.5470,139,46.97624190064795,167,4,1.1,14600,14470mV,0,0,0,0,0,145,0*39!', 'time': '2011-11-10T13:38:16.000000', 'latitude': 55.89245, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 145.0, 'digital_input2': 0, 'speed': 87.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 87.0, 'uid': '457460032240926_888'}
2011.11.10 13:38:17 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.17815637588501 seconds\\n","1":"Average query length: 0.0037905611890428 seconds\\n","2":"Queries per second: 263.81317966603\\n","3":"Longest query length: 0.044081926345825\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.027760982513428},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052859783172607},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'46vlqm3i0aua3pj952cvhm8n53\')))","Time":0.0010550022125244},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0033450126647949},{"SQL":"select * from obj_info(38910)","Time":0.00077199935913086},{"SQL":"select * from obj_info(38910)","Time":0.00035905838012695},{"SQL":"select * from obj_prop_total(38910)","Time":0.044081926345825},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015349388122559},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00076413154602051},{"SQL":"select obj_is_deleted(104) as code","Time":0.00066804885864258},{"SQL":"select * from obj_info(104)","Time":0.00036501884460449},{"SQL":"select * from f_prop_total(104)","Time":0.016088008880615},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025260448455811},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0030407905578613},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034029960632324},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0012269020080566},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0019540786743164},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065803527832031},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00060200691223145},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00076103210449219},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024819374084473},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00046014785766602},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012829303741455},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017590522766113},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010249614715576},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004580020904541},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050711631774902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047492980957031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046205520629883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050902366638184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040602684020996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039410591125488},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046896934509277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048613548278809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043606758117676},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094699859619141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007469654083252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054812431335449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063991546630859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054001808166504},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:38:16\') as code","Time":0.012552976608276},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408354\')","Time":0.00081300735473633},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00077509880065918},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00052404403686523},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00048589706420898}]},"timeleft":false}'
2011.11.10 13:38:17 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:17 DEBUG: Data chunk = b''
2011.11.10 13:38:18 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:18 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:18 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:18 DEBUG: Recieving...
2011.11.10 13:38:18 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133818,E03123.0310,N5832.0770,21,49.676025917926566,81,1,1.1,14600,14470mV,0,0,0,0,0,205,0*04!\r\n'
2011.11.10 13:38:18 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133818,E03123.0310,N5832.0770,21,49.676025917926566,81,1,1.1,14600,14470mV,0,0,0,0,0,205,0*04!\r\n']
2011.11.10 13:38:18 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133818,E03123.0310,N5832.0770,21,49.676025917926566,81,1,1.1,14600,14470mV,0,0,0,0,0,205,0*04!

2011.11.10 13:38:18 DEBUG: Raw match found.
2011.11.10 13:38:18 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 21.0, 'azimuth': 81.0, 'longitude': 31.38385, 'odometer': 205.0, 'satellitescount': 1, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133818,E03123.0310,N5832.0770,21,49.676025917926566,81,1,1.1,14600,14470mV,0,0,0,0,0,205,0*04!', 'time': '2011-11-10T13:38:18.000000', 'latitude': 58.534616666666665, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 205.0, 'digital_input2': 0, 'speed': 92.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 92.0, 'uid': '657460032240926_888'}
2011.11.10 13:38:19 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:19 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:19 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:19 DEBUG: Recieving...
2011.11.10 13:38:19 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133819,E03747.8840,N5607.4640,184,46.97624190064795,330,9,1.1,14600,14470mV,0,0,0,0,0,413,0*33!\r\n'
2011.11.10 13:38:19 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133819,E03747.8840,N5607.4640,184,46.97624190064795,330,9,1.1,14600,14470mV,0,0,0,0,0,413,0*33!\r\n']
2011.11.10 13:38:19 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133819,E03747.8840,N5607.4640,184,46.97624190064795,330,9,1.1,14600,14470mV,0,0,0,0,0,413,0*33!

2011.11.10 13:38:19 DEBUG: Raw match found.
2011.11.10 13:38:19 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 184.0, 'azimuth': 330.0, 'longitude': 37.798066666666664, 'odometer': 413.0, 'satellitescount': 9, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133819,E03747.8840,N5607.4640,184,46.97624190064795,330,9,1.1,14600,14470mV,0,0,0,0,0,413,0*33!', 'time': '2011-11-10T13:38:19.000000', 'latitude': 56.1244, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 413.0, 'digital_input2': 0, 'speed': 87.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 87.0, 'uid': '557460032240926_888'}
2011.11.10 13:38:19 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19417381286621 seconds\\n","1":"Average query length: 0.0041313577205577 seconds\\n","2":"Queries per second: 242.05117727375\\n","3":"Longest query length: 0.053144931793213\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.026414155960083},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0042309761047363},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'evs1ilu7i3p20mnsfis7cdgvc4\')))","Time":0.00066494941711426},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0025498867034912},{"SQL":"select * from obj_info(58372)","Time":0.0005638599395752},{"SQL":"select * from obj_info(58372)","Time":0.00031399726867676},{"SQL":"select * from obj_prop_total(58372)","Time":0.053144931793213},{"SQL":"select obj_is_deleted(58372) as code","Time":0.001439094543457},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00087904930114746},{"SQL":"select obj_is_deleted(104) as code","Time":0.00077104568481445},{"SQL":"select * from obj_info(104)","Time":0.00032496452331543},{"SQL":"select * from f_prop_total(104)","Time":0.015661001205444},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0035429000854492},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026369094848633},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037024974822998},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011100769042969},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0013680458068848},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066018104553223},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063395500183105},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0008089542388916},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026710033416748},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00044608116149902},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014569759368896},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020480155944824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011677742004395},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056695938110352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056695938110352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013120174407959},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087499618530273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065422058105469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012218952178955},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069880485534668},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071406364440918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073814392089844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006711483001709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074005126953125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009760856628418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072288513183594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078821182250977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079488754272461},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:38:18\') as code","Time":0.015772819519043},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408355\')","Time":0.00072193145751953},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00073099136352539},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00056791305541992},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0006871223449707}]},"timeleft":false}'
2011.11.10 13:38:19 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:19 DEBUG: Data chunk = b''
2011.11.10 13:38:20 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.26421737670898 seconds\\n","1":"Average query length: 0.0033445237558099 seconds\\n","2":"Queries per second: 298.99623175433\\n","3":"Longest query length: 0.055814981460571\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.021104097366333},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0040860176086426},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'jg00211v20h6kl0d7nlvc9o395\')))","Time":0.00089812278747559},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025479793548584},{"SQL":"select * from obj_info(58369)","Time":0.00059390068054199},{"SQL":"select * from obj_info(58369)","Time":0.00029921531677246},{"SQL":"select * from obj_prop_total(58369)","Time":0.055814981460571},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0022079944610596},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0010478496551514},{"SQL":"select obj_is_deleted(104) as code","Time":0.00055599212646484},{"SQL":"select * from obj_info(104)","Time":0.00039505958557129},{"SQL":"select * from f_prop_total(104)","Time":0.016254901885986},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024998188018799},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0029709339141846},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034723043441772},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012519359588623},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0012619495391846},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00098681449890137},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006561279296875},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065207481384277},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002424955368042},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00032281875610352},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011229515075684},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0016720294952393},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012698173522949},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044107437133789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00037693977355957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00036907196044922},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039410591125488},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00037312507629395},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00037193298339844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012459754943848},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069212913513184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054407119750977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050806999206543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049614906311035},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050210952758789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053691864013672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051283836364746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049996376037598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049400329589844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073695182800293},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:38:19\') as code","Time":0.016072034835815},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408356\')","Time":0.00055980682373047},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00047087669372559},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00037813186645508},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00046610832214355},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00058889389038086},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408353)","Time":0.00041007995605469},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00028586387634277},{"SQL":"select * from acc_list(58369)","Time":0.00083684921264648},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0022761821746826},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0010890960693359},{"SQL":"select z_has_point(1002846847, 56.1212, 37.801433333333, null) as state","Time":0.0036180019378662},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00031685829162598},{"SQL":"select z_has_point(171930, 56.1212, 37.801433333333, null) as state","Time":0.0022168159484863},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00032711029052734},{"SQL":"select z_has_point(1387421, 56.1212, 37.801433333333, null) as state","Time":0.0025300979614258},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00028395652770996},{"SQL":"select z_has_point(1387486, 56.1212, 37.801433333333, null) as state","Time":0.0022480487823486},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.0002899169921875},{"SQL":"select z_has_point(1387485, 56.1212, 37.801433333333, null) as state","Time":0.0031661987304688},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00031709671020508},{"SQL":"select z_has_point(1387499, 56.1212, 37.801433333333, null) as state","Time":0.0026609897613525},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.0003819465637207},{"SQL":"select z_has_point(1387483, 56.1212, 37.801433333333, null) as state","Time":0.0022850036621094},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00032401084899902},{"SQL":"select z_has_point(1387484, 56.1212, 37.801433333333, null) as state","Time":0.0021851062774658},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00039792060852051},{"SQL":"select z_has_point(1387619, 56.1212, 37.801433333333, null) as state","Time":0.003136157989502},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00026321411132812},{"SQL":"select z_has_point(8710, 56.1212, 37.801433333333, null) as state","Time":0.0022530555725098},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00030183792114258},{"SQL":"select z_has_point(1002827265, 56.1212, 37.801433333333, null) as state","Time":0.0038609504699707},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00041413307189941},{"SQL":"select z_has_point(37627, 56.1212, 37.801433333333, null) as state","Time":0.0035121440887451},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.000946044921875},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021456956863403},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:38:02\') as code","Time":0.014373064041138}]},"timeleft":false}'
2011.11.10 13:38:20 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:20 DEBUG: Data chunk = b''
2011.11.10 13:38:26 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:26 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:26 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:26 DEBUG: Recieving...
2011.11.10 13:38:26 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133826,E03815.9230,N5553.4460,140,46.97624190064795,166,2,1.1,14600,14470mV,0,0,0,0,0,193,0*37!\r\n'
2011.11.10 13:38:26 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133826,E03815.9230,N5553.4460,140,46.97624190064795,166,2,1.1,14600,14470mV,0,0,0,0,0,193,0*37!\r\n']
2011.11.10 13:38:26 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133826,E03815.9230,N5553.4460,140,46.97624190064795,166,2,1.1,14600,14470mV,0,0,0,0,0,193,0*37!

2011.11.10 13:38:26 DEBUG: Raw match found.
2011.11.10 13:38:26 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 140.0, 'azimuth': 166.0, 'longitude': 38.26538333333333, 'odometer': 193.0, 'satellitescount': 2, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133826,E03815.9230,N5553.4460,140,46.97624190064795,166,2,1.1,14600,14470mV,0,0,0,0,0,193,0*37!', 'time': '2011-11-10T13:38:26.000000', 'latitude': 55.890766666666664, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 193.0, 'digital_input2': 0, 'speed': 87.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 87.0, 'uid': '457460032240926_888'}
2011.11.10 13:38:27 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.23418736457825 seconds\\n","1":"Average query length: 0.0049827098846436 seconds\\n","2":"Queries per second: 200.69400449782\\n","3":"Longest query length: 0.047469854354858\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.025635957717896},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0041611194610596},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'3ffciiu2l2smpsvvmop2is3lf7\')))","Time":0.00068402290344238},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0026390552520752},{"SQL":"select * from obj_info(38910)","Time":0.0010161399841309},{"SQL":"select * from obj_info(38910)","Time":0.00043916702270508},{"SQL":"select * from obj_prop_total(38910)","Time":0.047469854354858},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014560222625732},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00069999694824219},{"SQL":"select obj_is_deleted(104) as code","Time":0.0004570484161377},{"SQL":"select * from obj_info(104)","Time":0.00027704238891602},{"SQL":"select * from f_prop_total(104)","Time":0.01797890663147},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024929046630859},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0030159950256348},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03988790512085},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0014779567718506},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0016160011291504},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0008549690246582},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.010251045227051},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013530254364014},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0070779323577881},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0006871223449707},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0021250247955322},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0030498504638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.023019075393677},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013439655303955},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083684921264648},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064492225646973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080394744873047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096487998962402},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085091590881348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093913078308105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007481575012207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014631748199463},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065898895263672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006251335144043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065994262695312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059890747070312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007479190826416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069189071655273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057220458984375},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:38:26\') as code","Time":0.017912864685059},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408357\')","Time":0.00079083442687988},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00060892105102539},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00052785873413086},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00075984001159668}]},"timeleft":false}'
2011.11.10 13:38:27 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:27 DEBUG: Data chunk = b''
2011.11.10 13:38:33 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:33 DEBUG: Recieving...
2011.11.10 13:38:33 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133833,E03123.2530,N5832.0940,20,52.915766738660906,82,1,1.1,14600,14470mV,0,0,0,0,0,217,0*03!\r\n'
2011.11.10 13:38:33 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133833,E03123.2530,N5832.0940,20,52.915766738660906,82,1,1.1,14600,14470mV,0,0,0,0,0,217,0*03!\r\n']
2011.11.10 13:38:33 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133833,E03123.2530,N5832.0940,20,52.915766738660906,82,1,1.1,14600,14470mV,0,0,0,0,0,217,0*03!

2011.11.10 13:38:33 DEBUG: Raw match found.
2011.11.10 13:38:33 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 20.0, 'azimuth': 82.0, 'longitude': 31.38755, 'odometer': 217.0, 'satellitescount': 1, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133833,E03123.2530,N5832.0940,20,52.915766738660906,82,1,1.1,14600,14470mV,0,0,0,0,0,217,0*03!', 'time': '2011-11-10T13:38:33.000000', 'latitude': 58.5349, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 217.0, 'digital_input2': 0, 'speed': 98.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 98.0, 'uid': '657460032240926_888'}
2011.11.10 13:38:35 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.22271943092346 seconds\\n","1":"Average query length: 0.0047387112962439 seconds\\n","2":"Queries per second: 211.02783805222\\n","3":"Longest query length: 0.059761047363281\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.029356002807617},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0053501129150391},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'q0uj4ofosdp6enfoj8l3gk0e77\')))","Time":0.00091695785522461},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0039188861846924},{"SQL":"select * from obj_info(58372)","Time":0.00090384483337402},{"SQL":"select * from obj_info(58372)","Time":0.00059914588928223},{"SQL":"select * from obj_prop_total(58372)","Time":0.059761047363281},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0015261173248291},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.001194953918457},{"SQL":"select obj_is_deleted(104) as code","Time":0.00079703330993652},{"SQL":"select * from obj_info(104)","Time":0.00046300888061523},{"SQL":"select * from f_prop_total(104)","Time":0.021531105041504},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0039081573486328},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020930767059326},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038071870803833},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0013298988342285},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0028519630432129},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00083303451538086},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081205368041992},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00071191787719727},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0041308403015137},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0011770725250244},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0064001083374023},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.002316951751709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012857913970947},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071501731872559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072503089904785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093889236450195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012960433959961},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073814392089844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070405006408691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063896179199219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066304206848145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067281723022461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067281723022461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070405006408691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075006484985352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00094103813171387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061988830566406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062990188598633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011539459228516},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072312355041504},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:38:33\') as code","Time":0.015041828155518},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408358\')","Time":0.00070595741271973},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00061297416687012},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0003659725189209},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00046491622924805}]},"timeleft":false}'
2011.11.10 13:38:35 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:35 DEBUG: Data chunk = b''
2011.11.10 13:38:37 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:37 DEBUG: Recieving...
2011.11.10 13:38:37 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133837,E03747.6250,N5607.7110,184,49.13606911447084,330,6,1.1,14600,14470mV,0,0,0,0,0,531,0*35!\r\n'
2011.11.10 13:38:37 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133837,E03747.6250,N5607.7110,184,49.13606911447084,330,6,1.1,14600,14470mV,0,0,0,0,0,531,0*35!\r\n']
2011.11.10 13:38:37 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133837,E03747.6250,N5607.7110,184,49.13606911447084,330,6,1.1,14600,14470mV,0,0,0,0,0,531,0*35!

2011.11.10 13:38:37 DEBUG: Raw match found.
2011.11.10 13:38:37 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 184.0, 'azimuth': 330.0, 'longitude': 37.79375, 'odometer': 531.0, 'satellitescount': 6, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133837,E03747.6250,N5607.7110,184,49.13606911447084,330,6,1.1,14600,14470mV,0,0,0,0,0,531,0*35!', 'time': '2011-11-10T13:38:37.000000', 'latitude': 56.12851666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 531.0, 'digital_input2': 0, 'speed': 91.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 91.0, 'uid': '557460032240926_888'}
2011.11.10 13:38:37 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:37 DEBUG: Recieving...
2011.11.10 13:38:37 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133837,E03815.9620,N5553.3580,140,46.97624190064795,166,6,1.1,14600,14470mV,0,0,0,0,0,168,0*3A!\r\n'
2011.11.10 13:38:37 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133837,E03815.9620,N5553.3580,140,46.97624190064795,166,6,1.1,14600,14470mV,0,0,0,0,0,168,0*3A!\r\n']
2011.11.10 13:38:37 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133837,E03815.9620,N5553.3580,140,46.97624190064795,166,6,1.1,14600,14470mV,0,0,0,0,0,168,0*3A!

2011.11.10 13:38:37 DEBUG: Raw match found.
2011.11.10 13:38:37 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 140.0, 'azimuth': 166.0, 'longitude': 38.26603333333333, 'odometer': 168.0, 'satellitescount': 6, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133837,E03815.9620,N5553.3580,140,46.97624190064795,166,6,1.1,14600,14470mV,0,0,0,0,0,168,0*3A!', 'time': '2011-11-10T13:38:37.000000', 'latitude': 55.8893, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 168.0, 'digital_input2': 0, 'speed': 87.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 87.0, 'uid': '457460032240926_888'}
2011.11.10 13:38:39 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.39997434616089 seconds\\n","1":"Average query length: 0.0085100924715083 seconds\\n","2":"Queries per second: 117.50753629858\\n","3":"Longest query length: 0.10913896560669\\n","4":"Longest query: \\nINSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\\n","Queries":[{"SQL":"connect","Time":0.029933929443359},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0056869983673096},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'qgqbumqe0u3hoqqe0r0g6pocg0\')))","Time":0.00085806846618652},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0032639503479004},{"SQL":"select * from obj_info(38910)","Time":0.00073003768920898},{"SQL":"select * from obj_info(38910)","Time":0.00040316581726074},{"SQL":"select * from obj_prop_total(38910)","Time":0.054850101470947},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0023858547210693},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0011329650878906},{"SQL":"select obj_is_deleted(104) as code","Time":0.00082612037658691},{"SQL":"select * from obj_info(104)","Time":0.00045299530029297},{"SQL":"select * from f_prop_total(104)","Time":0.025249004364014},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0039501190185547},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0034148693084717},{"SQL":"select * from t_options(\'1006667041\')","Time":0.042156934738159},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011570453643799},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0018448829650879},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066113471984863},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00054621696472168},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00094199180603027},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0033679008483887},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0014190673828125},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.10913896560669},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018370151519775},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.042376041412354},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.035889863967896},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012309551239014},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060915946960449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047206878662109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047111511230469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083398818969727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064301490783691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043988227844238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0004429817199707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007939338684082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082898139953613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058197975158691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057411193847656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005500316619873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011429786682129},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007469654083252},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:38:37\') as code","Time":0.012604951858521},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408360\')","Time":0.00058889389038086},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00052094459533691},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00040602684020996},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00046515464782715}]},"timeleft":false}'
2011.11.10 13:38:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:39 DEBUG: Data chunk = b''
2011.11.10 13:38:39 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.60375428199768 seconds\\n","1":"Average query length: 0.0076424592657934 seconds\\n","2":"Queries per second: 130.84793326618\\n","3":"Longest query length: 0.15026497840881\\n","4":"Longest query: \\nINSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)\\n","Queries":[{"SQL":"connect","Time":0.032438993453979},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0060229301452637},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'13qu1hb3u7n4o9p5n5p8dr4bh7\')))","Time":0.0010230541229248},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0036890506744385},{"SQL":"select * from obj_info(58369)","Time":0.00060701370239258},{"SQL":"select * from obj_info(58369)","Time":0.00031590461730957},{"SQL":"select * from obj_prop_total(58369)","Time":0.054708003997803},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015640258789062},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00090289115905762},{"SQL":"select obj_is_deleted(104) as code","Time":0.00075006484985352},{"SQL":"select * from obj_info(104)","Time":0.00032711029052734},{"SQL":"select * from f_prop_total(104)","Time":0.017839908599854},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0042719841003418},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.003126859664917},{"SQL":"select * from t_options(\'1006667041\')","Time":0.054324150085449},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.002061128616333},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0023641586303711},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00095510482788086},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0008389949798584},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0010550022125244},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0029869079589844},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00093293190002441},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0020458698272705},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020740032196045},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011241436004639},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079107284545898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.15026497840881},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.034173011779785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.010596990585327},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011100769042969},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.03469705581665},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010218620300293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057888031005859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090599060058594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058889389038086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085806846618652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001366138458252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073409080505371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072097778320312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066280364990234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093913078308105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010929107666016},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:38:37\') as code","Time":0.02419114112854},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408359\')","Time":0.00098896026611328},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00072503089904785},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00064802169799805},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00078487396240234},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0010299682617188},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408356)","Time":0.00074195861816406},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00071191787719727},{"SQL":"select * from acc_list(58369)","Time":0.0014171600341797},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0033278465270996},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.001676082611084},{"SQL":"select z_has_point(1002846847, 56.1244, 37.798066666667, null) as state","Time":0.0063121318817139},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00048112869262695},{"SQL":"select z_has_point(171930, 56.1244, 37.798066666667, null) as state","Time":0.0036840438842773},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00029897689819336},{"SQL":"select z_has_point(1387421, 56.1244, 37.798066666667, null) as state","Time":0.0037930011749268},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00043487548828125},{"SQL":"select z_has_point(1387486, 56.1244, 37.798066666667, null) as state","Time":0.00406813621521},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00042390823364258},{"SQL":"select z_has_point(1387485, 56.1244, 37.798066666667, null) as state","Time":0.0037720203399658},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00044012069702148},{"SQL":"select z_has_point(1387499, 56.1244, 37.798066666667, null) as state","Time":0.0039999485015869},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00043201446533203},{"SQL":"select z_has_point(1387483, 56.1244, 37.798066666667, null) as state","Time":0.0037739276885986},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00043988227844238},{"SQL":"select z_has_point(1387484, 56.1244, 37.798066666667, null) as state","Time":0.0023360252380371},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00046086311340332},{"SQL":"select z_has_point(1387619, 56.1244, 37.798066666667, null) as state","Time":0.0028390884399414},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00038790702819824},{"SQL":"select z_has_point(8710, 56.1244, 37.798066666667, null) as state","Time":0.00559401512146},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00037503242492676},{"SQL":"select z_has_point(1002827265, 56.1244, 37.798066666667, null) as state","Time":0.0037209987640381},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00034403800964355},{"SQL":"select z_has_point(37627, 56.1244, 37.798066666667, null) as state","Time":0.0027711391448975},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00098896026611328},{"SQL":"select * from notif_get_by_object(58369)","Time":0.033486843109131},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:38:19\') as code","Time":0.042399168014526}]},"timeleft":false}'
2011.11.10 13:38:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:39 DEBUG: Data chunk = b''
2011.11.10 13:38:49 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:49 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:49 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:49 DEBUG: Recieving...
2011.11.10 13:38:49 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133849,E03747.5520,N5607.7740,185,44.81641468682505,327,6,1.1,14600,14470mV,0,0,0,0,0,139,0*36!\r\n'
2011.11.10 13:38:49 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133849,E03747.5520,N5607.7740,185,44.81641468682505,327,6,1.1,14600,14470mV,0,0,0,0,0,139,0*36!\r\n']
2011.11.10 13:38:49 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133849,E03747.5520,N5607.7740,185,44.81641468682505,327,6,1.1,14600,14470mV,0,0,0,0,0,139,0*36!

2011.11.10 13:38:49 DEBUG: Raw match found.
2011.11.10 13:38:49 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 185.0, 'azimuth': 327.0, 'longitude': 37.79253333333333, 'odometer': 139.0, 'satellitescount': 6, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133849,E03747.5520,N5607.7740,185,44.81641468682505,327,6,1.1,14600,14470mV,0,0,0,0,0,139,0*36!', 'time': '2011-11-10T13:38:49.000000', 'latitude': 56.12956666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 139.0, 'digital_input2': 0, 'speed': 83.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 83.0, 'uid': '557460032240926_888'}
2011.11.10 13:38:51 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.31939148902893 seconds\\n","1":"Average query length: 0.0040429302408725 seconds\\n","2":"Queries per second: 247.34535112438\\n","3":"Longest query length: 0.050332069396973\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.027465105056763},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0057189464569092},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'bnadfnhv84a6ietk5rjarsjhd2\')))","Time":0.0013449192047119},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0031039714813232},{"SQL":"select * from obj_info(58369)","Time":0.00085687637329102},{"SQL":"select * from obj_info(58369)","Time":0.00042295455932617},{"SQL":"select * from obj_prop_total(58369)","Time":0.050332069396973},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0017809867858887},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00095105171203613},{"SQL":"select obj_is_deleted(104) as code","Time":0.00060415267944336},{"SQL":"select * from obj_info(104)","Time":0.00040888786315918},{"SQL":"select * from f_prop_total(104)","Time":0.017404079437256},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038790702819824},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026960372924805},{"SQL":"select * from t_options(\'1006667041\')","Time":0.044989824295044},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0019769668579102},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0022640228271484},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00077104568481445},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.001115083694458},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0014398097991943},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.004065990447998},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00057005882263184},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.002467155456543},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0032579898834229},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.012348890304565},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008389949798584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088787078857422},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010330677032471},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084495544433594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079703330993652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075197219848633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075793266296387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075483322143555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076413154602051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058794021606445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081110000610352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092196464538574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080394744873047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072216987609863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076079368591309},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:38:49\') as code","Time":0.023787975311279},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408361\')","Time":0.00058913230895996},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00055694580078125},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0003821849822998},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00045204162597656},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00055694580078125},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408359)","Time":0.00040698051452637},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00029206275939941},{"SQL":"select * from acc_list(58369)","Time":0.00073909759521484},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0018768310546875},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00091195106506348},{"SQL":"select z_has_point(1002846847, 56.128516666667, 37.79375, null) as state","Time":0.0047399997711182},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.0003211498260498},{"SQL":"select z_has_point(171930, 56.128516666667, 37.79375, null) as state","Time":0.0026187896728516},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00024700164794922},{"SQL":"select z_has_point(1387421, 56.128516666667, 37.79375, null) as state","Time":0.0023958683013916},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00025415420532227},{"SQL":"select z_has_point(1387486, 56.128516666667, 37.79375, null) as state","Time":0.0023460388183594},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00033116340637207},{"SQL":"select z_has_point(1387485, 56.128516666667, 37.79375, null) as state","Time":0.0034198760986328},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00032997131347656},{"SQL":"select z_has_point(1387499, 56.128516666667, 37.79375, null) as state","Time":0.0030601024627686},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00031900405883789},{"SQL":"select z_has_point(1387483, 56.128516666667, 37.79375, null) as state","Time":0.0034050941467285},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00031208992004395},{"SQL":"select z_has_point(1387484, 56.128516666667, 37.79375, null) as state","Time":0.0032720565795898},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00026917457580566},{"SQL":"select z_has_point(1387619, 56.128516666667, 37.79375, null) as state","Time":0.0022540092468262},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00026893615722656},{"SQL":"select z_has_point(8710, 56.128516666667, 37.79375, null) as state","Time":0.0022709369659424},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00024914741516113},{"SQL":"select z_has_point(1002827265, 56.128516666667, 37.79375, null) as state","Time":0.0021369457244873},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00031685829162598},{"SQL":"select z_has_point(37627, 56.128516666667, 37.79375, null) as state","Time":0.0034551620483398},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0010330677032471},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022351026535034},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:38:37\') as code","Time":0.021383047103882}]},"timeleft":false}'
2011.11.10 13:38:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:51 DEBUG: Data chunk = b''
2011.11.10 13:38:53 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:53 DEBUG: Recieving...
2011.11.10 13:38:53 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133853,E03123.4880,N5832.1120,20,55.61555075593952,82,3,1.1,14600,14470mV,0,0,0,0,0,230,0*32!\r\n'
2011.11.10 13:38:53 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133853,E03123.4880,N5832.1120,20,55.61555075593952,82,3,1.1,14600,14470mV,0,0,0,0,0,230,0*32!\r\n']
2011.11.10 13:38:53 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133853,E03123.4880,N5832.1120,20,55.61555075593952,82,3,1.1,14600,14470mV,0,0,0,0,0,230,0*32!

2011.11.10 13:38:53 DEBUG: Raw match found.
2011.11.10 13:38:53 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 20.0, 'azimuth': 82.0, 'longitude': 31.391466666666666, 'odometer': 230.0, 'satellitescount': 3, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133853,E03123.4880,N5832.1120,20,55.61555075593952,82,3,1.1,14600,14470mV,0,0,0,0,0,230,0*32!', 'time': '2011-11-10T13:38:53.000000', 'latitude': 58.5352, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 230.0, 'digital_input2': 0, 'speed': 103.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 103.0, 'uid': '657460032240926_888'}
2011.11.10 13:38:55 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:38:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:38:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:38:55 DEBUG: Recieving...
2011.11.10 13:38:55 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133855,E03816.0000,N5553.2720,139,45.35637149028078,166,7,1.1,14600,14470mV,0,0,0,0,0,163,0*3C!\r\n'
2011.11.10 13:38:55 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133855,E03816.0000,N5553.2720,139,45.35637149028078,166,7,1.1,14600,14470mV,0,0,0,0,0,163,0*3C!\r\n']
2011.11.10 13:38:55 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133855,E03816.0000,N5553.2720,139,45.35637149028078,166,7,1.1,14600,14470mV,0,0,0,0,0,163,0*3C!

2011.11.10 13:38:55 DEBUG: Raw match found.
2011.11.10 13:38:55 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 139.0, 'azimuth': 166.0, 'longitude': 38.266666666666666, 'odometer': 163.0, 'satellitescount': 7, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133855,E03816.0000,N5553.2720,139,45.35637149028078,166,7,1.1,14600,14470mV,0,0,0,0,0,163,0*3C!', 'time': '2011-11-10T13:38:55.000000', 'latitude': 55.88786666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 163.0, 'digital_input2': 0, 'speed': 84.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 84.0, 'uid': '457460032240926_888'}
2011.11.10 13:38:56 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21834540367126 seconds\\n","1":"Average query length: 0.0046456468866227 seconds\\n","2":"Queries per second: 215.25527540191\\n","3":"Longest query length: 0.047382831573486\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.026793003082275},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0062050819396973},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'4gob4rt0o9tpaeblajlo0qq3g3\')))","Time":0.00088119506835938},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026509761810303},{"SQL":"select * from obj_info(58372)","Time":0.0005950927734375},{"SQL":"select * from obj_info(58372)","Time":0.00028300285339355},{"SQL":"select * from obj_prop_total(58372)","Time":0.047382831573486},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0021109580993652},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00096988677978516},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005040168762207},{"SQL":"select * from obj_info(104)","Time":0.00028014183044434},{"SQL":"select * from f_prop_total(104)","Time":0.015858173370361},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025720596313477},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0040171146392822},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036787033081055},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011789798736572},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0017640590667725},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065803527832031},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081300735473633},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00094985961914062},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0031108856201172},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00054597854614258},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016498565673828},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0023200511932373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.016074895858765},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007169246673584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014550685882568},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070905685424805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065398216247559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053811073303223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080323219299316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088119506835938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073504447937012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079894065856934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001046895980835},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007011890411377},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006110668182373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010809898376465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007789134979248},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074315071105957},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:38:53\') as code","Time":0.024757862091064},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408362\')","Time":0.00078892707824707},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00077390670776367},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00058984756469727},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0010368824005127}]},"timeleft":false}'
2011.11.10 13:38:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:56 DEBUG: Data chunk = b''
2011.11.10 13:38:56 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.2118513584137 seconds\\n","1":"Average query length: 0.0045074757109297 seconds\\n","2":"Queries per second: 221.85366358718\\n","3":"Longest query length: 0.054544925689697\\n","4":"Longest query: \\nselect * from t_options(\'1006667041\')\\n","Queries":[{"SQL":"connect","Time":0.027807950973511},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0055208206176758},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'9sc5hodrklst4f6cu0kj8anlf6\')))","Time":0.00076198577880859},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025570392608643},{"SQL":"select * from obj_info(38910)","Time":0.00061607360839844},{"SQL":"select * from obj_info(38910)","Time":0.00039005279541016},{"SQL":"select * from obj_prop_total(38910)","Time":0.040010929107666},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014750957489014},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00075483322143555},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047397613525391},{"SQL":"select * from obj_info(104)","Time":0.00029706954956055},{"SQL":"select * from f_prop_total(104)","Time":0.020824909210205},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.002885103225708},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022289752960205},{"SQL":"select * from t_options(\'1006667041\')","Time":0.054544925689697},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0018680095672607},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0062119960784912},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00074505805969238},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070691108703613},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0010879039764404},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0033349990844727},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00049114227294922},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016429424285889},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0022919178009033},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0021259784698486},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087189674377441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080990791320801},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086498260498047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054812431335449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053286552429199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069904327392578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065898895263672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043487548828125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017678737640381},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074577331542969},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090789794921875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014889240264893},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054597854614258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053310394287109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060009956359863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041818618774414},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:38:55\') as code","Time":0.015176057815552},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408363\')","Time":0.00053691864013672},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00047707557678223},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0004122257232666},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00056695938110352}]},"timeleft":false}'
2011.11.10 13:38:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:38:56 DEBUG: Data chunk = b''
2011.11.10 13:39:04 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:04 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:04 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:04 DEBUG: Recieving...
2011.11.10 13:39:04 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133904,E03747.3600,N5607.8490,190,42.656587473002155,305,4,1.1,14600,14470mV,0,0,0,0,0,241,0*04!\r\n'
2011.11.10 13:39:04 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133904,E03747.3600,N5607.8490,190,42.656587473002155,305,4,1.1,14600,14470mV,0,0,0,0,0,241,0*04!\r\n']
2011.11.10 13:39:04 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133904,E03747.3600,N5607.8490,190,42.656587473002155,305,4,1.1,14600,14470mV,0,0,0,0,0,241,0*04!

2011.11.10 13:39:04 DEBUG: Raw match found.
2011.11.10 13:39:04 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 190.0, 'azimuth': 305.0, 'longitude': 37.78933333333333, 'odometer': 241.0, 'satellitescount': 4, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133904,E03747.3600,N5607.8490,190,42.656587473002155,305,4,1.1,14600,14470mV,0,0,0,0,0,241,0*04!', 'time': '2011-11-10T13:39:04.000000', 'latitude': 56.13081666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 241.0, 'digital_input2': 0, 'speed': 79.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 79.0, 'uid': '557460032240926_888'}
2011.11.10 13:39:05 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.2716166973114 seconds\\n","1":"Average query length: 0.0034381860419165 seconds\\n","2":"Queries per second: 290.85104407049\\n","3":"Longest query length: 0.04807710647583\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.022156953811646},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0037989616394043},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'12ej1mptom1n2ec532a69h7jv4\')))","Time":0.00071310997009277},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.002554178237915},{"SQL":"select * from obj_info(58369)","Time":0.00060200691223145},{"SQL":"select * from obj_info(58369)","Time":0.00029492378234863},{"SQL":"select * from obj_prop_total(58369)","Time":0.04807710647583},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014560222625732},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00075602531433105},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046801567077637},{"SQL":"select * from obj_info(104)","Time":0.00030899047851562},{"SQL":"select * from f_prop_total(104)","Time":0.014803171157837},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0036370754241943},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.002129077911377},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032928228378296},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0018448829650879},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0013539791107178},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00075507164001465},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065517425537109},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065803527832031},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023429393768311},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00031614303588867},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015239715576172},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020279884338379},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014270067214966},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062704086303711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055122375488281},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088000297546387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057816505432129},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053882598876953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053000450134277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049686431884766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051116943359375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051093101501465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081086158752441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096797943115234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005950927734375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050711631774902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050592422485352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005030632019043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050687789916992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050210952758789},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:39:04\') as code","Time":0.01465892791748},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408364\')","Time":0.00067901611328125},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00058102607727051},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00086092948913574},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00067305564880371},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0007929801940918},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408361)","Time":0.00051498413085938},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0003819465637207},{"SQL":"select * from acc_list(58369)","Time":0.00075101852416992},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0028159618377686},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00098800659179688},{"SQL":"select z_has_point(1002846847, 56.129566666667, 37.792533333333, null) as state","Time":0.0041730403900146},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00028514862060547},{"SQL":"select z_has_point(171930, 56.129566666667, 37.792533333333, null) as state","Time":0.002471923828125},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0003199577331543},{"SQL":"select z_has_point(1387421, 56.129566666667, 37.792533333333, null) as state","Time":0.0023140907287598},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00028395652770996},{"SQL":"select z_has_point(1387486, 56.129566666667, 37.792533333333, null) as state","Time":0.0022039413452148},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(1387485, 56.129566666667, 37.792533333333, null) as state","Time":0.0023210048675537},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00025320053100586},{"SQL":"select z_has_point(1387499, 56.129566666667, 37.792533333333, null) as state","Time":0.0021059513092041},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00024914741516113},{"SQL":"select z_has_point(1387483, 56.129566666667, 37.792533333333, null) as state","Time":0.0021090507507324},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00024008750915527},{"SQL":"select z_has_point(1387484, 56.129566666667, 37.792533333333, null) as state","Time":0.0034170150756836},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.0003969669342041},{"SQL":"select z_has_point(1387619, 56.129566666667, 37.792533333333, null) as state","Time":0.0039520263671875},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00046205520629883},{"SQL":"select z_has_point(8710, 56.129566666667, 37.792533333333, null) as state","Time":0.0025730133056641},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00027704238891602},{"SQL":"select z_has_point(1002827265, 56.129566666667, 37.792533333333, null) as state","Time":0.0027248859405518},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00025010108947754},{"SQL":"select z_has_point(37627, 56.129566666667, 37.792533333333, null) as state","Time":0.0026609897613525},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00061297416687012},{"SQL":"select * from notif_get_by_object(58369)","Time":0.023514032363892},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:38:49\') as code","Time":0.016923904418945}]},"timeleft":false}'
2011.11.10 13:39:05 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:39:05 DEBUG: Data chunk = b''
2011.11.10 13:39:09 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:09 DEBUG: Recieving...
2011.11.10 13:39:09 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133909,E03816.0300,N5553.2280,137,42.656587473002155,159,7,1.1,14600,14470mV,0,0,0,0,0,87,0*37!\r\n'
2011.11.10 13:39:09 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133909,E03816.0300,N5553.2280,137,42.656587473002155,159,7,1.1,14600,14470mV,0,0,0,0,0,87,0*37!\r\n']
2011.11.10 13:39:09 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133909,E03816.0300,N5553.2280,137,42.656587473002155,159,7,1.1,14600,14470mV,0,0,0,0,0,87,0*37!

2011.11.10 13:39:09 DEBUG: Raw match found.
2011.11.10 13:39:09 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 137.0, 'azimuth': 159.0, 'longitude': 38.26716666666667, 'odometer': 87.0, 'satellitescount': 7, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133909,E03816.0300,N5553.2280,137,42.656587473002155,159,7,1.1,14600,14470mV,0,0,0,0,0,87,0*37!', 'time': '2011-11-10T13:39:09.000000', 'latitude': 55.88713333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 87.0, 'digital_input2': 0, 'speed': 79.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 79.0, 'uid': '457460032240926_888'}
2011.11.10 13:39:09 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:09 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:09 DEBUG: Recieving...
2011.11.10 13:39:09 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133909,E03123.7730,N5832.1320,20,53.99568034557235,82,1,1.1,14600,14470mV,0,0,0,0,0,279,0*3E!\r\n'
2011.11.10 13:39:09 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133909,E03123.7730,N5832.1320,20,53.99568034557235,82,1,1.1,14600,14470mV,0,0,0,0,0,279,0*3E!\r\n']
2011.11.10 13:39:09 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133909,E03123.7730,N5832.1320,20,53.99568034557235,82,1,1.1,14600,14470mV,0,0,0,0,0,279,0*3E!

2011.11.10 13:39:09 DEBUG: Raw match found.
2011.11.10 13:39:09 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 20.0, 'azimuth': 82.0, 'longitude': 31.396216666666668, 'odometer': 279.0, 'satellitescount': 1, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133909,E03123.7730,N5832.1320,20,53.99568034557235,82,1,1.1,14600,14470mV,0,0,0,0,0,279,0*3E!', 'time': '2011-11-10T13:39:09.000000', 'latitude': 58.53553333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 279.0, 'digital_input2': 0, 'speed': 100.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 100.0, 'uid': '657460032240926_888'}
2011.11.10 13:39:10 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.2489755153656 seconds\\n","1":"Average query length: 0.0052973513907575 seconds\\n","2":"Queries per second: 188.77358253877\\n","3":"Longest query length: 0.061205148696899\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.056946039199829},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0055620670318604},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'jabm2q99ps118om848bkibpbj6\')))","Time":0.00089693069458008},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0039098262786865},{"SQL":"select * from obj_info(38910)","Time":0.00078606605529785},{"SQL":"select * from obj_info(38910)","Time":0.00033879280090332},{"SQL":"select * from obj_prop_total(38910)","Time":0.061205148696899},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0021648406982422},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00098180770874023},{"SQL":"select obj_is_deleted(104) as code","Time":0.00050687789916992},{"SQL":"select * from obj_info(104)","Time":0.00031399726867676},{"SQL":"select * from f_prop_total(104)","Time":0.019960880279541},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0041279792785645},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.003058910369873},{"SQL":"select * from t_options(\'1006667041\')","Time":0.047114133834839},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011880397796631},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.002830982208252},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00060796737670898},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068807601928711},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0008080005645752},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027740001678467},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013880729675293},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018429756164551},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013830661773682},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062894821166992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064587593078613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060415267944336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073099136352539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061488151550293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060486793518066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059986114501953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061702728271484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064420700073242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010898113250732},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066089630126953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071907043457031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063681602478027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00078320503234863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076699256896973},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:39:09\') as code","Time":0.013172149658203},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408365\')","Time":0.00058102607727051},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049018859863281},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00052714347839355},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00057291984558105}]},"timeleft":false}'
2011.11.10 13:39:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:39:10 DEBUG: Data chunk = b''
2011.11.10 13:39:11 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21812963485718 seconds\\n","1":"Average query length: 0.004641056060791 seconds\\n","2":"Queries per second: 215.46820096579\\n","3":"Longest query length: 0.057163953781128\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.042372941970825},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0059030055999756},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'jmf4adgvpv0mc8m7d3ut3tvj50\')))","Time":0.00096797943115234},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.003593921661377},{"SQL":"select * from obj_info(58372)","Time":0.0007469654083252},{"SQL":"select * from obj_info(58372)","Time":0.00040102005004883},{"SQL":"select * from obj_prop_total(58372)","Time":0.057163953781128},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014748573303223},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00076603889465332},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047421455383301},{"SQL":"select * from obj_info(104)","Time":0.00030612945556641},{"SQL":"select * from f_prop_total(104)","Time":0.020230054855347},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0035529136657715},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0028579235076904},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036027908325195},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011529922485352},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0015239715576172},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00064897537231445},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070381164550781},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006568431854248},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024049282073975},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034308433532715},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0017280578613281},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018460750579834},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012998580932617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061488151550293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011501312255859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062990188598633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062894821166992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059890747070312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069785118103027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060892105102539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075411796569824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062203407287598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064301490783691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047993659973145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047183036804199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047206878662109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070405006408691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:39:09\') as code","Time":0.015144824981689},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408366\')","Time":0.00054192543029785},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00080204010009766},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0007319450378418},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00090980529785156}]},"timeleft":false}'
2011.11.10 13:39:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:39:11 DEBUG: Data chunk = b''
2011.11.10 13:39:19 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:19 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:19 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:19 DEBUG: Recieving...
2011.11.10 13:39:19 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133919,E03816.0640,N5553.1970,135,43.7365010799136,148,6,1.1,14600,14470mV,0,0,0,0,0,67,0*35!\r\n'
2011.11.10 13:39:19 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133919,E03816.0640,N5553.1970,135,43.7365010799136,148,6,1.1,14600,14470mV,0,0,0,0,0,67,0*35!\r\n']
2011.11.10 13:39:19 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133919,E03816.0640,N5553.1970,135,43.7365010799136,148,6,1.1,14600,14470mV,0,0,0,0,0,67,0*35!

2011.11.10 13:39:19 DEBUG: Raw match found.
2011.11.10 13:39:19 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 135.0, 'azimuth': 148.0, 'longitude': 38.26773333333333, 'odometer': 67.0, 'satellitescount': 6, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133919,E03816.0640,N5553.1970,135,43.7365010799136,148,6,1.1,14600,14470mV,0,0,0,0,0,67,0*35!', 'time': '2011-11-10T13:39:19.000000', 'latitude': 55.88661666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 67.0, 'digital_input2': 0, 'speed': 81.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 81.0, 'uid': '457460032240926_888'}
2011.11.10 13:39:20 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19804930686951 seconds\\n","1":"Average query length: 0.0042138150397767 seconds\\n","2":"Queries per second: 237.31464019194\\n","3":"Longest query length: 0.041380167007446\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.029320001602173},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0057737827301025},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'k6jujctp5sbea0rljsbcmokh93\')))","Time":0.0011489391326904},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0036029815673828},{"SQL":"select * from obj_info(38910)","Time":0.00088191032409668},{"SQL":"select * from obj_info(38910)","Time":0.00055718421936035},{"SQL":"select * from obj_prop_total(38910)","Time":0.041380167007446},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0016980171203613},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010280609130859},{"SQL":"select obj_is_deleted(104) as code","Time":0.0006711483001709},{"SQL":"select * from obj_info(104)","Time":0.00034999847412109},{"SQL":"select * from f_prop_total(104)","Time":0.015398025512695},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037639141082764},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0030820369720459},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036115884780884},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011129379272461},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0017030239105225},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00084495544433594},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058197975158691},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065302848815918},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026531219482422},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00047183036804199},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0022351741790771},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018618106842041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014129161834717},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060796737670898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053811073303223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053787231445312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057101249694824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059914588928223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062990188598633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069379806518555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086188316345215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006248950958252},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079917907714844},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:39:19\') as code","Time":0.014392137527466},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408367\')","Time":0.00071001052856445},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00069618225097656},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00038313865661621},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041699409484863}]},"timeleft":false}'
2011.11.10 13:39:20 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:39:20 DEBUG: Data chunk = b''
2011.11.10 13:39:21 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:21 DEBUG: Recieving...
2011.11.10 13:39:21 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133921,E03747.1210,N5607.9690,193,40.49676025917926,312,9,1.1,14600,14470mV,0,0,0,0,0,333,0*3A!\r\n'
2011.11.10 13:39:21 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133921,E03747.1210,N5607.9690,193,40.49676025917926,312,9,1.1,14600,14470mV,0,0,0,0,0,333,0*3A!\r\n']
2011.11.10 13:39:21 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133921,E03747.1210,N5607.9690,193,40.49676025917926,312,9,1.1,14600,14470mV,0,0,0,0,0,333,0*3A!

2011.11.10 13:39:21 DEBUG: Raw match found.
2011.11.10 13:39:21 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 193.0, 'azimuth': 312.0, 'longitude': 37.78535, 'odometer': 333.0, 'satellitescount': 9, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133921,E03747.1210,N5607.9690,193,40.49676025917926,312,9,1.1,14600,14470mV,0,0,0,0,0,333,0*3A!', 'time': '2011-11-10T13:39:21.000000', 'latitude': 56.13281666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 333.0, 'digital_input2': 0, 'speed': 75.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 75.0, 'uid': '557460032240926_888'}
2011.11.10 13:39:22 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.34854412078857 seconds\\n","1":"Average query length: 0.0044119508960579 seconds\\n","2":"Queries per second: 226.6571010329\\n","3":"Longest query length: 0.060312986373901\\n","4":"Longest query: \\nselect * from notif_get_by_object(58369)\\n","Queries":[{"SQL":"connect","Time":0.020442008972168},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0037710666656494},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'sjkgth2l25efvo5d4p41ajheh0\')))","Time":0.00096797943115234},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0037291049957275},{"SQL":"select * from obj_info(58369)","Time":0.00061988830566406},{"SQL":"select * from obj_info(58369)","Time":0.00029301643371582},{"SQL":"select * from obj_prop_total(58369)","Time":0.053291082382202},{"SQL":"select obj_is_deleted(58369) as code","Time":0.001471996307373},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00088691711425781},{"SQL":"select obj_is_deleted(104) as code","Time":0.0007789134979248},{"SQL":"select * from obj_info(104)","Time":0.00055789947509766},{"SQL":"select * from f_prop_total(104)","Time":0.014764070510864},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037789344787598},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022180080413818},{"SQL":"select * from t_options(\'1006667041\')","Time":0.03146505355835},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011398792266846},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0017919540405273},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00095582008361816},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00095105171203613},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00087213516235352},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024600028991699},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00032591819763184},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0041851997375488},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018050670623779},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0071849822998047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.012897968292236},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.01255202293396},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0036020278930664},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069689750671387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057291984558105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010898113250732},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012919902801514},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0018880367279053},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054001808166504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077295303344727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053215026855469},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015361309051514},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074505805969238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060796737670898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016658306121826},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005340576171875},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:39:21\') as code","Time":0.01490306854248},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408368\')","Time":0.00052118301391602},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00042200088500977},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00032711029052734},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043392181396484},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00051498413085938},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408364)","Time":0.00037312507629395},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00025010108947754},{"SQL":"select * from acc_list(58369)","Time":0.00072002410888672},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0018630027770996},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00097799301147461},{"SQL":"select z_has_point(1002846847, 56.130816666667, 37.789333333333, null) as state","Time":0.0031719207763672},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00029802322387695},{"SQL":"select z_has_point(171930, 56.130816666667, 37.789333333333, null) as state","Time":0.0022768974304199},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00027203559875488},{"SQL":"select z_has_point(1387421, 56.130816666667, 37.789333333333, null) as state","Time":0.0021870136260986},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(1387486, 56.130816666667, 37.789333333333, null) as state","Time":0.0021641254425049},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00025010108947754},{"SQL":"select z_has_point(1387485, 56.130816666667, 37.789333333333, null) as state","Time":0.0022709369659424},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00030016899108887},{"SQL":"select z_has_point(1387499, 56.130816666667, 37.789333333333, null) as state","Time":0.0037300586700439},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00041985511779785},{"SQL":"select z_has_point(1387483, 56.130816666667, 37.789333333333, null) as state","Time":0.0039060115814209},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.0007169246673584},{"SQL":"select z_has_point(1387484, 56.130816666667, 37.789333333333, null) as state","Time":0.0038390159606934},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00057578086853027},{"SQL":"select z_has_point(1387619, 56.130816666667, 37.789333333333, null) as state","Time":0.0042002201080322},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00040984153747559},{"SQL":"select z_has_point(8710, 56.130816666667, 37.789333333333, null) as state","Time":0.002377986907959},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00029206275939941},{"SQL":"select z_has_point(1002827265, 56.130816666667, 37.789333333333, null) as state","Time":0.002377986907959},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00031900405883789},{"SQL":"select z_has_point(37627, 56.130816666667, 37.789333333333, null) as state","Time":0.0023109912872314},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00071191787719727},{"SQL":"select * from notif_get_by_object(58369)","Time":0.060312986373901},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:39:04\') as code","Time":0.024487972259521}]},"timeleft":false}'
2011.11.10 13:39:22 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:39:22 DEBUG: Data chunk = b''
2011.11.10 13:39:23 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:23 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:23 DEBUG: Recieving...
2011.11.10 13:39:23 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133923,E03123.9590,N5832.1460,20,50.75593952483801,82,2,1.1,14600,14470mV,0,0,0,0,0,182,0*3E!\r\n'
2011.11.10 13:39:23 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133923,E03123.9590,N5832.1460,20,50.75593952483801,82,2,1.1,14600,14470mV,0,0,0,0,0,182,0*3E!\r\n']
2011.11.10 13:39:23 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133923,E03123.9590,N5832.1460,20,50.75593952483801,82,2,1.1,14600,14470mV,0,0,0,0,0,182,0*3E!

2011.11.10 13:39:23 DEBUG: Raw match found.
2011.11.10 13:39:23 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 20.0, 'azimuth': 82.0, 'longitude': 31.399316666666667, 'odometer': 182.0, 'satellitescount': 2, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133923,E03123.9590,N5832.1460,20,50.75593952483801,82,2,1.1,14600,14470mV,0,0,0,0,0,182,0*3E!', 'time': '2011-11-10T13:39:23.000000', 'latitude': 58.53576666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 182.0, 'digital_input2': 0, 'speed': 94.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 94.0, 'uid': '657460032240926_888'}
2011.11.10 13:39:24 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18687105178833 seconds\\n","1":"Average query length: 0.0039759798252836 seconds\\n","2":"Queries per second: 251.51033052052\\n","3":"Longest query length: 0.048195838928223\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.027395009994507},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052421092987061},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'g3ru5umhc7usuqs6sgkscook02\')))","Time":0.00067496299743652},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026090145111084},{"SQL":"select * from obj_info(58372)","Time":0.00059700012207031},{"SQL":"select * from obj_info(58372)","Time":0.00029516220092773},{"SQL":"select * from obj_prop_total(58372)","Time":0.048195838928223},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0017530918121338},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0010299682617188},{"SQL":"select obj_is_deleted(104) as code","Time":0.00068402290344238},{"SQL":"select * from obj_info(104)","Time":0.00032496452331543},{"SQL":"select * from f_prop_total(104)","Time":0.016250848770142},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024740695953369},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032951831817627},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036685943603516},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.001194953918457},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0013840198516846},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066304206848145},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059795379638672},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00066304206848145},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026140213012695},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00037503242492676},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012919902801514},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018558502197266},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011999607086182},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010659694671631},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054693222045898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054407119750977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054216384887695},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005338191986084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007939338684082},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054311752319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052905082702637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064182281494141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070595741271973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042104721069336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040793418884277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043511390686035},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040411949157715},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055503845214844},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:39:23\') as code","Time":0.015601873397827},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408369\')","Time":0.00062394142150879},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00060296058654785},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00036406517028809},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00042009353637695}]},"timeleft":false}'
2011.11.10 13:39:24 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:39:24 DEBUG: Data chunk = b''
2011.11.10 13:39:36 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:36 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:36 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:36 DEBUG: Recieving...
2011.11.10 13:39:36 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133936,E03816.1260,N5553.1500,136,42.656587473002155,144,1,1.1,14600,14470mV,0,0,0,0,0,110,0*05!\r\n'
2011.11.10 13:39:36 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133936,E03816.1260,N5553.1500,136,42.656587473002155,144,1,1.1,14600,14470mV,0,0,0,0,0,110,0*05!\r\n']
2011.11.10 13:39:36 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133936,E03816.1260,N5553.1500,136,42.656587473002155,144,1,1.1,14600,14470mV,0,0,0,0,0,110,0*05!

2011.11.10 13:39:36 DEBUG: Raw match found.
2011.11.10 13:39:36 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 136.0, 'azimuth': 144.0, 'longitude': 38.268766666666664, 'odometer': 110.0, 'satellitescount': 1, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133936,E03816.1260,N5553.1500,136,42.656587473002155,144,1,1.1,14600,14470mV,0,0,0,0,0,110,0*05!', 'time': '2011-11-10T13:39:36.000000', 'latitude': 55.88583333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 110.0, 'digital_input2': 0, 'speed': 79.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 79.0, 'uid': '457460032240926_888'}
2011.11.10 13:39:37 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19568514823914 seconds\\n","1":"Average query length: 0.004163513792322 seconds\\n","2":"Queries per second: 240.1817430854\\n","3":"Longest query length: 0.047858953475952\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.023826122283936},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052800178527832},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ia79r242ombcu655ei3bt9dhn5\')))","Time":0.00098609924316406},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.002554178237915},{"SQL":"select * from obj_info(38910)","Time":0.00057196617126465},{"SQL":"select * from obj_info(38910)","Time":0.00026893615722656},{"SQL":"select * from obj_prop_total(38910)","Time":0.047858953475952},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015089511871338},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00084114074707031},{"SQL":"select obj_is_deleted(104) as code","Time":0.00055193901062012},{"SQL":"select * from obj_info(104)","Time":0.00046801567077637},{"SQL":"select * from f_prop_total(104)","Time":0.017152070999146},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026228427886963},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021030902862549},{"SQL":"select * from t_options(\'1006667041\')","Time":0.042472124099731},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011050701141357},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013837814331055},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070595741271973},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00057721138000488},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00075602531433105},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025691986083984},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034594535827637},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001410961151123},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019869804382324},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.011151075363159},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062704086303711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058698654174805},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005640983581543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065112113952637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056600570678711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056695938110352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056314468383789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011458396911621},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057506561279297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059413909912109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057601928710938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:39:36\') as code","Time":0.012476921081543},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408370\')","Time":0.00050711631774902},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044012069702148},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00033807754516602},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00038290023803711}]},"timeleft":false}'
2011.11.10 13:39:37 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:39:37 DEBUG: Data chunk = b''
2011.11.10 13:39:39 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:39 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:39 DEBUG: Recieving...
2011.11.10 13:39:39 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133939,E03124.1340,N5832.1590,21,47.51619870410367,82,4,1.1,14600,14470mV,0,0,0,0,0,172,0*36!\r\n'
2011.11.10 13:39:39 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133939,E03124.1340,N5832.1590,21,47.51619870410367,82,4,1.1,14600,14470mV,0,0,0,0,0,172,0*36!\r\n']
2011.11.10 13:39:39 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133939,E03124.1340,N5832.1590,21,47.51619870410367,82,4,1.1,14600,14470mV,0,0,0,0,0,172,0*36!

2011.11.10 13:39:39 DEBUG: Raw match found.
2011.11.10 13:39:39 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 21.0, 'azimuth': 82.0, 'longitude': 31.402233333333335, 'odometer': 172.0, 'satellitescount': 4, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133939,E03124.1340,N5832.1590,21,47.51619870410367,82,4,1.1,14600,14470mV,0,0,0,0,0,172,0*36!', 'time': '2011-11-10T13:39:39.000000', 'latitude': 58.535983333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 172.0, 'digital_input2': 0, 'speed': 88.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 88.0, 'uid': '657460032240926_888'}
2011.11.10 13:39:40 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19699668884277 seconds\\n","1":"Average query length: 0.0041914189115484 seconds\\n","2":"Queries per second: 238.58269027817\\n","3":"Longest query length: 0.053189992904663\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.027202129364014},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0053608417510986},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'s7jv5mdchbiai079fnf8qvtlf3\')))","Time":0.001262903213501},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0037298202514648},{"SQL":"select * from obj_info(58372)","Time":0.00073480606079102},{"SQL":"select * from obj_info(58372)","Time":0.0003669261932373},{"SQL":"select * from obj_prop_total(58372)","Time":0.053189992904663},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014569759368896},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00072312355041504},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047612190246582},{"SQL":"select * from obj_info(104)","Time":0.0002741813659668},{"SQL":"select * from f_prop_total(104)","Time":0.01925802230835},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0027790069580078},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.003180980682373},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034938097000122},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011420249938965},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0016570091247559},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00087904930114746},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059103965759277},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00069308280944824},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024089813232422},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00059103965759277},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012040138244629},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018119812011719},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013220310211182},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064992904663086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066208839416504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060701370239258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060677528381348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061511993408203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060606002807617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060892105102539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060510635375977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006401538848877},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064301490783691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065207481384277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065302848815918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062918663024902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060009956359863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069999694824219},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:39:39\') as code","Time":0.017305850982666},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408371\')","Time":0.00055098533630371},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044918060302734},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00036191940307617},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00042104721069336}]},"timeleft":false}'
2011.11.10 13:39:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:39:40 DEBUG: Data chunk = b''
2011.11.10 13:39:41 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:41 DEBUG: Recieving...
2011.11.10 13:39:41 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133941,E03746.8790,N5608.1440,199,44.276457883369325,322,7,1.1,14600,14470mV,0,0,0,0,0,410,0*05!\r\n'
2011.11.10 13:39:41 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133941,E03746.8790,N5608.1440,199,44.276457883369325,322,7,1.1,14600,14470mV,0,0,0,0,0,410,0*05!\r\n']
2011.11.10 13:39:41 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133941,E03746.8790,N5608.1440,199,44.276457883369325,322,7,1.1,14600,14470mV,0,0,0,0,0,410,0*05!

2011.11.10 13:39:41 DEBUG: Raw match found.
2011.11.10 13:39:41 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 199.0, 'azimuth': 322.0, 'longitude': 37.78131666666667, 'odometer': 410.0, 'satellitescount': 7, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133941,E03746.8790,N5608.1440,199,44.276457883369325,322,7,1.1,14600,14470mV,0,0,0,0,0,410,0*05!', 'time': '2011-11-10T13:39:41.000000', 'latitude': 56.135733333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 410.0, 'digital_input2': 0, 'speed': 82.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 82.0, 'uid': '557460032240926_888'}
2011.11.10 13:39:42 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.38572859764099 seconds\\n","1":"Average query length: 0.0048826404764682 seconds\\n","2":"Queries per second: 204.80721544408\\n","3":"Longest query length: 0.069327116012573\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.030188798904419},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0056800842285156},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'3hhughktecgkrj1am647bmbom2\')))","Time":0.0010299682617188},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0039718151092529},{"SQL":"select * from obj_info(58369)","Time":0.00094795227050781},{"SQL":"select * from obj_info(58369)","Time":0.00044894218444824},{"SQL":"select * from obj_prop_total(58369)","Time":0.069327116012573},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0020999908447266},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0012269020080566},{"SQL":"select obj_is_deleted(104) as code","Time":0.00075912475585938},{"SQL":"select * from obj_info(104)","Time":0.00042009353637695},{"SQL":"select * from f_prop_total(104)","Time":0.025264978408813},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.003026008605957},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0033059120178223},{"SQL":"select * from t_options(\'1006667041\')","Time":0.052934885025024},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0017919540405273},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0022120475769043},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0013020038604736},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00097417831420898},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00099396705627441},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0038619041442871},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00074100494384766},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0017929077148438},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0029740333557129},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016288757324219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074601173400879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085902214050293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079202651977539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071287155151367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077199935913086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073790550231934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083518028259277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080513954162598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063681602478027},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065088272094727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089097023010254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076794624328613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056290626525879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012140274047852},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072288513183594},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:39:41\') as code","Time":0.026224851608276},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408372\')","Time":0.00078105926513672},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00071310997009277},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00055503845214844},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00073695182800293},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.0010478496551514},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408368)","Time":0.00075387954711914},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00051498413085938},{"SQL":"select * from acc_list(58369)","Time":0.0012681484222412},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0033738613128662},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0015521049499512},{"SQL":"select z_has_point(1002846847, 56.132816666667, 37.78535, null) as state","Time":0.0058510303497314},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00043702125549316},{"SQL":"select z_has_point(171930, 56.132816666667, 37.78535, null) as state","Time":0.0039849281311035},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00046992301940918},{"SQL":"select z_has_point(1387421, 56.132816666667, 37.78535, null) as state","Time":0.0038881301879883},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00047779083251953},{"SQL":"select z_has_point(1387486, 56.132816666667, 37.78535, null) as state","Time":0.0040638446807861},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00038790702819824},{"SQL":"select z_has_point(1387485, 56.132816666667, 37.78535, null) as state","Time":0.0036590099334717},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00068187713623047},{"SQL":"select z_has_point(1387499, 56.132816666667, 37.78535, null) as state","Time":0.0034890174865723},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.0004119873046875},{"SQL":"select z_has_point(1387483, 56.132816666667, 37.78535, null) as state","Time":0.0044159889221191},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00047802925109863},{"SQL":"select z_has_point(1387484, 56.132816666667, 37.78535, null) as state","Time":0.0036778450012207},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00046396255493164},{"SQL":"select z_has_point(1387619, 56.132816666667, 37.78535, null) as state","Time":0.0040979385375977},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00043320655822754},{"SQL":"select z_has_point(8710, 56.132816666667, 37.78535, null) as state","Time":0.0040051937103271},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.0003809928894043},{"SQL":"select z_has_point(1002827265, 56.132816666667, 37.78535, null) as state","Time":0.0036439895629883},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00037002563476562},{"SQL":"select z_has_point(37627, 56.132816666667, 37.78535, null) as state","Time":0.0037698745727539},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0010361671447754},{"SQL":"select * from notif_get_by_object(58369)","Time":0.039788961410522},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:39:21\') as code","Time":0.022109031677246}]},"timeleft":false}'
2011.11.10 13:39:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:39:42 DEBUG: Data chunk = b''
2011.11.10 13:39:48 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:48 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:48 DEBUG: Recieving...
2011.11.10 13:39:48 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,133948,E03816.1790,N5553.1090,139,36.177105831533474,144,2,1.1,14600,14470mV,0,0,0,0,0,93,0*3E!\r\n'
2011.11.10 13:39:48 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,133948,E03816.1790,N5553.1090,139,36.177105831533474,144,2,1.1,14600,14470mV,0,0,0,0,0,93,0*3E!\r\n']
2011.11.10 13:39:48 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,133948,E03816.1790,N5553.1090,139,36.177105831533474,144,2,1.1,14600,14470mV,0,0,0,0,0,93,0*3E!

2011.11.10 13:39:48 DEBUG: Raw match found.
2011.11.10 13:39:48 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 139.0, 'azimuth': 144.0, 'longitude': 38.26965, 'odometer': 93.0, 'satellitescount': 2, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,133948,E03816.1790,N5553.1090,139,36.177105831533474,144,2,1.1,14600,14470mV,0,0,0,0,0,93,0*3E!', 'time': '2011-11-10T13:39:48.000000', 'latitude': 55.88515, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 93.0, 'digital_input2': 0, 'speed': 67.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 67.0, 'uid': '457460032240926_888'}
2011.11.10 13:39:49 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.20069432258606 seconds\\n","1":"Average query length: 0.0042700919699162 seconds\\n","2":"Queries per second: 234.18699340559\\n","3":"Longest query length: 0.049638032913208\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.024255037307739},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050590038299561},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'k677b4j6jbh3ahhbduea9b3mt6\')))","Time":0.00076794624328613},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0027918815612793},{"SQL":"select * from obj_info(38910)","Time":0.00060606002807617},{"SQL":"select * from obj_info(38910)","Time":0.00029802322387695},{"SQL":"select * from obj_prop_total(38910)","Time":0.049638032913208},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0019800662994385},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010890960693359},{"SQL":"select obj_is_deleted(104) as code","Time":0.00072598457336426},{"SQL":"select * from obj_info(104)","Time":0.00028896331787109},{"SQL":"select * from f_prop_total(104)","Time":0.016623020172119},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024759769439697},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021951198577881},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035543918609619},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011520385742188},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013880729675293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00084400177001953},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058913230895996},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00072908401489258},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0066769123077393},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0003509521484375},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001500129699707},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.001910924911499},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014591217041016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063705444335938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010879039764404},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010650157928467},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083804130554199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007479190826416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086498260498047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011868476867676},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058984756469727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060796737670898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010449886322021},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081086158752441},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011749267578125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096678733825684},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0038590431213379},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012161731719971},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087714195251465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070810317993164},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:39:48\') as code","Time":0.014616012573242},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408373\')","Time":0.0028221607208252},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0014669895172119},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0011570453643799},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0014100074768066}]},"timeleft":false}'
2011.11.10 13:39:49 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:39:49 DEBUG: Data chunk = b''
2011.11.10 13:39:53 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:53 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:53 DEBUG: Recieving...
2011.11.10 13:39:53 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,133953,E03746.6800,N5608.2110,202,42.656587473002155,301,5,1.1,14600,14470mV,0,0,0,0,0,241,0*09!\r\n'
2011.11.10 13:39:53 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,133953,E03746.6800,N5608.2110,202,42.656587473002155,301,5,1.1,14600,14470mV,0,0,0,0,0,241,0*09!\r\n']
2011.11.10 13:39:53 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,133953,E03746.6800,N5608.2110,202,42.656587473002155,301,5,1.1,14600,14470mV,0,0,0,0,0,241,0*09!

2011.11.10 13:39:53 DEBUG: Raw match found.
2011.11.10 13:39:53 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 202.0, 'azimuth': 301.0, 'longitude': 37.778, 'odometer': 241.0, 'satellitescount': 5, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,133953,E03746.6800,N5608.2110,202,42.656587473002155,301,5,1.1,14600,14470mV,0,0,0,0,0,241,0*09!', 'time': '2011-11-10T13:39:53.000000', 'latitude': 56.13685, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 241.0, 'digital_input2': 0, 'speed': 79.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 79.0, 'uid': '557460032240926_888'}
2011.11.10 13:39:54 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.32773876190186 seconds\\n","1":"Average query length: 0.0041485919228083 seconds\\n","2":"Queries per second: 241.04564117337\\n","3":"Longest query length: 0.063844919204712\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.026851892471313},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050840377807617},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'vgcf91f4boljg0eb0n3c7fhuo5\')))","Time":0.001244068145752},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0025279521942139},{"SQL":"select * from obj_info(58369)","Time":0.0005650520324707},{"SQL":"select * from obj_info(58369)","Time":0.00030398368835449},{"SQL":"select * from obj_prop_total(58369)","Time":0.063844919204712},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0021920204162598},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00076103210449219},{"SQL":"select obj_is_deleted(104) as code","Time":0.00072407722473145},{"SQL":"select * from obj_info(104)","Time":0.00039076805114746},{"SQL":"select * from f_prop_total(104)","Time":0.021842002868652},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0040121078491211},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0034620761871338},{"SQL":"select * from t_options(\'1006667041\')","Time":0.041402816772461},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0015091896057129},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0021541118621826},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010240077972412},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00089907646179199},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00098681449890137},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0039591789245605},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00055789947509766},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001417875289917},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017170906066895},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010340213775635},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059890747070312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043892860412598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076794624328613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013039112091064},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065898895263672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053191184997559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051116943359375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063800811767578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062084197998047},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005338191986084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051999092102051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072097778320312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063514709472656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063419342041016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064396858215332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064396858215332},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:39:53\') as code","Time":0.023083925247192},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408374\')","Time":0.00070500373840332},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00065112113952637},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00047993659973145},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00063204765319824},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00073909759521484},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408372)","Time":0.00040793418884277},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00036907196044922},{"SQL":"select * from acc_list(58369)","Time":0.0010499954223633},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0029170513153076},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0014569759368896},{"SQL":"select z_has_point(1002846847, 56.135733333333, 37.781316666667, null) as state","Time":0.0058081150054932},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00035786628723145},{"SQL":"select z_has_point(171930, 56.135733333333, 37.781316666667, null) as state","Time":0.0024709701538086},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00026702880859375},{"SQL":"select z_has_point(1387421, 56.135733333333, 37.781316666667, null) as state","Time":0.0035700798034668},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00035786628723145},{"SQL":"select z_has_point(1387486, 56.135733333333, 37.781316666667, null) as state","Time":0.0035600662231445},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00035190582275391},{"SQL":"select z_has_point(1387485, 56.135733333333, 37.781316666667, null) as state","Time":0.0037131309509277},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00028586387634277},{"SQL":"select z_has_point(1387499, 56.135733333333, 37.781316666667, null) as state","Time":0.0027401447296143},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00026607513427734},{"SQL":"select z_has_point(1387483, 56.135733333333, 37.781316666667, null) as state","Time":0.0022568702697754},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00026607513427734},{"SQL":"select z_has_point(1387484, 56.135733333333, 37.781316666667, null) as state","Time":0.0027189254760742},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00039815902709961},{"SQL":"select z_has_point(1387619, 56.135733333333, 37.781316666667, null) as state","Time":0.0024008750915527},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00039315223693848},{"SQL":"select z_has_point(8710, 56.135733333333, 37.781316666667, null) as state","Time":0.003626823425293},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00033903121948242},{"SQL":"select z_has_point(1002827265, 56.135733333333, 37.781316666667, null) as state","Time":0.0028021335601807},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.0003819465637207},{"SQL":"select z_has_point(37627, 56.135733333333, 37.781316666667, null) as state","Time":0.0024259090423584},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00096988677978516},{"SQL":"select * from notif_get_by_object(58369)","Time":0.033668041229248},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:39:41\') as code","Time":0.017329931259155}]},"timeleft":false}'
2011.11.10 13:39:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:39:54 DEBUG: Data chunk = b''
2011.11.10 13:39:58 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:39:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:39:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:39:58 DEBUG: Recieving...
2011.11.10 13:39:58 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,133958,E03124.3220,N5832.1730,21,44.81641468682505,82,5,1.1,14600,14470mV,0,0,0,0,0,183,0*3E!\r\n'
2011.11.10 13:39:58 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,133958,E03124.3220,N5832.1730,21,44.81641468682505,82,5,1.1,14600,14470mV,0,0,0,0,0,183,0*3E!\r\n']
2011.11.10 13:39:58 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,133958,E03124.3220,N5832.1730,21,44.81641468682505,82,5,1.1,14600,14470mV,0,0,0,0,0,183,0*3E!

2011.11.10 13:39:58 DEBUG: Raw match found.
2011.11.10 13:39:58 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 21.0, 'azimuth': 82.0, 'longitude': 31.405366666666666, 'odometer': 183.0, 'satellitescount': 5, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,133958,E03124.3220,N5832.1730,21,44.81641468682505,82,5,1.1,14600,14470mV,0,0,0,0,0,183,0*3E!', 'time': '2011-11-10T13:39:58.000000', 'latitude': 58.53621666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 183.0, 'digital_input2': 0, 'speed': 83.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 83.0, 'uid': '657460032240926_888'}
2011.11.10 13:40:00 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.22008275985718 seconds\\n","1":"Average query length: 0.0046826119118548 seconds\\n","2":"Queries per second: 213.55602788015\\n","3":"Longest query length: 0.051176071166992\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.024969100952148},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0056641101837158},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'tc415kcf4m6m0o6fm93r2je032\')))","Time":0.00080680847167969},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0041501522064209},{"SQL":"select * from obj_info(58372)","Time":0.00057888031005859},{"SQL":"select * from obj_info(58372)","Time":0.00037503242492676},{"SQL":"select * from obj_prop_total(58372)","Time":0.051176071166992},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014579296112061},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00078082084655762},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046801567077637},{"SQL":"select * from obj_info(104)","Time":0.00028681755065918},{"SQL":"select * from f_prop_total(104)","Time":0.021132946014404},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026748180389404},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0023448467254639},{"SQL":"select * from t_options(\'1006667041\')","Time":0.046057939529419},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0016999244689941},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0024058818817139},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00098109245300293},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00073790550231934},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0010089874267578},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0041429996490479},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00060796737670898},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018339157104492},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0026190280914307},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00098013877868652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073790550231934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082898139953613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085997581481934},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081896781921387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005500316619873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049304962158203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0042250156402588},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063204765319824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048208236694336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057506561279297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062298774719238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072407722473145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046992301940918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041794776916504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044107437133789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047779083251953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064396858215332},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:39:58\') as code","Time":0.023533821105957},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408375\')","Time":0.00074577331542969},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00076913833618164},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00060510635375977},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00048589706420898}]},"timeleft":false}'
2011.11.10 13:40:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:00 DEBUG: Data chunk = b''
2011.11.10 13:40:04 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:04 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:04 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:04 DEBUG: Recieving...
2011.11.10 13:40:04 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,134004,E03816.2060,N5553.0860,140,32.937365010799134,146,11,1.1,14600,14470mV,0,0,0,0,0,51,0*01!\r\n'
2011.11.10 13:40:04 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,134004,E03816.2060,N5553.0860,140,32.937365010799134,146,11,1.1,14600,14470mV,0,0,0,0,0,51,0*01!\r\n']
2011.11.10 13:40:04 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,134004,E03816.2060,N5553.0860,140,32.937365010799134,146,11,1.1,14600,14470mV,0,0,0,0,0,51,0*01!

2011.11.10 13:40:04 DEBUG: Raw match found.
2011.11.10 13:40:04 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 140.0, 'azimuth': 146.0, 'longitude': 38.2701, 'odometer': 51.0, 'satellitescount': 11, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,134004,E03816.2060,N5553.0860,140,32.937365010799134,146,11,1.1,14600,14470mV,0,0,0,0,0,51,0*01!', 'time': '2011-11-10T13:40:04.000000', 'latitude': 55.884766666666664, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 51.0, 'digital_input2': 0, 'speed': 61.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 61.0, 'uid': '457460032240926_888'}
2011.11.10 13:40:05 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.27560520172119 seconds\\n","1":"Average query length: 0.005863940462153 seconds\\n","2":"Queries per second: 170.53379147592\\n","3":"Longest query length: 0.071327924728394\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.046406984329224},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0058729648590088},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'jk2lo9iepiemtll0eoqcbjkm83\')))","Time":0.00098490715026855},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0041680335998535},{"SQL":"select * from obj_info(38910)","Time":0.00083112716674805},{"SQL":"select * from obj_info(38910)","Time":0.0004279613494873},{"SQL":"select * from obj_prop_total(38910)","Time":0.071327924728394},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0022299289703369},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0044939517974854},{"SQL":"select obj_is_deleted(104) as code","Time":0.00079584121704102},{"SQL":"select * from obj_info(104)","Time":0.00043392181396484},{"SQL":"select * from f_prop_total(104)","Time":0.025303840637207},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0042898654937744},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0034940242767334},{"SQL":"select * from t_options(\'1006667041\')","Time":0.052819013595581},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0020411014556885},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0027048587799072},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0009310245513916},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00077199935913086},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00093412399291992},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0031828880310059},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00047612190246582},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018241405487061},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020029544830322},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001215934753418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088882446289062},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008552074432373},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015759468078613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089693069458008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065398216247559},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067305564880371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00077295303344727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054788589477539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053000450134277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053000450134277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053501129150391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006098747253418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065994262695312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092315673828125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009770393371582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073719024658203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007328987121582},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:40:04\') as code","Time":0.01983380317688},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408376\')","Time":0.00078892707824707},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00075411796569824},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00049400329589844},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00066900253295898}]},"timeleft":false}'
2011.11.10 13:40:05 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:05 DEBUG: Data chunk = b''
2011.11.10 13:40:13 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:13 DEBUG: Recieving...
2011.11.10 13:40:13 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,134013,E03746.2860,N5608.3080,198,45.35637149028078,294,12,1.1,14600,14470mV,0,0,0,0,0,445,0*07!\r\n'
2011.11.10 13:40:13 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,134013,E03746.2860,N5608.3080,198,45.35637149028078,294,12,1.1,14600,14470mV,0,0,0,0,0,445,0*07!\r\n']
2011.11.10 13:40:13 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,134013,E03746.2860,N5608.3080,198,45.35637149028078,294,12,1.1,14600,14470mV,0,0,0,0,0,445,0*07!

2011.11.10 13:40:13 DEBUG: Raw match found.
2011.11.10 13:40:13 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 198.0, 'azimuth': 294.0, 'longitude': 37.771433333333334, 'odometer': 445.0, 'satellitescount': 12, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,134013,E03746.2860,N5608.3080,198,45.35637149028078,294,12,1.1,14600,14470mV,0,0,0,0,0,445,0*07!', 'time': '2011-11-10T13:40:13.000000', 'latitude': 56.138466666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 445.0, 'digital_input2': 0, 'speed': 84.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 84.0, 'uid': '557460032240926_888'}
2011.11.10 13:40:14 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.32918620109558 seconds\\n","1":"Average query length: 0.0041669139379187 seconds\\n","2":"Queries per second: 239.98575802107\\n","3":"Longest query length: 0.052255153656006\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.035238981246948},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0042660236358643},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'rhbb0kl6fqa7k0f28k43j2rv52\')))","Time":0.00082111358642578},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0027539730072021},{"SQL":"select * from obj_info(58369)","Time":0.00075721740722656},{"SQL":"select * from obj_info(58369)","Time":0.0003209114074707},{"SQL":"select * from obj_prop_total(58369)","Time":0.052255153656006},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014441013336182},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00091004371643066},{"SQL":"select obj_is_deleted(104) as code","Time":0.00093483924865723},{"SQL":"select * from obj_info(104)","Time":0.00042200088500977},{"SQL":"select * from f_prop_total(104)","Time":0.018838882446289},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.003554105758667},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0034070014953613},{"SQL":"select * from t_options(\'1006667041\')","Time":0.044739961624146},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0016698837280273},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0017249584197998},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00098323822021484},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00086784362792969},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00098705291748047},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0038959980010986},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0005650520324707},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0017070770263672},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0028820037841797},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00130295753479},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056195259094238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053596496582031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060009956359863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061178207397461},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072908401489258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084614753723145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00067782402038574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066685676574707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060296058654785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051188468933105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00148606300354},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090694427490234},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073003768920898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072503089904785},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:40:13\') as code","Time":0.023220062255859},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408377\')","Time":0.00082206726074219},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00068116188049316},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00051498413085938},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00064516067504883},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00081801414489746},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408374)","Time":0.0005791187286377},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00037384033203125},{"SQL":"select * from acc_list(58369)","Time":0.0010700225830078},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.002932071685791},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0011670589447021},{"SQL":"select z_has_point(1002846847, 56.13685, 37.778, null) as state","Time":0.0049970149993896},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00039291381835938},{"SQL":"select z_has_point(171930, 56.13685, 37.778, null) as state","Time":0.0037739276885986},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00037407875061035},{"SQL":"select z_has_point(1387421, 56.13685, 37.778, null) as state","Time":0.0037150382995605},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00037002563476562},{"SQL":"select z_has_point(1387486, 56.13685, 37.778, null) as state","Time":0.0035400390625},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00035214424133301},{"SQL":"select z_has_point(1387485, 56.13685, 37.778, null) as state","Time":0.0035030841827393},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00037884712219238},{"SQL":"select z_has_point(1387499, 56.13685, 37.778, null) as state","Time":0.0037140846252441},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.0011510848999023},{"SQL":"select z_has_point(1387483, 56.13685, 37.778, null) as state","Time":0.0039401054382324},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00039196014404297},{"SQL":"select z_has_point(1387484, 56.13685, 37.778, null) as state","Time":0.0037469863891602},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00045990943908691},{"SQL":"select z_has_point(1387619, 56.13685, 37.778, null) as state","Time":0.003978967666626},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00042009353637695},{"SQL":"select z_has_point(8710, 56.13685, 37.778, null) as state","Time":0.0041990280151367},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00041699409484863},{"SQL":"select z_has_point(1002827265, 56.13685, 37.778, null) as state","Time":0.0035150051116943},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00028204917907715},{"SQL":"select z_has_point(37627, 56.13685, 37.778, null) as state","Time":0.0029652118682861},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00096797943115234},{"SQL":"select * from notif_get_by_object(58369)","Time":0.030070066452026},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:39:53\') as code","Time":0.015572071075439}]},"timeleft":false}'
2011.11.10 13:40:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:14 DEBUG: Data chunk = b''
2011.11.10 13:40:15 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:15 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:15 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:15 DEBUG: Recieving...
2011.11.10 13:40:15 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,134015,E03124.6290,N5832.1970,21,44.81641468682505,82,5,1.1,14600,14470mV,0,0,0,0,0,301,0*35!\r\n'
2011.11.10 13:40:15 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,134015,E03124.6290,N5832.1970,21,44.81641468682505,82,5,1.1,14600,14470mV,0,0,0,0,0,301,0*35!\r\n']
2011.11.10 13:40:15 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,134015,E03124.6290,N5832.1970,21,44.81641468682505,82,5,1.1,14600,14470mV,0,0,0,0,0,301,0*35!

2011.11.10 13:40:15 DEBUG: Raw match found.
2011.11.10 13:40:15 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 21.0, 'azimuth': 82.0, 'longitude': 31.41048333333333, 'odometer': 301.0, 'satellitescount': 5, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,134015,E03124.6290,N5832.1970,21,44.81641468682505,82,5,1.1,14600,14470mV,0,0,0,0,0,301,0*35!', 'time': '2011-11-10T13:40:15.000000', 'latitude': 58.53661666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 301.0, 'digital_input2': 0, 'speed': 83.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 83.0, 'uid': '657460032240926_888'}
2011.11.10 13:40:16 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19135761260986 seconds\\n","1":"Average query length: 0.0040714385661673 seconds\\n","2":"Queries per second: 245.61343214405\\n","3":"Longest query length: 0.048343896865845\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.028911113739014},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.003964900970459},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'tnkpp4a6okdsl3a3qggh3mm424\')))","Time":0.00066781044006348},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0027861595153809},{"SQL":"select * from obj_info(58372)","Time":0.00055813789367676},{"SQL":"select * from obj_info(58372)","Time":0.00028204917907715},{"SQL":"select * from obj_prop_total(58372)","Time":0.048343896865845},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0015358924865723},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0011439323425293},{"SQL":"select obj_is_deleted(104) as code","Time":0.00084400177001953},{"SQL":"select * from obj_info(104)","Time":0.00046110153198242},{"SQL":"select * from f_prop_total(104)","Time":0.018809080123901},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0034768581390381},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0025050640106201},{"SQL":"select * from t_options(\'1006667041\')","Time":0.035720109939575},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0011680126190186},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0021300315856934},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00083398818969727},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063300132751465},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00076007843017578},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0036759376525879},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00050711631774902},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016489028930664},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0022430419921875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011670589447021},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058889389038086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049901008605957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045990943908691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044798851013184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044798851013184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050997734069824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043797492980957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00043702125549316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045490264892578},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046610832214355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013270378112793},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076699256896973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057792663574219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056886672973633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056886672973633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006558895111084},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:40:15\') as code","Time":0.014534950256348},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408378\')","Time":0.00061917304992676},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00063800811767578},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00048494338989258},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00055694580078125}]},"timeleft":false}'
2011.11.10 13:40:16 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:16 DEBUG: Data chunk = b''
2011.11.10 13:40:20 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:20 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:20 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:20 DEBUG: Recieving...
2011.11.10 13:40:20 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,134020,E03816.2410,N5553.0460,141,31.857451403887687,154,9,1.1,14600,14470mV,0,0,0,0,0,83,0*31!\r\n'
2011.11.10 13:40:20 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,134020,E03816.2410,N5553.0460,141,31.857451403887687,154,9,1.1,14600,14470mV,0,0,0,0,0,83,0*31!\r\n']
2011.11.10 13:40:20 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,134020,E03816.2410,N5553.0460,141,31.857451403887687,154,9,1.1,14600,14470mV,0,0,0,0,0,83,0*31!

2011.11.10 13:40:20 DEBUG: Raw match found.
2011.11.10 13:40:20 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 141.0, 'azimuth': 154.0, 'longitude': 38.27068333333333, 'odometer': 83.0, 'satellitescount': 9, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,134020,E03816.2410,N5553.0460,141,31.857451403887687,154,9,1.1,14600,14470mV,0,0,0,0,0,83,0*31!', 'time': '2011-11-10T13:40:20.000000', 'latitude': 55.8841, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 83.0, 'digital_input2': 0, 'speed': 59.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 59.0, 'uid': '457460032240926_888'}
2011.11.10 13:40:21 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21049356460571 seconds\\n","1":"Average query length: 0.0044785864809726 seconds\\n","2":"Queries per second: 223.28473598724\\n","3":"Longest query length: 0.055681943893433\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.027060985565186},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0034821033477783},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'ae26lsh6kcde0jrdgbd7nmku05\')))","Time":0.001309871673584},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0025091171264648},{"SQL":"select * from obj_info(38910)","Time":0.00081992149353027},{"SQL":"select * from obj_info(38910)","Time":0.00039196014404297},{"SQL":"select * from obj_prop_total(38910)","Time":0.055681943893433},{"SQL":"select obj_is_deleted(38910) as code","Time":0.002716064453125},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00078296661376953},{"SQL":"select obj_is_deleted(104) as code","Time":0.00066089630126953},{"SQL":"select * from obj_info(104)","Time":0.00040698051452637},{"SQL":"select * from f_prop_total(104)","Time":0.01979398727417},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0031599998474121},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022280216217041},{"SQL":"select * from t_options(\'1006667041\')","Time":0.047350883483887},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0014190673828125},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0017020702362061},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00092387199401855},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081586837768555},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00096583366394043},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0038368701934814},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00045680999755859},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015048980712891},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0028760433197021},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012788772583008},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079703330993652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084900856018066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063514709472656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068211555480957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066304206848145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063300132751465},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063705444335938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073719024658203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063490867614746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062298774719238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070619583129883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005340576171875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053119659423828},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005190372467041},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:40:20\') as code","Time":0.01381778717041},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408379\')","Time":0.00053501129150391},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00044393539428711},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034499168395996},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040197372436523}]},"timeleft":false}'
2011.11.10 13:40:21 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:21 DEBUG: Data chunk = b''
2011.11.10 13:40:28 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:28 DEBUG: Recieving...
2011.11.10 13:40:28 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,134028,E03746.0300,N5608.4260,198,47.51619870410367,309,6,1.1,14600,14470mV,0,0,0,0,0,343,0*37!\r\n'
2011.11.10 13:40:28 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,134028,E03746.0300,N5608.4260,198,47.51619870410367,309,6,1.1,14600,14470mV,0,0,0,0,0,343,0*37!\r\n']
2011.11.10 13:40:28 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,134028,E03746.0300,N5608.4260,198,47.51619870410367,309,6,1.1,14600,14470mV,0,0,0,0,0,343,0*37!

2011.11.10 13:40:28 DEBUG: Raw match found.
2011.11.10 13:40:28 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 198.0, 'azimuth': 309.0, 'longitude': 37.76716666666667, 'odometer': 343.0, 'satellitescount': 6, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,134028,E03746.0300,N5608.4260,198,47.51619870410367,309,6,1.1,14600,14470mV,0,0,0,0,0,343,0*37!', 'time': '2011-11-10T13:40:28.000000', 'latitude': 56.140433333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 343.0, 'digital_input2': 0, 'speed': 88.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 88.0, 'uid': '557460032240926_888'}
2011.11.10 13:40:29 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.36199617385864 seconds\\n","1":"Average query length: 0.0045822300488436 seconds\\n","2":"Queries per second: 218.23435081623\\n","3":"Longest query length: 0.066350936889648\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.028151988983154},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0050811767578125},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'in726md01alo599n3vq7b9tgb7\')))","Time":0.00096797943115234},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0030300617218018},{"SQL":"select * from obj_info(58369)","Time":0.00076413154602051},{"SQL":"select * from obj_info(58369)","Time":0.00029492378234863},{"SQL":"select * from obj_prop_total(58369)","Time":0.066350936889648},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0021390914916992},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.0010459423065186},{"SQL":"select obj_is_deleted(104) as code","Time":0.00048089027404785},{"SQL":"select * from obj_info(104)","Time":0.00029492378234863},{"SQL":"select * from f_prop_total(104)","Time":0.020011901855469},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0033869743347168},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021250247955322},{"SQL":"select * from t_options(\'1006667041\')","Time":0.052351951599121},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0017030239105225},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.001964807510376},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081515312194824},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00090408325195312},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00094819068908691},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0039548873901367},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00047802925109863},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012259483337402},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0026700496673584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013611316680908},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055503845214844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053906440734863},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045895576477051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040006637573242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00039196014404297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005190372467041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050902366638184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006101131439209},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052690505981445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012710094451904},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052404403686523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050806999206543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050497055053711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051498413085938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054788589477539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063800811767578},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:40:28\') as code","Time":0.025204181671143},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408380\')","Time":0.00072717666625977},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00065207481384277},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00050592422485352},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00069689750671387},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00083279609680176},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408377)","Time":0.00088000297546387},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00045204162597656},{"SQL":"select * from acc_list(58369)","Time":0.0011000633239746},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0030210018157959},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0011589527130127},{"SQL":"select z_has_point(1002846847, 56.138466666667, 37.771433333333, null) as state","Time":0.0054099559783936},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00041103363037109},{"SQL":"select z_has_point(171930, 56.138466666667, 37.771433333333, null) as state","Time":0.0037541389465332},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00038981437683105},{"SQL":"select z_has_point(1387421, 56.138466666667, 37.771433333333, null) as state","Time":0.0041790008544922},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00039196014404297},{"SQL":"select z_has_point(1387486, 56.138466666667, 37.771433333333, null) as state","Time":0.0036280155181885},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00038886070251465},{"SQL":"select z_has_point(1387485, 56.138466666667, 37.771433333333, null) as state","Time":0.0035998821258545},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0003969669342041},{"SQL":"select z_has_point(1387499, 56.138466666667, 37.771433333333, null) as state","Time":0.0036909580230713},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00037002563476562},{"SQL":"select z_has_point(1387483, 56.138466666667, 37.771433333333, null) as state","Time":0.0037829875946045},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.0003969669342041},{"SQL":"select z_has_point(1387484, 56.138466666667, 37.771433333333, null) as state","Time":0.0036389827728271},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00046205520629883},{"SQL":"select z_has_point(1387619, 56.138466666667, 37.771433333333, null) as state","Time":0.0039839744567871},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00035810470581055},{"SQL":"select z_has_point(8710, 56.138466666667, 37.771433333333, null) as state","Time":0.0037732124328613},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00054597854614258},{"SQL":"select z_has_point(1002827265, 56.138466666667, 37.771433333333, null) as state","Time":0.0039329528808594},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.0003969669342041},{"SQL":"select z_has_point(37627, 56.138466666667, 37.771433333333, null) as state","Time":0.004065990447998},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0010120868682861},{"SQL":"select * from notif_get_by_object(58369)","Time":0.039054870605469},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:40:13\') as code","Time":0.02252197265625}]},"timeleft":false}'
2011.11.10 13:40:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:29 DEBUG: Data chunk = b''
2011.11.10 13:40:30 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:30 DEBUG: Recieving...
2011.11.10 13:40:30 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,134030,E03816.2530,N5553.0240,142,27.5377969762419,162,5,1.1,14600,14470mV,0,0,0,0,0,42,0*3B!\r\n'
2011.11.10 13:40:30 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,134030,E03816.2530,N5553.0240,142,27.5377969762419,162,5,1.1,14600,14470mV,0,0,0,0,0,42,0*3B!\r\n']
2011.11.10 13:40:30 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,134030,E03816.2530,N5553.0240,142,27.5377969762419,162,5,1.1,14600,14470mV,0,0,0,0,0,42,0*3B!

2011.11.10 13:40:30 DEBUG: Raw match found.
2011.11.10 13:40:30 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 142.0, 'azimuth': 162.0, 'longitude': 38.27088333333333, 'odometer': 42.0, 'satellitescount': 5, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,134030,E03816.2530,N5553.0240,142,27.5377969762419,162,5,1.1,14600,14470mV,0,0,0,0,0,42,0*3B!', 'time': '2011-11-10T13:40:30.000000', 'latitude': 55.88373333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 42.0, 'digital_input2': 0, 'speed': 51.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 51.0, 'uid': '457460032240926_888'}
2011.11.10 13:40:31 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.21622729301453 seconds\\n","1":"Average query length: 0.0046005807024367 seconds\\n","2":"Queries per second: 217.36386440745\\n","3":"Longest query length: 0.050124883651733\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.029753923416138},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0058541297912598},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'194ak0pledmbd7goc6rsnn0m74\')))","Time":0.001093864440918},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0034370422363281},{"SQL":"select * from obj_info(38910)","Time":0.00077199935913086},{"SQL":"select * from obj_info(38910)","Time":0.00037384033203125},{"SQL":"select * from obj_prop_total(38910)","Time":0.050124883651733},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0022509098052979},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010521411895752},{"SQL":"select obj_is_deleted(104) as code","Time":0.00057792663574219},{"SQL":"select * from obj_info(104)","Time":0.00029397010803223},{"SQL":"select * from f_prop_total(104)","Time":0.022690057754517},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0029439926147461},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021200180053711},{"SQL":"select * from t_options(\'1006667041\')","Time":0.038926124572754},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0017318725585938},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0022509098052979},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00078487396240234},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058984756469727},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0007319450378418},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0028431415557861},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00042009353637695},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0015208721160889},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0028059482574463},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015249252319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070500373840332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068807601928711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012521743774414},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00096702575683594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073099136352539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008389949798584},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082516670227051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0009000301361084},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082802772521973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000823974609375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082612037658691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089097023010254},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00085783004760742},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011649131774902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010759830474854},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000762939453125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066494941711426},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:40:30\') as code","Time":0.020718812942505},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408381\')","Time":0.00091719627380371},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00084304809570312},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00071001052856445},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00076580047607422}]},"timeleft":false}'
2011.11.10 13:40:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:31 DEBUG: Data chunk = b''
2011.11.10 13:40:32 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:32 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:32 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:32 DEBUG: Recieving...
2011.11.10 13:40:32 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,134032,E03124.8810,N5832.2160,20,48.056155507559396,82,11,1.1,14600,14470mV,0,0,0,0,0,246,0*35!\r\n'
2011.11.10 13:40:32 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,134032,E03124.8810,N5832.2160,20,48.056155507559396,82,11,1.1,14600,14470mV,0,0,0,0,0,246,0*35!\r\n']
2011.11.10 13:40:32 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,134032,E03124.8810,N5832.2160,20,48.056155507559396,82,11,1.1,14600,14470mV,0,0,0,0,0,246,0*35!

2011.11.10 13:40:32 DEBUG: Raw match found.
2011.11.10 13:40:32 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 20.0, 'azimuth': 82.0, 'longitude': 31.414683333333333, 'odometer': 246.0, 'satellitescount': 11, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,134032,E03124.8810,N5832.2160,20,48.056155507559396,82,11,1.1,14600,14470mV,0,0,0,0,0,246,0*35!', 'time': '2011-11-10T13:40:32.000000', 'latitude': 58.53693333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 246.0, 'digital_input2': 0, 'speed': 89.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 89.0, 'uid': '657460032240926_888'}
2011.11.10 13:40:33 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.43720269203186 seconds\\n","1":"Average query length: 0.0093021849368481 seconds\\n","2":"Queries per second: 107.50162534812\\n","3":"Longest query length: 0.1342670917511\\n","4":"Longest query: \\nINSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)\\n","Queries":[{"SQL":"connect","Time":0.024995088577271},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0056309700012207},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'sst3lu7f0qi4r7nocclkks4ht5\')))","Time":0.00099515914916992},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0038039684295654},{"SQL":"select * from obj_info(58372)","Time":0.00059700012207031},{"SQL":"select * from obj_info(58372)","Time":0.00029206275939941},{"SQL":"select * from obj_prop_total(58372)","Time":0.055176973342896},{"SQL":"select obj_is_deleted(58372) as code","Time":0.002371072769165},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0011360645294189},{"SQL":"select obj_is_deleted(104) as code","Time":0.00078511238098145},{"SQL":"select * from obj_info(104)","Time":0.0004267692565918},{"SQL":"select * from f_prop_total(104)","Time":0.023756980895996},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0040969848632812},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0034101009368896},{"SQL":"select * from t_options(\'1006667041\')","Time":0.050804138183594},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0016028881072998},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0024769306182861},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00096797943115234},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00084090232849121},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00077509880065918},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0032939910888672},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00047397613525391},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0060451030731201},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019328594207764},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0054080486297607},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0083379745483398},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0023150444030762},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0054061412811279},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007941722869873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.1342670917511},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.024528026580811},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0072660446166992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0022261142730713},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0057468414306641},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010819435119629},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088691711425781},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0054798126220703},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012478828430176},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0022878646850586},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0058948993682861},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0090761184692383},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016729831695557},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:40:32\') as code","Time":0.014808893203735},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408382\')","Time":0.0005638599395752},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00045108795166016},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034880638122559},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041794776916504}]},"timeleft":false}'
2011.11.10 13:40:33 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:33 DEBUG: Data chunk = b''
2011.11.10 13:40:42 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:42 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:42 DEBUG: Recieving...
2011.11.10 13:40:42 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,134042,E03124.9980,N5832.2250,20,55.61555075593952,82,6,1.1,14600,14470mV,0,0,0,0,0,114,0*31!\r\n'
2011.11.10 13:40:42 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,134042,E03124.9980,N5832.2250,20,55.61555075593952,82,6,1.1,14600,14470mV,0,0,0,0,0,114,0*31!\r\n']
2011.11.10 13:40:42 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,134042,E03124.9980,N5832.2250,20,55.61555075593952,82,6,1.1,14600,14470mV,0,0,0,0,0,114,0*31!

2011.11.10 13:40:42 DEBUG: Raw match found.
2011.11.10 13:40:42 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 20.0, 'azimuth': 82.0, 'longitude': 31.416633333333333, 'odometer': 114.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,134042,E03124.9980,N5832.2250,20,55.61555075593952,82,6,1.1,14600,14470mV,0,0,0,0,0,114,0*31!', 'time': '2011-11-10T13:40:42.000000', 'latitude': 58.537083333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 114.0, 'digital_input2': 0, 'speed': 103.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 103.0, 'uid': '657460032240926_888'}
2011.11.10 13:40:43 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:43 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:43 DEBUG: Recieving...
2011.11.10 13:40:43 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,134043,E03745.6910,N5608.5890,197,47.51619870410367,311,7,1.1,14600,14470mV,0,0,0,0,0,463,0*32!\r\n'
2011.11.10 13:40:43 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,134043,E03745.6910,N5608.5890,197,47.51619870410367,311,7,1.1,14600,14470mV,0,0,0,0,0,463,0*32!\r\n']
2011.11.10 13:40:43 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,134043,E03745.6910,N5608.5890,197,47.51619870410367,311,7,1.1,14600,14470mV,0,0,0,0,0,463,0*32!

2011.11.10 13:40:43 DEBUG: Raw match found.
2011.11.10 13:40:43 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 197.0, 'azimuth': 311.0, 'longitude': 37.761516666666665, 'odometer': 463.0, 'satellitescount': 7, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,134043,E03745.6910,N5608.5890,197,47.51619870410367,311,7,1.1,14600,14470mV,0,0,0,0,0,463,0*32!', 'time': '2011-11-10T13:40:43.000000', 'latitude': 56.14315, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 463.0, 'digital_input2': 0, 'speed': 88.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 88.0, 'uid': '557460032240926_888'}
2011.11.10 13:40:44 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.55195331573486 seconds\\n","1":"Average query length: 0.011743687568827 seconds\\n","2":"Queries per second: 85.152129102485\\n","3":"Longest query length: 0.34148621559143\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.34148621559143},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0063121318817139},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'6kpvasb8djs0leusl42kqj8lq7\')))","Time":0.00099015235900879},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0036489963531494},{"SQL":"select * from obj_info(58372)","Time":0.00064301490783691},{"SQL":"select * from obj_info(58372)","Time":0.00029993057250977},{"SQL":"select * from obj_prop_total(58372)","Time":0.060410976409912},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0019128322601318},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00072288513183594},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047802925109863},{"SQL":"select * from obj_info(104)","Time":0.00040292739868164},{"SQL":"select * from f_prop_total(104)","Time":0.025665044784546},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.004256010055542},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0033779144287109},{"SQL":"select * from t_options(\'1006667041\')","Time":0.045695066452026},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0015978813171387},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0014300346374512},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00062990188598633},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0009920597076416},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0013940334320068},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0041520595550537},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00082087516784668},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0016520023345947},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019569396972656},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011179447174072},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064182281494141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059199333190918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008549690246582},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061678886413574},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058412551879883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012238025665283},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088119506835938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072002410888672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00074005126953125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073504447937012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000823974609375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079679489135742},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071191787719727},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070405006408691},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073099136352539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0007178783416748},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:40:42\') as code","Time":0.024139881134033},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408383\')","Time":0.0008540153503418},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.000823974609375},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00065398216247559},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00071120262145996}]},"timeleft":false}'
2011.11.10 13:40:44 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:44 DEBUG: Data chunk = b''
2011.11.10 13:40:45 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.5949125289917 seconds\\n","1":"Average query length: 0.0075305383416671 seconds\\n","2":"Queries per second: 132.79263110141\\n","3":"Longest query length: 0.3590030670166\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.3590030670166},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0037310123443604},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'o6un84ah05fmd2acst0plbfma4\')))","Time":0.00099897384643555},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0036060810089111},{"SQL":"select * from obj_info(58369)","Time":0.00059103965759277},{"SQL":"select * from obj_info(58369)","Time":0.00044488906860352},{"SQL":"select * from obj_prop_total(58369)","Time":0.050230979919434},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0018761157989502},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.001147985458374},{"SQL":"select obj_is_deleted(104) as code","Time":0.00054812431335449},{"SQL":"select * from obj_info(104)","Time":0.00030612945556641},{"SQL":"select * from f_prop_total(104)","Time":0.016114950180054},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0030150413513184},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020740032196045},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034336805343628},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011720657348633},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0018491744995117},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010061264038086},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00085306167602539},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00069093704223633},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0025539398193359},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034022331237793},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012080669403076},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020439624786377},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010459423065186},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046110153198242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040507316589355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00040102005004883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00044798851013184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046801567077637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013890266418457},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010528564453125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00092291831970215},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071883201599121},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066685676574707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062990188598633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0016000270843506},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075483322143555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062298774719238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059604644775391},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061297416687012},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:40:43\') as code","Time":0.014676094055176},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408384\')","Time":0.00055789947509766},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049281120300293},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034999847412109},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043702125549316},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00054311752319336},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408380)","Time":0.00039005279541016},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00026702880859375},{"SQL":"select * from acc_list(58369)","Time":0.0008080005645752},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0018918514251709},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.00084400177001953},{"SQL":"select z_has_point(1002846847, 56.140433333333, 37.767166666667, null) as state","Time":0.003148078918457},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00026702880859375},{"SQL":"select z_has_point(171930, 56.140433333333, 37.767166666667, null) as state","Time":0.0022459030151367},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0002601146697998},{"SQL":"select z_has_point(1387421, 56.140433333333, 37.767166666667, null) as state","Time":0.0023040771484375},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.0002601146697998},{"SQL":"select z_has_point(1387486, 56.140433333333, 37.767166666667, null) as state","Time":0.0030360221862793},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00030612945556641},{"SQL":"select z_has_point(1387485, 56.140433333333, 37.767166666667, null) as state","Time":0.0021519660949707},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00038313865661621},{"SQL":"select z_has_point(1387499, 56.140433333333, 37.767166666667, null) as state","Time":0.0022039413452148},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00031709671020508},{"SQL":"select z_has_point(1387483, 56.140433333333, 37.767166666667, null) as state","Time":0.0034620761871338},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00036287307739258},{"SQL":"select z_has_point(1387484, 56.140433333333, 37.767166666667, null) as state","Time":0.0024399757385254},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00036811828613281},{"SQL":"select z_has_point(1387619, 56.140433333333, 37.767166666667, null) as state","Time":0.0023500919342041},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00030899047851562},{"SQL":"select z_has_point(8710, 56.140433333333, 37.767166666667, null) as state","Time":0.0022590160369873},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00038886070251465},{"SQL":"select z_has_point(1002827265, 56.140433333333, 37.767166666667, null) as state","Time":0.0030970573425293},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00030803680419922},{"SQL":"select z_has_point(37627, 56.140433333333, 37.767166666667, null) as state","Time":0.0022368431091309},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00066900253295898},{"SQL":"select * from notif_get_by_object(58369)","Time":0.021721839904785},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:40:28\') as code","Time":0.013646125793457}]},"timeleft":false}'
2011.11.10 13:40:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:45 DEBUG: Data chunk = b''
2011.11.10 13:40:45 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:45 DEBUG: Recieving...
2011.11.10 13:40:45 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,134045,E03816.2740,N5552.9820,142,26.457883369330453,164,4,1.1,14600,14470mV,0,0,0,0,0,81,0*35!\r\n'
2011.11.10 13:40:45 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,134045,E03816.2740,N5552.9820,142,26.457883369330453,164,4,1.1,14600,14470mV,0,0,0,0,0,81,0*35!\r\n']
2011.11.10 13:40:45 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,134045,E03816.2740,N5552.9820,142,26.457883369330453,164,4,1.1,14600,14470mV,0,0,0,0,0,81,0*35!

2011.11.10 13:40:45 DEBUG: Raw match found.
2011.11.10 13:40:45 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 142.0, 'azimuth': 164.0, 'longitude': 38.271233333333335, 'odometer': 81.0, 'satellitescount': 4, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,134045,E03816.2740,N5552.9820,142,26.457883369330453,164,4,1.1,14600,14470mV,0,0,0,0,0,81,0*35!', 'time': '2011-11-10T13:40:45.000000', 'latitude': 55.88303333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 81.0, 'digital_input2': 0, 'speed': 49.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 49.0, 'uid': '457460032240926_888'}
2011.11.10 13:40:46 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.18364071846008 seconds\\n","1":"Average query length: 0.0039072493289379 seconds\\n","2":"Queries per second: 255.93452472914\\n","3":"Longest query length: 0.043560981750488\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.030081987380981},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.004371166229248},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'4rptjfich4blgbd3l9d9kre8s5\')))","Time":0.0009300708770752},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0029468536376953},{"SQL":"select * from obj_info(38910)","Time":0.00059413909912109},{"SQL":"select * from obj_info(38910)","Time":0.00028896331787109},{"SQL":"select * from obj_prop_total(38910)","Time":0.043560981750488},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014448165893555},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00076007843017578},{"SQL":"select obj_is_deleted(104) as code","Time":0.00049209594726562},{"SQL":"select * from obj_info(104)","Time":0.00047898292541504},{"SQL":"select * from f_prop_total(104)","Time":0.016226053237915},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026471614837646},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0024628639221191},{"SQL":"select * from t_options(\'1006667041\')","Time":0.039277791976929},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0011510848999023},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013420581817627},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00084996223449707},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00059008598327637},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068902969360352},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002561092376709},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00036883354187012},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012838840484619},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020618438720703},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.001007080078125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060200691223145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058412551879883},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081586837768555},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062799453735352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073504447937012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00079798698425293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060892105102539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059986114501953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058913230895996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065493583679199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065493583679199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065207481384277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052118301391602},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050592422485352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054502487182617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045895576477051},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:40:45\') as code","Time":0.012696981430054},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408385\')","Time":0.00059294700622559},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00049495697021484},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00032997131347656},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00051999092102051}]},"timeleft":false}'
2011.11.10 13:40:46 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:46 DEBUG: Data chunk = b''
2011.11.10 13:40:54 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:54 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:54 DEBUG: Recieving...
2011.11.10 13:40:54 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,134054,E03125.1620,N5832.2370,20,62.63498920086393,82,6,1.1,14600,14470mV,0,0,0,0,0,161,0*32!\r\n'
2011.11.10 13:40:54 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,134054,E03125.1620,N5832.2370,20,62.63498920086393,82,6,1.1,14600,14470mV,0,0,0,0,0,161,0*32!\r\n']
2011.11.10 13:40:54 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,134054,E03125.1620,N5832.2370,20,62.63498920086393,82,6,1.1,14600,14470mV,0,0,0,0,0,161,0*32!

2011.11.10 13:40:54 DEBUG: Raw match found.
2011.11.10 13:40:54 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 20.0, 'azimuth': 82.0, 'longitude': 31.419366666666665, 'odometer': 161.0, 'satellitescount': 6, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,134054,E03125.1620,N5832.2370,20,62.63498920086393,82,6,1.1,14600,14470mV,0,0,0,0,0,161,0*32!', 'time': '2011-11-10T13:40:54.000000', 'latitude': 58.537283333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 161.0, 'digital_input2': 0, 'speed': 116.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 116.0, 'uid': '657460032240926_888'}
2011.11.10 13:40:55 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:55 DEBUG: Recieving...
2011.11.10 13:40:55 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,134055,E03745.3490,N5608.7570,191,41.57667386609071,312,4,1.1,14600,14470mV,0,0,0,0,0,471,0*34!\r\n'
2011.11.10 13:40:55 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,134055,E03745.3490,N5608.7570,191,41.57667386609071,312,4,1.1,14600,14470mV,0,0,0,0,0,471,0*34!\r\n']
2011.11.10 13:40:55 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,134055,E03745.3490,N5608.7570,191,41.57667386609071,312,4,1.1,14600,14470mV,0,0,0,0,0,471,0*34!

2011.11.10 13:40:55 DEBUG: Raw match found.
2011.11.10 13:40:55 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 191.0, 'azimuth': 312.0, 'longitude': 37.75581666666667, 'odometer': 471.0, 'satellitescount': 4, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,134055,E03745.3490,N5608.7570,191,41.57667386609071,312,4,1.1,14600,14470mV,0,0,0,0,0,471,0*34!', 'time': '2011-11-10T13:40:55.000000', 'latitude': 56.14595, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 471.0, 'digital_input2': 0, 'speed': 77.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 77.0, 'uid': '557460032240926_888'}
2011.11.10 13:40:55 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.19077968597412 seconds\\n","1":"Average query length: 0.0040591422547685 seconds\\n","2":"Queries per second: 246.35746599549\\n","3":"Longest query length: 0.048954010009766\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.028319835662842},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0051939487457275},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'gpcls2gmb18l5od7erhaokqge6\')))","Time":0.00069594383239746},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0033760070800781},{"SQL":"select * from obj_info(58372)","Time":0.0009160041809082},{"SQL":"select * from obj_info(58372)","Time":0.00049400329589844},{"SQL":"select * from obj_prop_total(58372)","Time":0.048954010009766},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0017108917236328},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0011398792266846},{"SQL":"select obj_is_deleted(104) as code","Time":0.00049185752868652},{"SQL":"select * from obj_info(104)","Time":0.00031304359436035},{"SQL":"select * from f_prop_total(104)","Time":0.015818119049072},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037310123443604},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026161670684814},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036963939666748},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0013968944549561},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.002108097076416},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00066208839416504},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058913230895996},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00066518783569336},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0023951530456543},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00036787986755371},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012381076812744},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019080638885498},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0013859272003174},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076699256896973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068497657775879},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052523612976074},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046300888061523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00041604042053223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045418739318848},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046181678771973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046896934509277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045919418334961},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046300888061523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00045919418334961},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00046706199645996},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00042605400085449},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0012829303741455},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008089542388916},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059890747070312},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059700012207031},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:40:54\') as code","Time":0.01485800743103},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408386\')","Time":0.00057196617126465},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00080394744873047},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0006260871887207},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00066494941711426}]},"timeleft":false}'
2011.11.10 13:40:55 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:55 DEBUG: Data chunk = b''
2011.11.10 13:40:56 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.27886748313904 seconds\\n","1":"Average query length: 0.0035299681410005 seconds\\n","2":"Queries per second: 283.28867572062\\n","3":"Longest query length: 0.050729036331177\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.028801918029785},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0048809051513672},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'gcho1rhjdaa1o71e1j5m2fugv0\')))","Time":0.00094890594482422},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0030200481414795},{"SQL":"select * from obj_info(58369)","Time":0.00053501129150391},{"SQL":"select * from obj_info(58369)","Time":0.00026488304138184},{"SQL":"select * from obj_prop_total(58369)","Time":0.050729036331177},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014350414276123},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00081706047058105},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046491622924805},{"SQL":"select * from obj_info(104)","Time":0.00030684471130371},{"SQL":"select * from f_prop_total(104)","Time":0.014524936676025},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.002877950668335},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0024929046630859},{"SQL":"select * from t_options(\'1006667041\')","Time":0.032723903656006},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012240409851074},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0014898777008057},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0009009838104248},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0006568431854248},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00064396858215332},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024349689483643},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00038003921508789},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0011799335479736},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0016629695892334},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010349750518799},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00084209442138672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052285194396973},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051212310791016},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055599212646484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051403045654297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049996376037598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048184394836426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048613548278809},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048303604125977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00048398971557617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00047898292541504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056791305541992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011699199676514},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052690505981445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050711631774902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050497055053711},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:40:55\') as code","Time":0.018696069717407},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408387\')","Time":0.00058102607727051},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00057506561279297},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00046300888061523},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00060892105102539},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00069618225097656},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408384)","Time":0.00049710273742676},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00031614303588867},{"SQL":"select * from acc_list(58369)","Time":0.00077509880065918},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0019240379333496},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.001101016998291},{"SQL":"select z_has_point(1002846847, 56.14315, 37.761516666667, null) as state","Time":0.0050110816955566},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00036787986755371},{"SQL":"select z_has_point(171930, 56.14315, 37.761516666667, null) as state","Time":0.002493143081665},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00031208992004395},{"SQL":"select z_has_point(1387421, 56.14315, 37.761516666667, null) as state","Time":0.0023181438446045},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00031089782714844},{"SQL":"select z_has_point(1387486, 56.14315, 37.761516666667, null) as state","Time":0.003119945526123},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00031495094299316},{"SQL":"select z_has_point(1387485, 56.14315, 37.761516666667, null) as state","Time":0.0031328201293945},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.0003659725189209},{"SQL":"select z_has_point(1387499, 56.14315, 37.761516666667, null) as state","Time":0.0034749507904053},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.0003669261932373},{"SQL":"select z_has_point(1387483, 56.14315, 37.761516666667, null) as state","Time":0.0029740333557129},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.0003199577331543},{"SQL":"select z_has_point(1387484, 56.14315, 37.761516666667, null) as state","Time":0.0034928321838379},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.0003211498260498},{"SQL":"select z_has_point(1387619, 56.14315, 37.761516666667, null) as state","Time":0.0023550987243652},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00049209594726562},{"SQL":"select z_has_point(8710, 56.14315, 37.761516666667, null) as state","Time":0.0030820369720459},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00026297569274902},{"SQL":"select z_has_point(1002827265, 56.14315, 37.761516666667, null) as state","Time":0.0021541118621826},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00026702880859375},{"SQL":"select z_has_point(37627, 56.14315, 37.761516666667, null) as state","Time":0.0027430057525635},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00067496299743652},{"SQL":"select * from notif_get_by_object(58369)","Time":0.028612852096558},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:40:43\') as code","Time":0.017162084579468}]},"timeleft":false}'
2011.11.10 13:40:56 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:56 DEBUG: Data chunk = b''
2011.11.10 13:40:58 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:40:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:40:58 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:40:58 DEBUG: Recieving...
2011.11.10 13:40:58 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,134058,E03816.2940,N5552.9430,141,29.15766738660907,164,1,1.1,14600,14470mV,0,0,0,0,0,76,0*01!\r\n'
2011.11.10 13:40:58 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,134058,E03816.2940,N5552.9430,141,29.15766738660907,164,1,1.1,14600,14470mV,0,0,0,0,0,76,0*01!\r\n']
2011.11.10 13:40:58 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,134058,E03816.2940,N5552.9430,141,29.15766738660907,164,1,1.1,14600,14470mV,0,0,0,0,0,76,0*01!

2011.11.10 13:40:58 DEBUG: Raw match found.
2011.11.10 13:40:58 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 141.0, 'azimuth': 164.0, 'longitude': 38.271566666666665, 'odometer': 76.0, 'satellitescount': 1, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,134058,E03816.2940,N5552.9430,141,29.15766738660907,164,1,1.1,14600,14470mV,0,0,0,0,0,76,0*01!', 'time': '2011-11-10T13:40:58.000000', 'latitude': 55.88238333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 76.0, 'digital_input2': 0, 'speed': 54.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 54.0, 'uid': '457460032240926_888'}
2011.11.10 13:40:59 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.26794457435608 seconds\\n","1":"Average query length: 0.0057009483905549 seconds\\n","2":"Queries per second: 175.40941111776\\n","3":"Longest query length: 0.042791843414307\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.022747993469238},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0037848949432373},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'bf043icg18ftjn2eacdtknk6j2\')))","Time":0.00077199935913086},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0028059482574463},{"SQL":"select * from obj_info(38910)","Time":0.00069999694824219},{"SQL":"select * from obj_info(38910)","Time":0.00031399726867676},{"SQL":"select * from obj_prop_total(38910)","Time":0.042791843414307},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014760494232178},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00076198577880859},{"SQL":"select obj_is_deleted(104) as code","Time":0.00052213668823242},{"SQL":"select * from obj_info(104)","Time":0.00029301643371582},{"SQL":"select * from f_prop_total(104)","Time":0.015785932540894},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0023989677429199},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0023288726806641},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034463167190552},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0012209415435791},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0016119480133057},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00081419944763184},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070905685424805},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00067496299743652},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024731159210205},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00031685829162598},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0099592208862305},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018060207366943},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0049111843109131},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020170211791992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0019400119781494},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0059289932250977},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0017199516296387},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.002640962600708},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0032579898834229},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.010757923126221},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0064101219177246},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0094659328460693},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0038199424743652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0030229091644287},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0075290203094482},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0057427883148193},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.010121822357178},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0057880878448486},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0084879398345947},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:40:58\') as code","Time":0.020375967025757},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408388\')","Time":0.00057101249694824},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00057697296142578},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00032496452331543},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00038790702819824}]},"timeleft":false}'
2011.11.10 13:40:59 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:40:59 DEBUG: Data chunk = b''
2011.11.10 13:41:10 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:41:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:41:10 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:41:10 DEBUG: Recieving...
2011.11.10 13:41:10 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,134110,E03125.4650,N5832.2600,19,63.714902807775374,82,2,1.1,14600,14470mV,0,0,0,0,0,296,0*08!\r\n'
2011.11.10 13:41:10 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,134110,E03125.4650,N5832.2600,19,63.714902807775374,82,2,1.1,14600,14470mV,0,0,0,0,0,296,0*08!\r\n']
2011.11.10 13:41:10 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,134110,E03125.4650,N5832.2600,19,63.714902807775374,82,2,1.1,14600,14470mV,0,0,0,0,0,296,0*08!

2011.11.10 13:41:10 DEBUG: Raw match found.
2011.11.10 13:41:10 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 19.0, 'azimuth': 82.0, 'longitude': 31.424416666666666, 'odometer': 296.0, 'satellitescount': 2, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,134110,E03125.4650,N5832.2600,19,63.714902807775374,82,2,1.1,14600,14470mV,0,0,0,0,0,296,0*08!', 'time': '2011-11-10T13:41:10.000000', 'latitude': 58.53766666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 296.0, 'digital_input2': 0, 'speed': 118.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 118.0, 'uid': '657460032240926_888'}
2011.11.10 13:41:11 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:41:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:41:11 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:41:11 DEBUG: Recieving...
2011.11.10 13:41:11 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,134111,E03745.1660,N5608.8000,188,36.177105831533474,293,11,1.1,14600,14470mV,0,0,0,0,0,206,0*39!\r\n'
2011.11.10 13:41:11 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,134111,E03745.1660,N5608.8000,188,36.177105831533474,293,11,1.1,14600,14470mV,0,0,0,0,0,206,0*39!\r\n']
2011.11.10 13:41:11 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,134111,E03745.1660,N5608.8000,188,36.177105831533474,293,11,1.1,14600,14470mV,0,0,0,0,0,206,0*39!

2011.11.10 13:41:11 DEBUG: Raw match found.
2011.11.10 13:41:11 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 188.0, 'azimuth': 293.0, 'longitude': 37.752766666666666, 'odometer': 206.0, 'satellitescount': 11, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,134111,E03745.1660,N5608.8000,188,36.177105831533474,293,11,1.1,14600,14470mV,0,0,0,0,0,206,0*39!', 'time': '2011-11-10T13:41:11.000000', 'latitude': 56.14666666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 206.0, 'digital_input2': 0, 'speed': 67.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 67.0, 'uid': '557460032240926_888'}
2011.11.10 13:41:12 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:41:12 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:41:12 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:41:12 DEBUG: Recieving...
2011.11.10 13:41:12 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,134112,E03816.3160,N5552.9050,139,36.177105831533474,163,4,1.1,14600,14470mV,0,0,0,0,0,74,0*3A!\r\n'
2011.11.10 13:41:12 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,134112,E03816.3160,N5552.9050,139,36.177105831533474,163,4,1.1,14600,14470mV,0,0,0,0,0,74,0*3A!\r\n']
2011.11.10 13:41:12 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,134112,E03816.3160,N5552.9050,139,36.177105831533474,163,4,1.1,14600,14470mV,0,0,0,0,0,74,0*3A!

2011.11.10 13:41:12 DEBUG: Raw match found.
2011.11.10 13:41:12 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 139.0, 'azimuth': 163.0, 'longitude': 38.27193333333334, 'odometer': 74.0, 'satellitescount': 4, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,134112,E03816.3160,N5552.9050,139,36.177105831533474,163,4,1.1,14600,14470mV,0,0,0,0,0,74,0*3A!', 'time': '2011-11-10T13:41:12.000000', 'latitude': 55.88175, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 74.0, 'digital_input2': 0, 'speed': 67.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 67.0, 'uid': '457460032240926_888'}
2011.11.10 13:41:13 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 1.5099067687988 seconds\\n","1":"Average query length: 0.03212567593189 seconds\\n","2":"Queries per second: 31.127749720196\\n","3":"Longest query length: 0.68489694595337\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.68489694595337},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0041220188140869},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1g961t8vqj1mdbqmaue0fesn66\')))","Time":0.00092697143554688},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0033259391784668},{"SQL":"select * from obj_info(58372)","Time":0.00056004524230957},{"SQL":"select * from obj_info(58372)","Time":0.00029683113098145},{"SQL":"select * from obj_prop_total(58372)","Time":0.049060106277466},{"SQL":"select obj_is_deleted(58372) as code","Time":0.001471996307373},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00099778175354004},{"SQL":"select obj_is_deleted(104) as code","Time":0.0004889965057373},{"SQL":"select * from obj_info(104)","Time":0.00029587745666504},{"SQL":"select * from f_prop_total(104)","Time":0.026379108428955},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0040309429168701},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0033028125762939},{"SQL":"select * from t_options(\'1006667041\')","Time":0.039777994155884},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012059211730957},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0019309520721436},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00083398818969727},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00068902969360352},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00065302848815918},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.002532958984375},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034213066101074},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.022931814193726},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0023629665374756},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.052443027496338},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.017177104949951},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013833999633789},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013174057006836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0021200180053711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013076066970825},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014994859695435},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.026288986206055},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.033401012420654},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.033484935760498},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013315916061401},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013157844543457},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.016808986663818},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.023397922515869},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.2681519985199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.02898097038269},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.01254415512085},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.011035919189453},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:41:10\') as code","Time":0.047163963317871},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408389\')","Time":0.00052690505981445},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00047206878662109},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00050687789916992},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043201446533203}]},"timeleft":false}'
2011.11.10 13:41:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:41:13 DEBUG: Data chunk = b''
2011.11.10 13:41:13 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 1.4524116516113 seconds\\n","1":"Average query length: 0.018384957615333 seconds\\n","2":"Queries per second: 54.392292923536\\n","3":"Longest query length: 0.79331302642822\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.79331302642822},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0038459300994873},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'0ec02kopurmg9fakojoihkd1h5\')))","Time":0.00066399574279785},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0026500225067139},{"SQL":"select * from obj_info(58369)","Time":0.00054621696472168},{"SQL":"select * from obj_info(58369)","Time":0.00026106834411621},{"SQL":"select * from obj_prop_total(58369)","Time":0.057480096817017},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0021140575408936},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00082898139953613},{"SQL":"select obj_is_deleted(104) as code","Time":0.0005040168762207},{"SQL":"select * from obj_info(104)","Time":0.00030708312988281},{"SQL":"select * from f_prop_total(104)","Time":0.021076202392578},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0027310848236084},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0051751136779785},{"SQL":"select * from t_options(\'1006667041\')","Time":0.039291858673096},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011818408966064},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0020110607147217},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00076103210449219},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00092101097106934},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00085783004760742},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026600360870361},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00035595893859863},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0053601264953613},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017430782318115},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.021674871444702},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013270139694214},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013247013092041},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0051968097686768},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010759830474854},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020351409912109},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0053701400756836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.025698900222778},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.020437002182007},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.031816005706787},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.014550924301147},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.018841028213501},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.02508282661438},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.012527942657471},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.034802913665771},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0093021392822266},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0082521438598633},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.032419919967651},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:41:11\') as code","Time":0.032800912857056},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408390\')","Time":0.00056886672973633},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00048089027404785},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0003669261932373},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043392181396484},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00055193901062012},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408387)","Time":0.00065708160400391},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00041604042053223},{"SQL":"select * from acc_list(58369)","Time":0.00085806846618652},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0023000240325928},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0012660026550293},{"SQL":"select z_has_point(1002846847, 56.14595, 37.755816666667, null) as state","Time":0.0033829212188721},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00027108192443848},{"SQL":"select z_has_point(171930, 56.14595, 37.755816666667, null) as state","Time":0.0023579597473145},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00026702880859375},{"SQL":"select z_has_point(1387421, 56.14595, 37.755816666667, null) as state","Time":0.0022189617156982},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00026798248291016},{"SQL":"select z_has_point(1387486, 56.14595, 37.755816666667, null) as state","Time":0.0022838115692139},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00027203559875488},{"SQL":"select z_has_point(1387485, 56.14595, 37.755816666667, null) as state","Time":0.0021638870239258},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00025606155395508},{"SQL":"select z_has_point(1387499, 56.14595, 37.755816666667, null) as state","Time":0.002363920211792},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00028014183044434},{"SQL":"select z_has_point(1387483, 56.14595, 37.755816666667, null) as state","Time":0.0026910305023193},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00026488304138184},{"SQL":"select z_has_point(1387484, 56.14595, 37.755816666667, null) as state","Time":0.0021281242370605},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.0002892017364502},{"SQL":"select z_has_point(1387619, 56.14595, 37.755816666667, null) as state","Time":0.003446102142334},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00028610229492188},{"SQL":"select z_has_point(8710, 56.14595, 37.755816666667, null) as state","Time":0.0030970573425293},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00030708312988281},{"SQL":"select z_has_point(1002827265, 56.14595, 37.755816666667, null) as state","Time":0.0034289360046387},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00031900405883789},{"SQL":"select z_has_point(37627, 56.14595, 37.755816666667, null) as state","Time":0.0023531913757324},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.0006558895111084},{"SQL":"select * from notif_get_by_object(58369)","Time":0.023375988006592},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:40:55\') as code","Time":0.11044001579285}]},"timeleft":false}'
2011.11.10 13:41:13 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:41:13 DEBUG: Data chunk = b''
2011.11.10 13:41:14 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.88292717933655 seconds\\n","1":"Average query length: 0.018785684666735 seconds\\n","2":"Queries per second: 53.232023093135\\n","3":"Longest query length: 0.58207106590271\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.58207106590271},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036962032318115},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'jkl2j2ofj3t0ssggu3ikosu5k5\')))","Time":0.0010402202606201},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0038249492645264},{"SQL":"select * from obj_info(38910)","Time":0.00087094306945801},{"SQL":"select * from obj_info(38910)","Time":0.00060081481933594},{"SQL":"select * from obj_prop_total(38910)","Time":0.058168172836304},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0021369457244873},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00070595741271973},{"SQL":"select obj_is_deleted(104) as code","Time":0.00058698654174805},{"SQL":"select * from obj_info(104)","Time":0.0004420280456543},{"SQL":"select * from f_prop_total(104)","Time":0.01661205291748},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025451183319092},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032460689544678},{"SQL":"select * from t_options(\'1006667041\')","Time":0.051836967468262},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0017359256744385},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0023701190948486},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00065112113952637},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00074386596679688},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00093388557434082},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0026230812072754},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0017220973968506},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0013699531555176},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020020008087158},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.01306676864624},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068998336791992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.011564970016479},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0093731880187988},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014150142669678},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006568431854248},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0081551074981689},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.011478185653687},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0031609535217285},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013624906539917},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0094320774078369},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080609321594238},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0065579414367676},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.01279091835022},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0106360912323},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059986114501953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0064389705657959},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:41:12\') as code","Time":0.017462015151978},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408391\')","Time":0.00059103965759277},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00045585632324219},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034189224243164},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0004429817199707}]},"timeleft":false}'
2011.11.10 13:41:14 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:41:14 DEBUG: Data chunk = b''
2011.11.10 13:41:25 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:41:25 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:41:25 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:41:25 DEBUG: Recieving...
2011.11.10 13:41:25 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,134125,E03125.8280,N5832.2870,19,62.63498920086393,82,4,1.1,14600,14470mV,0,0,0,0,0,355,0*34!\r\n'
2011.11.10 13:41:25 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,134125,E03125.8280,N5832.2870,19,62.63498920086393,82,4,1.1,14600,14470mV,0,0,0,0,0,355,0*34!\r\n']
2011.11.10 13:41:25 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,134125,E03125.8280,N5832.2870,19,62.63498920086393,82,4,1.1,14600,14470mV,0,0,0,0,0,355,0*34!

2011.11.10 13:41:25 DEBUG: Raw match found.
2011.11.10 13:41:25 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 19.0, 'azimuth': 82.0, 'longitude': 31.430466666666668, 'odometer': 355.0, 'satellitescount': 4, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,134125,E03125.8280,N5832.2870,19,62.63498920086393,82,4,1.1,14600,14470mV,0,0,0,0,0,355,0*34!', 'time': '2011-11-10T13:41:25.000000', 'latitude': 58.53811666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 355.0, 'digital_input2': 0, 'speed': 116.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 116.0, 'uid': '657460032240926_888'}
2011.11.10 13:41:27 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.53156566619873 seconds\\n","1":"Average query length: 0.011309907791462 seconds\\n","2":"Queries per second: 88.418050654213\\n","3":"Longest query length: 0.34256815910339\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.34256815910339},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0039348602294922},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'2n85lhn7ip7n1ohkfsagqvdjn0\')))","Time":0.00065493583679199},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0036108493804932},{"SQL":"select * from obj_info(58372)","Time":0.00054097175598145},{"SQL":"select * from obj_info(58372)","Time":0.00025582313537598},{"SQL":"select * from obj_prop_total(58372)","Time":0.048444032669067},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0018999576568604},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0011692047119141},{"SQL":"select obj_is_deleted(104) as code","Time":0.00064897537231445},{"SQL":"select * from obj_info(104)","Time":0.0002899169921875},{"SQL":"select * from f_prop_total(104)","Time":0.01882791519165},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0038831233978271},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0032849311828613},{"SQL":"select * from t_options(\'1006667041\')","Time":0.044941902160645},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0012111663818359},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0015618801116943},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00076794624328613},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0005948543548584},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00068497657775879},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024499893188477},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00033116340637207},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0026540756225586},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018770694732666},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.018301010131836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058507919311523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054192543029785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051784515380859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050592422485352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049495697021484},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052714347839355},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005030632019043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059080123901367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055813789367676},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051188468933105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051999092102051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072503089904785},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060105323791504},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053095817565918},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052213668823242},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055503845214844},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:41:25\') as code","Time":0.014847040176392},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408392\')","Time":0.00063180923461914},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00061202049255371},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035500526428223},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00041413307189941}]},"timeleft":false}'
2011.11.10 13:41:27 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:41:27 DEBUG: Data chunk = b''
2011.11.10 13:41:28 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:41:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:41:28 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:41:28 DEBUG: Recieving...
2011.11.10 13:41:28 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,134128,E03816.3520,N5552.8630,138,42.11663066954643,154,6,1.1,14600,14470mV,0,0,0,0,0,86,0*0C!\r\n'
2011.11.10 13:41:28 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,134128,E03816.3520,N5552.8630,138,42.11663066954643,154,6,1.1,14600,14470mV,0,0,0,0,0,86,0*0C!\r\n']
2011.11.10 13:41:28 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,134128,E03816.3520,N5552.8630,138,42.11663066954643,154,6,1.1,14600,14470mV,0,0,0,0,0,86,0*0C!

2011.11.10 13:41:28 DEBUG: Raw match found.
2011.11.10 13:41:28 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 138.0, 'azimuth': 154.0, 'longitude': 38.272533333333335, 'odometer': 86.0, 'satellitescount': 6, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,134128,E03816.3520,N5552.8630,138,42.11663066954643,154,6,1.1,14600,14470mV,0,0,0,0,0,86,0*0C!', 'time': '2011-11-10T13:41:28.000000', 'latitude': 55.88105, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 86.0, 'digital_input2': 0, 'speed': 78.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 78.0, 'uid': '457460032240926_888'}
2011.11.10 13:41:29 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:41:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:41:29 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:41:29 DEBUG: Recieving...
2011.11.10 13:41:29 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,134129,E03745.0820,N5608.8160,187,35.63714902807775,289,9,1.1,14600,14470mV,0,0,0,0,0,92,0*04!\r\n'
2011.11.10 13:41:29 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,134129,E03745.0820,N5608.8160,187,35.63714902807775,289,9,1.1,14600,14470mV,0,0,0,0,0,92,0*04!\r\n']
2011.11.10 13:41:29 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,134129,E03745.0820,N5608.8160,187,35.63714902807775,289,9,1.1,14600,14470mV,0,0,0,0,0,92,0*04!

2011.11.10 13:41:29 DEBUG: Raw match found.
2011.11.10 13:41:29 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 187.0, 'azimuth': 289.0, 'longitude': 37.75136666666667, 'odometer': 92.0, 'satellitescount': 9, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,134129,E03745.0820,N5608.8160,187,35.63714902807775,289,9,1.1,14600,14470mV,0,0,0,0,0,92,0*04!', 'time': '2011-11-10T13:41:29.000000', 'latitude': 56.14693333333334, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 92.0, 'digital_input2': 0, 'speed': 66.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 66.0, 'uid': '557460032240926_888'}
2011.11.10 13:41:30 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.63736248016357 seconds\\n","1":"Average query length: 0.013560903833268 seconds\\n","2":"Queries per second: 73.741397497916\\n","3":"Longest query length: 0.39705801010132\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.39705801010132},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0035450458526611},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'6o2lnplmfapmv1i2efinuptit3\')))","Time":0.00097322463989258},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.002586841583252},{"SQL":"select * from obj_info(38910)","Time":0.00065708160400391},{"SQL":"select * from obj_info(38910)","Time":0.0003199577331543},{"SQL":"select * from obj_prop_total(38910)","Time":0.043249845504761},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014200210571289},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00072288513183594},{"SQL":"select obj_is_deleted(104) as code","Time":0.00047397613525391},{"SQL":"select * from obj_info(104)","Time":0.00030088424682617},{"SQL":"select * from f_prop_total(104)","Time":0.015972137451172},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025649070739746},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0021870136260986},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034624099731445},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0016999244689941},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0013949871063232},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00094509124755859},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00058698654174805},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00064992904663086},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0037360191345215},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034785270690918},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0012688636779785},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018479824066162},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.052320003509521},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057888031005859},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056099891662598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052499771118164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058794021606445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006260871887207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00071096420288086},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075292587280273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072693824768066},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00073099136352539},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0037450790405273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0086839199066162},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0052568912506104},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0020990371704102},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.007349967956543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015499591827393},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0015699863433838},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0045599937438965},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:41:28\') as code","Time":0.022546052932739},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408393\')","Time":0.00080394744873047},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00075316429138184},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00055408477783203},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00063610076904297}]},"timeleft":false}'
2011.11.10 13:41:30 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:41:30 DEBUG: Data chunk = b''
2011.11.10 13:41:31 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 1.0783500671387 seconds\\n","1":"Average query length: 0.013650000849857 seconds\\n","2":"Queries per second: 73.260068698861\\n","3":"Longest query length: 0.76432800292969\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.76432800292969},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.00876784324646},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'j8c80815kf9ctpi1qbs5ju2tm3\')))","Time":0.00099992752075195},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0030112266540527},{"SQL":"select * from obj_info(58369)","Time":0.00085210800170898},{"SQL":"select * from obj_info(58369)","Time":0.00040698051452637},{"SQL":"select * from obj_prop_total(58369)","Time":0.064730167388916},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0015139579772949},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00080585479736328},{"SQL":"select obj_is_deleted(104) as code","Time":0.00046086311340332},{"SQL":"select * from obj_info(104)","Time":0.00027298927307129},{"SQL":"select * from f_prop_total(104)","Time":0.018343925476074},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025508403778076},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0030710697174072},{"SQL":"select * from t_options(\'1006667041\')","Time":0.039336919784546},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0017869472503662},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.0014331340789795},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0010077953338623},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0011460781097412},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00086212158203125},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0038790702819824},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00048089027404785},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0037000179290771},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0021641254425049},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.022524833679199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.004072904586792},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0042719841003418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00093889236450195},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00080108642578125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066494941711426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056600570678711},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055193901062012},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066304206848145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057506561279297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097203254699707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052690505981445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049996376037598},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00049304962158203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00052404403686523},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00062203407287598},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:41:29\') as code","Time":0.01456880569458},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408394\')","Time":0.00072002410888672},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0006721019744873},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00044798851013184},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00057101249694824},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00075411796569824},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408390)","Time":0.00040698051452637},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00026512145996094},{"SQL":"select * from acc_list(58369)","Time":0.00072503089904785},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.002061128616333},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.001554012298584},{"SQL":"select z_has_point(1002846847, 56.146666666667, 37.752766666667, null) as state","Time":0.0039100646972656},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.0002739429473877},{"SQL":"select z_has_point(171930, 56.146666666667, 37.752766666667, null) as state","Time":0.0023670196533203},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.0002748966217041},{"SQL":"select z_has_point(1387421, 56.146666666667, 37.752766666667, null) as state","Time":0.0023701190948486},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00037789344787598},{"SQL":"select z_has_point(1387486, 56.146666666667, 37.752766666667, null) as state","Time":0.0029680728912354},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00032997131347656},{"SQL":"select z_has_point(1387485, 56.146666666667, 37.752766666667, null) as state","Time":0.0033390522003174},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00027608871459961},{"SQL":"select z_has_point(1387499, 56.146666666667, 37.752766666667, null) as state","Time":0.002187967300415},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00026082992553711},{"SQL":"select z_has_point(1387483, 56.146666666667, 37.752766666667, null) as state","Time":0.0024089813232422},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.0035319328308105},{"SQL":"select z_has_point(1387484, 56.146666666667, 37.752766666667, null) as state","Time":0.0026540756225586},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00044703483581543},{"SQL":"select z_has_point(1387619, 56.146666666667, 37.752766666667, null) as state","Time":0.0026650428771973},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00026392936706543},{"SQL":"select z_has_point(8710, 56.146666666667, 37.752766666667, null) as state","Time":0.0027508735656738},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00024914741516113},{"SQL":"select z_has_point(1002827265, 56.146666666667, 37.752766666667, null) as state","Time":0.0029740333557129},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00031805038452148},{"SQL":"select z_has_point(37627, 56.146666666667, 37.752766666667, null) as state","Time":0.0035719871520996},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00091290473937988},{"SQL":"select * from notif_get_by_object(58369)","Time":0.031346082687378},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:41:11\') as code","Time":0.016289234161377}]},"timeleft":false}'
2011.11.10 13:41:31 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:41:31 DEBUG: Data chunk = b''
2011.11.10 13:41:40 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:41:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:41:40 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:41:40 DEBUG: Recieving...
2011.11.10 13:41:40 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,134140,E03816.4110,N5552.8070,136,46.97624190064795,149,7,1.1,14600,14470mV,0,0,0,0,0,121,0*3E!\r\n'
2011.11.10 13:41:40 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,134140,E03816.4110,N5552.8070,136,46.97624190064795,149,7,1.1,14600,14470mV,0,0,0,0,0,121,0*3E!\r\n']
2011.11.10 13:41:40 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,134140,E03816.4110,N5552.8070,136,46.97624190064795,149,7,1.1,14600,14470mV,0,0,0,0,0,121,0*3E!

2011.11.10 13:41:40 DEBUG: Raw match found.
2011.11.10 13:41:40 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 136.0, 'azimuth': 149.0, 'longitude': 38.273516666666666, 'odometer': 121.0, 'satellitescount': 7, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,134140,E03816.4110,N5552.8070,136,46.97624190064795,149,7,1.1,14600,14470mV,0,0,0,0,0,121,0*3E!', 'time': '2011-11-10T13:41:40.000000', 'latitude': 55.880116666666666, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 121.0, 'digital_input2': 0, 'speed': 87.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 87.0, 'uid': '457460032240926_888'}
2011.11.10 13:41:41 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.30969047546387 seconds\\n","1":"Average query length: 0.0065891590524227 seconds\\n","2":"Queries per second: 151.76443489133\\n","3":"Longest query length: 0.047632932662964\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.031322956085205},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0057289600372314},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1jtdg3i94jmevbg64fgvjrdc73\')))","Time":0.00094985961914062},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.0029540061950684},{"SQL":"select * from obj_info(38910)","Time":0.00057077407836914},{"SQL":"select * from obj_info(38910)","Time":0.00030088424682617},{"SQL":"select * from obj_prop_total(38910)","Time":0.047632932662964},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0014529228210449},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.0010261535644531},{"SQL":"select obj_is_deleted(104) as code","Time":0.00051689147949219},{"SQL":"select * from obj_info(104)","Time":0.00029611587524414},{"SQL":"select * from f_prop_total(104)","Time":0.017741918563843},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0037600994110107},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0026149749755859},{"SQL":"select * from t_options(\'1006667041\')","Time":0.036612033843994},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0013270378112793},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0016791820526123},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00063991546630859},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00075411796569824},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00074911117553711},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0024938583374023},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040388107299805},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.001227855682373},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0020489692687988},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.012779951095581},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063085556030273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056004524230957},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005650520324707},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054287910461426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005500316619873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00082707405090332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005340576171875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005490779876709},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054097175598145},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055408477783203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054287910461426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055098533630371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.015471935272217},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.026731967926025},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090312957763672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.041198015213013},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.022130012512207},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:41:40\') as code","Time":0.016547918319702},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408395\')","Time":0.00092887878417969},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0004880428314209},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035214424133301},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040507316589355}]},"timeleft":false}'
2011.11.10 13:41:41 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:41:41 DEBUG: Data chunk = b''
2011.11.10 13:41:44 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:41:44 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:41:44 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:41:44 DEBUG: Recieving...
2011.11.10 13:41:44 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,134144,E03126.1250,N5832.3100,19,62.63498920086393,82,11,1.1,14600,14470mV,0,0,0,0,0,291,0*06!\r\n'
2011.11.10 13:41:44 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,134144,E03126.1250,N5832.3100,19,62.63498920086393,82,11,1.1,14600,14470mV,0,0,0,0,0,291,0*06!\r\n']
2011.11.10 13:41:44 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,134144,E03126.1250,N5832.3100,19,62.63498920086393,82,11,1.1,14600,14470mV,0,0,0,0,0,291,0*06!

2011.11.10 13:41:44 DEBUG: Raw match found.
2011.11.10 13:41:44 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 19.0, 'azimuth': 82.0, 'longitude': 31.435416666666665, 'odometer': 291.0, 'satellitescount': 11, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,134144,E03126.1250,N5832.3100,19,62.63498920086393,82,11,1.1,14600,14470mV,0,0,0,0,0,291,0*06!', 'time': '2011-11-10T13:41:44.000000', 'latitude': 58.5385, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 291.0, 'digital_input2': 0, 'speed': 116.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 116.0, 'uid': '657460032240926_888'}
2011.11.10 13:41:45 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:41:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:41:45 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:41:45 DEBUG: Recieving...
2011.11.10 13:41:45 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,134145,E03744.9990,N5608.8720,187,32.39740820734341,321,12,1.1,14600,14470mV,0,0,0,0,0,134,0*0E!\r\n'
2011.11.10 13:41:45 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,134145,E03744.9990,N5608.8720,187,32.39740820734341,321,12,1.1,14600,14470mV,0,0,0,0,0,134,0*0E!\r\n']
2011.11.10 13:41:45 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,134145,E03744.9990,N5608.8720,187,32.39740820734341,321,12,1.1,14600,14470mV,0,0,0,0,0,134,0*0E!

2011.11.10 13:41:45 DEBUG: Raw match found.
2011.11.10 13:41:45 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 187.0, 'azimuth': 321.0, 'longitude': 37.74998333333333, 'odometer': 134.0, 'satellitescount': 12, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,134145,E03744.9990,N5608.8720,187,32.39740820734341,321,12,1.1,14600,14470mV,0,0,0,0,0,134,0*0E!', 'time': '2011-11-10T13:41:45.000000', 'latitude': 56.147866666666665, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 134.0, 'digital_input2': 0, 'speed': 60.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 60.0, 'uid': '557460032240926_888'}
2011.11.10 13:41:46 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 1.0827565193176 seconds\\n","1":"Average query length: 0.023037372751439 seconds\\n","2":"Queries per second: 43.407727555979\\n","3":"Longest query length: 0.38908386230469\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.38908386230469},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0039210319519043},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'3vopuupa9ge6vd7bg0pbrprv82\')))","Time":0.13239097595215},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0040760040283203},{"SQL":"select * from obj_info(58372)","Time":0.00088310241699219},{"SQL":"select * from obj_info(58372)","Time":0.00044798851013184},{"SQL":"select * from obj_prop_total(58372)","Time":0.066339015960693},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0023009777069092},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.0012009143829346},{"SQL":"select obj_is_deleted(104) as code","Time":0.00058794021606445},{"SQL":"select * from obj_info(104)","Time":0.00042009353637695},{"SQL":"select * from f_prop_total(104)","Time":0.033313989639282},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0043830871582031},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0038290023803711},{"SQL":"select * from t_options(\'1006667041\')","Time":0.060755014419556},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.0018470287322998},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0021519660949707},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00077199935913086},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00083494186401367},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00080490112304688},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0030691623687744},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00045514106750488},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0059020519256592},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0028769969940186},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.19364595413208},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.03008508682251},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066494941711426},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.045202016830444},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0014278888702393},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076913833618164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.024034023284912},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.026609182357788},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0051670074462891},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064897537231445},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087618827819824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061798095703125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068116188049316},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006260871887207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0006260871887207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00075101852416992},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00063014030456543},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00060510635375977},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:41:44\') as code","Time":0.024739027023315},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408396\')","Time":0.00049901008605957},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043916702270508},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00035715103149414},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040698051452637}]},"timeleft":false}'
2011.11.10 13:41:46 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:41:46 DEBUG: Data chunk = b''
2011.11.10 13:41:47 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 1.2711453437805 seconds\\n","1":"Average query length: 0.016090447389627 seconds\\n","2":"Queries per second: 62.148675905971\\n","3":"Longest query length: 0.34802484512329\\n","4":"Longest query: \\nconnect\\n","Queries":[{"SQL":"connect","Time":0.34802484512329},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0078580379486084},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'5v8b1tail73aqh29qf4pqr5823\')))","Time":0.00072002410888672},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0062990188598633},{"SQL":"select * from obj_info(58369)","Time":0.00080108642578125},{"SQL":"select * from obj_info(58369)","Time":0.00045394897460938},{"SQL":"select * from obj_prop_total(58369)","Time":0.071053981781006},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0017828941345215},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.001378059387207},{"SQL":"select obj_is_deleted(104) as code","Time":0.00098395347595215},{"SQL":"select * from obj_info(104)","Time":0.00045609474182129},{"SQL":"select * from f_prop_total(104)","Time":0.027318954467773},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0033628940582275},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0031890869140625},{"SQL":"select * from t_options(\'1006667041\')","Time":0.037552833557129},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0011959075927734},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.001223087310791},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070500373840332},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00070881843566895},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00072002410888672},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0027709007263184},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.0003349781036377},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.032296895980835},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0018410682678223},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.11739611625671},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.011463165283203},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.051100969314575},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.032531023025513},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.038644075393677},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.046355962753296},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.11087083816528},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0077230930328369},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0045020580291748},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0031728744506836},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.098525762557983},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.02186107635498},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010039806365967},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.024722099304199},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.025143146514893},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.023573875427246},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000762939453125},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00053310394287109},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:41:45\') as code","Time":0.015046119689941},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408397\')","Time":0.0012359619140625},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0008549690246582},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.0005488395690918},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.0006411075592041},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00083589553833008},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408394)","Time":0.00045394897460938},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00027990341186523},{"SQL":"select * from acc_list(58369)","Time":0.00077009201049805},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0025749206542969},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0011529922485352},{"SQL":"select z_has_point(1002846847, 56.146933333333, 37.751366666667, null) as state","Time":0.0041391849517822},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00027108192443848},{"SQL":"select z_has_point(171930, 56.146933333333, 37.751366666667, null) as state","Time":0.002795934677124},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00048208236694336},{"SQL":"select z_has_point(1387421, 56.146933333333, 37.751366666667, null) as state","Time":0.003882884979248},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00031399726867676},{"SQL":"select z_has_point(1387486, 56.146933333333, 37.751366666667, null) as state","Time":0.0023660659790039},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00026392936706543},{"SQL":"select z_has_point(1387485, 56.146933333333, 37.751366666667, null) as state","Time":0.0021851062774658},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00030016899108887},{"SQL":"select z_has_point(1387499, 56.146933333333, 37.751366666667, null) as state","Time":0.0024240016937256},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00026607513427734},{"SQL":"select z_has_point(1387483, 56.146933333333, 37.751366666667, null) as state","Time":0.0022599697113037},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00025200843811035},{"SQL":"select z_has_point(1387484, 56.146933333333, 37.751366666667, null) as state","Time":0.0021560192108154},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00040507316589355},{"SQL":"select z_has_point(1387619, 56.146933333333, 37.751366666667, null) as state","Time":0.0025348663330078},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.00027799606323242},{"SQL":"select z_has_point(8710, 56.146933333333, 37.751366666667, null) as state","Time":0.0023999214172363},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.00038504600524902},{"SQL":"select z_has_point(1002827265, 56.146933333333, 37.751366666667, null) as state","Time":0.0034990310668945},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00024700164794922},{"SQL":"select z_has_point(37627, 56.146933333333, 37.751366666667, null) as state","Time":0.0021798610687256},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00075197219848633},{"SQL":"select * from notif_get_by_object(58369)","Time":0.022235870361328},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:41:29\') as code","Time":0.014556884765625}]},"timeleft":false}'
2011.11.10 13:41:47 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:41:47 DEBUG: Data chunk = b''
2011.11.10 13:41:50 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:41:50 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:41:50 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:41:50 DEBUG: Recieving...
2011.11.10 13:41:50 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,134150,E03816.4890,N5552.7350,135,50.75593952483801,149,2,1.1,14600,14470mV,0,0,0,0,0,157,0*3A!\r\n'
2011.11.10 13:41:50 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,134150,E03816.4890,N5552.7350,135,50.75593952483801,149,2,1.1,14600,14470mV,0,0,0,0,0,157,0*3A!\r\n']
2011.11.10 13:41:50 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,134150,E03816.4890,N5552.7350,135,50.75593952483801,149,2,1.1,14600,14470mV,0,0,0,0,0,157,0*3A!

2011.11.10 13:41:50 DEBUG: Raw match found.
2011.11.10 13:41:50 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 135.0, 'azimuth': 149.0, 'longitude': 38.274816666666666, 'odometer': 157.0, 'satellitescount': 2, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,134150,E03816.4890,N5552.7350,135,50.75593952483801,149,2,1.1,14600,14470mV,0,0,0,0,0,157,0*3A!', 'time': '2011-11-10T13:41:50.000000', 'latitude': 55.87891666666667, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 157.0, 'digital_input2': 0, 'speed': 94.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 94.0, 'uid': '457460032240926_888'}
2011.11.10 13:41:51 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.24193024635315 seconds\\n","1":"Average query length: 0.005147452050067 seconds\\n","2":"Queries per second: 194.27087232158\\n","3":"Longest query length: 0.045922040939331\\n","4":"Longest query: \\nselect * from obj_prop_total(38910)\\n","Queries":[{"SQL":"connect","Time":0.028252124786377},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0035169124603271},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'vt8qn7olv93bphea8banqjiak2\')))","Time":0.0010499954223633},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.002626895904541},{"SQL":"select * from obj_info(38910)","Time":0.00071811676025391},{"SQL":"select * from obj_info(38910)","Time":0.00050520896911621},{"SQL":"select * from obj_prop_total(38910)","Time":0.045922040939331},{"SQL":"select obj_is_deleted(38910) as code","Time":0.001539945602417},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.001305103302002},{"SQL":"select obj_is_deleted(104) as code","Time":0.0007789134979248},{"SQL":"select * from obj_info(104)","Time":0.00068807601928711},{"SQL":"select * from f_prop_total(104)","Time":0.016916036605835},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0026500225067139},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0023689270019531},{"SQL":"select * from t_options(\'1006667041\')","Time":0.039580106735229},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.0068721771240234},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.042786836624146},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0008690357208252},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00057387351989746},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00073099136352539},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0029191970825195},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00043392181396484},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0044960975646973},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.001884937286377},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00689697265625},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00061202049255371},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057506561279297},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054597854614258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051999092102051},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054311752319336},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055789947509766},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00054693222045898},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00051498413085938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00083494186401367},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055289268493652},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050711631774902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050997734069824},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005030632019043},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050592422485352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0005040168762207},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050592422485352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00050687789916992},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:41:50\') as code","Time":0.013900995254517},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408398\')","Time":0.0005800724029541},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00043892860412598},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00037908554077148},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00040197372436523}]},"timeleft":false}'
2011.11.10 13:41:51 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:41:51 DEBUG: Data chunk = b''
2011.11.10 13:42:00 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:42:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:42:00 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:42:00 DEBUG: Recieving...
2011.11.10 13:42:00 DEBUG: Data chunk = b'GSr,457460032240926_888,00,5,e080,e080,3,101111,134200,E03816.5720,N5552.6580,134,53.99568034557235,149,6,1.1,14600,14470mV,0,0,0,0,0,167,0*3C!\r\n'
2011.11.10 13:42:00 DEBUG: Total data = ['GSr,457460032240926_888,00,5,e080,e080,3,101111,134200,E03816.5720,N5552.6580,134,53.99568034557235,149,6,1.1,14600,14470mV,0,0,0,0,0,167,0*3C!\r\n']
2011.11.10 13:42:00 DEBUG: Data recieved:
GSr,457460032240926_888,00,5,e080,e080,3,101111,134200,E03816.5720,N5552.6580,134,53.99568034557235,149,6,1.1,14600,14470mV,0,0,0,0,0,167,0*3C!

2011.11.10 13:42:00 DEBUG: Raw match found.
2011.11.10 13:42:00 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 134.0, 'azimuth': 149.0, 'longitude': 38.2762, 'odometer': 167.0, 'satellitescount': 6, '__rawdata': 'GSr,457460032240926_888,00,5,e080,e080,3,101111,134200,E03816.5720,N5552.6580,134,53.99568034557235,149,6,1.1,14600,14470mV,0,0,0,0,0,167,0*3C!', 'time': '2011-11-10T13:42:00.000000', 'latitude': 55.877633333333335, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 167.0, 'digital_input2': 0, 'speed': 100.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 100.0, 'uid': '457460032240926_888'}
2011.11.10 13:42:01 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:42:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:42:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:42:01 DEBUG: Recieving...
2011.11.10 13:42:01 DEBUG: Data chunk = b'GSr,657460032240926_888,00,5,e080,e080,3,101111,134201,E03126.4490,N5832.3340,19,61.55507559395248,82,7,1.1,14600,14470mV,0,0,0,0,0,317,0*30!\r\n'
2011.11.10 13:42:01 DEBUG: Total data = ['GSr,657460032240926_888,00,5,e080,e080,3,101111,134201,E03126.4490,N5832.3340,19,61.55507559395248,82,7,1.1,14600,14470mV,0,0,0,0,0,317,0*30!\r\n']
2011.11.10 13:42:01 DEBUG: Data recieved:
GSr,657460032240926_888,00,5,e080,e080,3,101111,134201,E03126.4490,N5832.3340,19,61.55507559395248,82,7,1.1,14600,14470mV,0,0,0,0,0,317,0*30!

2011.11.10 13:42:01 DEBUG: Raw match found.
2011.11.10 13:42:01 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 19.0, 'azimuth': 82.0, 'longitude': 31.440816666666667, 'odometer': 317.0, 'satellitescount': 7, '__rawdata': 'GSr,657460032240926_888,00,5,e080,e080,3,101111,134201,E03126.4490,N5832.3340,19,61.55507559395248,82,7,1.1,14600,14470mV,0,0,0,0,0,317,0*30!', 'time': '2011-11-10T13:42:01.000000', 'latitude': 58.5389, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 317.0, 'digital_input2': 0, 'speed': 114.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 114.0, 'uid': '657460032240926_888'}
2011.11.10 13:42:01 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.38565564155579 seconds\\n","1":"Average query length: 0.008205439182038 seconds\\n","2":"Queries per second: 121.87038107467\\n","3":"Longest query length: 0.07243800163269\\n","4":"Longest query: \\nSELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1v789ge4l3gevj1rfl1t9dtom5\')))\\n","Queries":[{"SQL":"connect","Time":0.026521921157837},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.004784107208252},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'1v789ge4l3gevj1rfl1t9dtom5\')))","Time":0.07243800163269},{"SQL":"select d_get_by_uid(\'457460032240926_888\') as id","Time":0.003352165222168},{"SQL":"select * from obj_info(38910)","Time":0.00094079971313477},{"SQL":"select * from obj_info(38910)","Time":0.00045204162597656},{"SQL":"select * from obj_prop_total(38910)","Time":0.05146312713623},{"SQL":"select obj_is_deleted(38910) as code","Time":0.0015590190887451},{"SQL":"select obj_get_firm_id(38910) as id","Time":0.00074291229248047},{"SQL":"select obj_is_deleted(104) as code","Time":0.00045394897460938},{"SQL":"select * from obj_info(104)","Time":0.00028085708618164},{"SQL":"select * from f_prop_total(104)","Time":0.016097784042358},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'38910\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0025551319122314},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0020489692687988},{"SQL":"select * from t_options(\'1006667041\')","Time":0.034633159637451},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'38910\'","Time":0.001133918762207},{"SQL":"select * from d_daily_params2(\'38910\', null)","Time":0.0022180080413818},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00072288513183594},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 38910) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00061202049255371},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0008699893951416},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0038139820098877},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00040316581726074},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0040960311889648},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.001910924911499},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.034512042999268},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0064330101013184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.013211965560913},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0091087818145752},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0072700977325439},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.006187915802002},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.012220859527588},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0035898685455322},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0040900707244873},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087904930114746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011439323425293},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00087904930114746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0071859359741211},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011460781097412},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0074920654296875},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0011370182037354},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.010284900665283},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00099301338195801},{"SQL":"select obj_prop_set(38910, \'LastPacketObtained\', \'2011-11-10 13:42:00\') as code","Time":0.021572113037109},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408399\')","Time":0.00075101852416992},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00053882598876953},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00049018859863281},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00043296813964844}]},"timeleft":false}'
2011.11.10 13:42:01 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:42:01 DEBUG: Data chunk = b''
2011.11.10 13:42:02 DEBUG: b'{"success":true,"profiler":{"0":"Executed 47 queries in 0.29707860946655 seconds\\n","1":"Average query length: 0.0063208214780118 seconds\\n","2":"Queries per second: 158.20728420803\\n","3":"Longest query length: 0.08228588104248\\n","4":"Longest query: \\nselect * from obj_prop_total(58372)\\n","Queries":[{"SQL":"connect","Time":0.025286197662354},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0036230087280273},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'3qv805ouamka0bmu5rpm9rlp70\')))","Time":0.00071597099304199},{"SQL":"select d_get_by_uid(\'657460032240926_888\') as id","Time":0.0026910305023193},{"SQL":"select * from obj_info(58372)","Time":0.00064301490783691},{"SQL":"select * from obj_info(58372)","Time":0.00034904479980469},{"SQL":"select * from obj_prop_total(58372)","Time":0.08228588104248},{"SQL":"select obj_is_deleted(58372) as code","Time":0.0014641284942627},{"SQL":"select obj_get_firm_id(58372) as id","Time":0.00069093704223633},{"SQL":"select obj_is_deleted(104) as code","Time":0.00052881240844727},{"SQL":"select * from obj_info(104)","Time":0.00030708312988281},{"SQL":"select * from f_prop_total(104)","Time":0.016731977462769},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58372\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0033299922943115},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022377967834473},{"SQL":"select * from t_options(\'1006667041\')","Time":0.039131164550781},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58372\'","Time":0.054603099822998},{"SQL":"select * from d_daily_params2(\'58372\', null)","Time":0.0023469924926758},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00096797943115234},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58372) ORDER BY \\"time\\" desc LIMIT 1","Time":0.0008089542388916},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.00095796585083008},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0042378902435303},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00057005882263184},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0018060207366943},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0019710063934326},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0091819763183594},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00097298622131348},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086593627929688},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081801414489746},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00072908401489258},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00070810317993164},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076794624328613},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069808959960938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069212913513184},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00076389312744141},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00066709518432617},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.000579833984375},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00081396102905273},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00064396858215332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008399486541748},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00056815147399902},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00055313110351562},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057697296142578},{"SQL":"select obj_prop_set(58372, \'LastPacketObtained\', \'2011-11-10 13:42:01\') as code","Time":0.024950981140137},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408400\')","Time":0.00069403648376465},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.00059413909912109},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00053620338439941},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00057601928710938}]},"timeleft":false}'
2011.11.10 13:42:02 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:42:02 DEBUG: Data chunk = b''
2011.11.10 13:42:05 DEBUG: Protocol handler:  Globalsat. TR-600 
2011.11.10 13:42:05 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::__init__()
2011.11.10 13:42:05 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::dispatch()
2011.11.10 13:42:05 DEBUG: Recieving...
2011.11.10 13:42:05 DEBUG: Data chunk = b'GSr,557460032240926_888,00,5,e080,e080,3,101111,134205,E03744.9910,N5608.9090,189,33.47732181425486,353,4,1.1,14600,14470mV,0,0,0,0,0,69,0*09!\r\n'
2011.11.10 13:42:05 DEBUG: Total data = ['GSr,557460032240926_888,00,5,e080,e080,3,101111,134205,E03744.9910,N5608.9090,189,33.47732181425486,353,4,1.1,14600,14470mV,0,0,0,0,0,69,0*09!\r\n']
2011.11.10 13:42:05 DEBUG: Data recieved:
GSr,557460032240926_888,00,5,e080,e080,3,101111,134205,E03744.9910,N5608.9090,189,33.47732181425486,353,4,1.1,14600,14470mV,0,0,0,0,0,69,0*09!

2011.11.10 13:42:05 DEBUG: Raw match found.
2011.11.10 13:42:05 INFO: {'battery_level': 1, 'hdop': 1.1, 'movementsensor': 1, 'altitude': 189.0, 'azimuth': 353.0, 'longitude': 37.74985, 'odometer': 69.0, 'satellitescount': 4, '__rawdata': 'GSr,557460032240926_888,00,5,e080,e080,3,101111,134205,E03744.9910,N5608.9090,189,33.47732181425486,353,4,1.1,14600,14470mV,0,0,0,0,0,69,0*09!', 'time': '2011-11-10T13:42:05.000000', 'latitude': 56.14848333333333, 'sensors': {'acc': 1, 'analog_input0': 0.0, 'counter0': 0.0, 'battery_disconnect': 0, 'gps_antenna_fail': 0, 'digital_input1': 0, 'digital_output1': 0, 'digital_input3': 0, 'battery_discharge': 0, 'digital_output3': 0, 'digital_output2': 0, 'sos': 0, 'odometer': 69.0, 'digital_input2': 0, 'speed': 62.0, 'counter1': 0.0, 'counter2': 0.0, 'counter3': 0.0}, 'speed': 62.0, 'uid': '557460032240926_888'}
2011.11.10 13:42:06 DEBUG: b'{"success":true,"profiler":{"0":"Executed 79 queries in 0.28686618804932 seconds\\n","1":"Average query length: 0.0036312175702445 seconds\\n","2":"Queries per second: 275.38972277353\\n","3":"Longest query length: 0.049612998962402\\n","4":"Longest query: \\nselect * from obj_prop_total(58369)\\n","Queries":[{"SQL":"connect","Time":0.025645017623901},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'session\' ORDER BY a.attnum","Time":0.0052769184112549},{"SQL":"SELECT \\"session\\".* FROM \\"session\\" WHERE (((\\"session\\".\\"id\\" = \'nj545n6jleh74a28h477nnaep7\')))","Time":0.0011248588562012},{"SQL":"select d_get_by_uid(\'557460032240926_888\') as id","Time":0.0046060085296631},{"SQL":"select * from obj_info(58369)","Time":0.00089192390441895},{"SQL":"select * from obj_info(58369)","Time":0.00034904479980469},{"SQL":"select * from obj_prop_total(58369)","Time":0.049612998962402},{"SQL":"select obj_is_deleted(58369) as code","Time":0.0014481544494629},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00071907043457031},{"SQL":"select obj_is_deleted(104) as code","Time":0.00043892860412598},{"SQL":"select * from obj_info(104)","Time":0.00025701522827148},{"SQL":"select * from f_prop_total(104)","Time":0.015079021453857},{"SQL":"\\n\\t\\tselect (cast(obj_prop_get(\'58369\', \'BlockDate\', \'2000-01-01\') as date)\\n\\t\\t\\t= current_date) as isblocked","Time":0.0024218559265137},{"SQL":"select t_find_by_loginId(9876, null) as id","Time":0.0022540092468262},{"SQL":"select * from t_options(\'1006667041\')","Time":0.042074918746948},{"SQL":"\\n\\t\\tselect extract(epoch from current_timestamp - max(event_dt)) as val\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = \'58369\'","Time":0.0012240409851074},{"SQL":"select * from d_daily_params2(\'58369\', null)","Time":0.001262903213501},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00074601173400879},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (id_device = 58369) ORDER BY \\"time\\" desc LIMIT 1","Time":0.00067305564880371},{"SQL":"\\n\\t\\tselect * from mon_packet_sensor\\n\\t\\twhere id_packet = ?","Time":0.0006859302520752},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet\' ORDER BY a.attnum","Time":0.0036208629608154},{"SQL":"SELECT NEXTVAL(\'\\"mon_packet_id_seq\\"\')","Time":0.00034809112548828},{"SQL":"INSERT INTO \\"mon_packet\\" (\\"id_device\\", \\"id_type\\", \\"time\\", \\"latitude\\", \\"longitude\\", \\"altitude\\", \\"azimuth\\", \\"speed\\", \\"odometer\\", \\"movementsensor\\", \\"address\\", \\"satellitescount\\", \\"hdop\\", \\"id\\") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)","Time":0.0014820098876953},{"SQL":"SELECT\\n                a.attnum,\\n                n.nspname,\\n                c.relname,\\n                a.attname AS colname,\\n                t.typname AS type,\\n                a.atttypmod,\\n                FORMAT_TYPE(a.atttypid, a.atttypmod) AS complete_type,\\n                d.adsrc AS default_value,\\n                a.attnotnull AS notnull,\\n                a.attlen AS length,\\n                co.contype,\\n                ARRAY_TO_STRING(co.conkey, \',\') AS conkey\\n            FROM pg_attribute AS a\\n                JOIN pg_class AS c ON a.attrelid = c.oid\\n                JOIN pg_namespace AS n ON c.relnamespace = n.oid\\n                JOIN pg_type AS t ON a.atttypid = t.oid\\n                LEFT OUTER JOIN pg_constraint AS co ON (co.conrelid = c.oid\\n                    AND a.attnum = ANY(co.conkey) AND co.contype = \'p\')\\n                LEFT OUTER JOIN pg_attrdef AS d ON d.adrelid = c.oid AND d.adnum = a.attnum\\n            WHERE a.attnum > 0 AND c.relname = \'mon_packet_sensor\' ORDER BY a.attnum","Time":0.0017662048339844},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0088109970092773},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00090503692626953},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00088691711425781},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010139942169189},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008540153503418},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00069808959960938},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059103965759277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057792663574219},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00057291984558105},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00068902969360352},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059795379638672},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00065207481384277},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00059008598327637},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00058293342590332},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0010378360748291},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.0008699893951416},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00086402893066406},{"SQL":"INSERT INTO \\"mon_packet_sensor\\" (\\"id_packet\\", \\"sensor\\", \\"val\\") VALUES (?, ?, ?)","Time":0.00089001655578613},{"SQL":"select obj_prop_set(58369, \'LastPacketObtained\', \'2011-11-10 13:42:05\') as code","Time":0.015947103500366},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = \'1408401\')","Time":0.0005340576171875},{"SQL":"\\n\\t\\tselect max(id) as maxid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?\\n\\t\\t  and time < ?","Time":0.0004429817199707},{"SQL":"\\n\\t\\tselect max(time) as maxtime\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and id < ?","Time":0.00034022331237793},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet p\\n\\t\\twhere p.id_device = ?\\n\\t\\t  and p.id = ?\\n\\t\\t  and p.time = ?","Time":0.00042581558227539},{"SQL":"\\n\\t\\tselect *,\\n\\t\\t  id_device as deviceid\\n\\t\\tfrom mon_packet\\n\\t\\twhere id_device = ?\\n\\t\\t  and time > ?\\n\\t\\t  and time <= coalesce(?, current_timestamp + interval \'100 day\')\\n\\t\\torder by time desc","Time":0.00053310394287109},{"SQL":"SELECT \\"mon_packet\\".* FROM \\"mon_packet\\" WHERE (state <> 3) AND (id = 1408397)","Time":0.00087499618530273},{"SQL":"select obj_get_firm_id(58369) as id","Time":0.00033283233642578},{"SQL":"select * from acc_list(58369)","Time":0.0015430450439453},{"SQL":"select * from web_firm_objects(16, \'zone\')","Time":0.0028431415557861},{"SQL":"select d_check_zone(58369, 1002846847) as state","Time":0.0014920234680176},{"SQL":"select z_has_point(1002846847, 56.147866666667, 37.749983333333, null) as state","Time":0.0033950805664062},{"SQL":"select d_check_zone(58369, 171930) as state","Time":0.00034117698669434},{"SQL":"select z_has_point(171930, 56.147866666667, 37.749983333333, null) as state","Time":0.0021939277648926},{"SQL":"select d_check_zone(58369, 1387421) as state","Time":0.00023603439331055},{"SQL":"select z_has_point(1387421, 56.147866666667, 37.749983333333, null) as state","Time":0.002295970916748},{"SQL":"select d_check_zone(58369, 1387486) as state","Time":0.00025010108947754},{"SQL":"select z_has_point(1387486, 56.147866666667, 37.749983333333, null) as state","Time":0.0021529197692871},{"SQL":"select d_check_zone(58369, 1387485) as state","Time":0.00033807754516602},{"SQL":"select z_has_point(1387485, 56.147866666667, 37.749983333333, null) as state","Time":0.002453088760376},{"SQL":"select d_check_zone(58369, 1387499) as state","Time":0.00027704238891602},{"SQL":"select z_has_point(1387499, 56.147866666667, 37.749983333333, null) as state","Time":0.003303050994873},{"SQL":"select d_check_zone(58369, 1387483) as state","Time":0.00032901763916016},{"SQL":"select z_has_point(1387483, 56.147866666667, 37.749983333333, null) as state","Time":0.0033690929412842},{"SQL":"select d_check_zone(58369, 1387484) as state","Time":0.00029897689819336},{"SQL":"select z_has_point(1387484, 56.147866666667, 37.749983333333, null) as state","Time":0.0033369064331055},{"SQL":"select d_check_zone(58369, 1387619) as state","Time":0.00047802925109863},{"SQL":"select z_has_point(1387619, 56.147866666667, 37.749983333333, null) as state","Time":0.0026159286499023},{"SQL":"select d_check_zone(58369, 8710) as state","Time":0.0003199577331543},{"SQL":"select z_has_point(8710, 56.147866666667, 37.749983333333, null) as state","Time":0.0023441314697266},{"SQL":"select d_check_zone(58369, 1002827265) as state","Time":0.0002748966217041},{"SQL":"select z_has_point(1002827265, 56.147866666667, 37.749983333333, null) as state","Time":0.002331018447876},{"SQL":"select d_check_zone(58369, 37627) as state","Time":0.00026583671569824},{"SQL":"select z_has_point(37627, 56.147866666667, 37.749983333333, null) as state","Time":0.0021429061889648},{"SQL":"select * from web_firm_objects(104, \'zone\')","Time":0.00061988830566406},{"SQL":"select * from notif_get_by_object(58369)","Time":0.023554086685181},{"SQL":"select obj_prop_set(58369, \'LastNormalPacket\', \'2011-11-10 13:41:45\') as code","Time":0.016345977783203}]},"timeleft":false}'
2011.11.10 13:42:06 DEBUG: <class 'lib.handlers.globalsat.tr-600.Handler'>::store() ... OK
2011.11.10 13:42:06 DEBUG: Data chunk = b''
